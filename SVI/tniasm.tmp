zw.asm1 73 76PROGRAMADOR: EQU 078 84 91 FNAME "ZOMBNEAR.ROM"92 ORG $0000,$7fff94VDP: equ $80 95PSG: equ $88 96KEYSEL: equ $96 97KEY1: equ $99 99inicio_rom:100 DI101 LD SP,$FFFF102 IM 1103 JP INICIO 105 DB "ZOMBIE NEAR "106 DB "(c) "107 DB "2011-2015 Oscar "108 DB "Toledo G."110 ds $38-$,$ff112vector_nulo:113 jp vector_nmi115colores_pantalla_pc:116 db $fc117 db $f2118 db $f3119 db $f2121tabla_monigotes:122 dw zombie5_izq 123 dw zombie5_der 124 dw pascua 125 dw jefe 126 dw chica 127 dw entrada3 128 dw zombie4 129 dw zombie1_aba 130 dw zombie1_arr 131 dw vida 132 dw entrada2 133 dw zombie3_izq 134 dw zombie3_der 135 dw zombie3_arr 136 dw zombie3_aba 137 dw llave 138 dw cientifico 139 dw cientifica 140 dw mancha 141 dw esqueleto 142 dw mano_suelta 143 dw zombie1_izq 144 dw zombie1_der 145 dw zombie2_izq 146 dw zombie2_der 147 dw zombie2_arr 148 dw zombie2_aba 149 dw entrada1 154mueve_monstruos.15:155 dw mueve_monstruos.4 156 dw mueve_monstruos.8 157 dw mueve_monstruos.12 158 dw mueve_monstruos.17 159 dw mueve_monstruos.2 160 dw mueve_monstruos.9 161 dw mueve_monstruos.22 162 dw mueve_monstruos.13 163 dw mueve_monstruos.16 164 dw mueve_monstruos.14 165 dw mueve_monstruos.20 166 dw mueve_monstruos.25 167 dw mueve_monstruos.26 168 dw mueve_monstruos.28 169 dw mueve_monstruos.30 170 dw mueve_monstruos.36 171 dw mueve_monstruos.42 173 176dir_pantalla_pc:177 dw $224a178 dw $224b179 dw $2a4a180 dw $2a4b181 dw $324a182 dw $324b183 dw $324a184 dw $324b186 191WRTVDP:192 ld a,b193 out (VDP+1),a194 ld a,c195 or $80196 out (VDP+1),a197 ret199 204RDVRM: ld a,l205 out (VDP+1),a206 ld a,h207 and $3f208 out (VDP+1),a209 push af 210 pop af 211 ex (sp),hl 212 ex (sp),hl 213 in a,(VDP+4)214 ret216 221WRTVRM: push af222 call SETWRT 223 ex (sp),hl 224 ex (sp),hl 225 pop af 226 out (VDP),a227 ret 229 233SETWRT:234 ld a,l235 out (VDP+1),a236 ld a,h237 or $40238 out (VDP+1),a239 ret241 247FILVRM:248 PUSH AF249 call SETWRT 250.1: POP AF 251 OUT (VDP),A252 PUSH AF 253 DEC BC 254 LD A,B 255 OR C 256 JP NZ,.1 257 POP AF258 RET260 266LDIRVM:267 EX DE,HL268 call SETWRT 269.1: LD A,(DE) 270 OUT (VDP),A271 INC DE 272 DEC BC 273 LD A,B 274 OR C 275 JP NZ,.1 276 RET278vdp_copia_bloque:279 OUTI 280 NOP 281 NOP 282 JP NZ,$-4 283 RET285 290mensajito:291 ex de,hl292 ex (sp),hl293 ex de,hl294.0: ld a,(de)295 call WRTVRM296 inc hl297 inc de298 ld a,(de)299 inc a300 jr nz,.0301 inc de302 ex de,hl303 ex (sp),hl304 ex de,hl305 ret307 310checa_camino:311 ld d,0312 ld hl,caminable 313 ld a,e314 srl e 315 srl e316 add hl,de317 ld e,a318 and 3 319 inc a320 ld d,a321 ld a,(hl) 322.1: rlca 323 rlca324 dec d325 jp nz,.1326 rrca327 ret329 332MAX_MONIGOTES: equ 12334 337d_x: equ 0 338d_y: equ 1 339d_sprite: equ 2 340d_color: equ 3 341d_recarga: equ 4 342d_nivel: equ 5 343d_velocidad: equ 6 344d_energia: equ 7 345d_dx: equ 4 346d_dy: equ 5 347d_paso: equ 8 348d_tipo: equ 9 349d_ultimo: equ 10 350d_offset: equ 12 351d_refx: equ 14 352d_refy: equ 15 353d_real: equ 16 354d_moni: equ 18 355d_vidas: equ 20 356d_espera: equ 21 357d_basex: equ 22 358d_basey: equ 23 359d_puntos: equ 24 360d_objeto: equ 27 369d_trans: equ 28 370d_tiempo: equ 30 371d_mapa: equ 32 372d_estado: equ 34 373d_rescatados: equ 35 374d_temblor: equ 36 375d_dirtem: equ 37 376d_linea: equ 38 377d_puerta: equ 40 378d_mosaico: equ 42 379d_seccion: equ 43 384d_revivir: equ 44 386BASE_MOS: equ $38 388espera_int:389 halt390 ret392tabla_modo_2:393 DB $02 394 DB $82 395 DB $0E 396 DB $FF 397 DB $03 398 DB $76 399 DB $03 400 DB $01 402 405inicio:406 di407 410 ld sp,pila411 415 ld hl,$dfaf416 xor a417.2: ld (hl),a418 dec hl419 bit 2,h420 jr nz,.2421 424 in a,(VDP+5)426 429 call vdp_modo_2430 halt431 in a,($9a)432 and $f0433 or $07434 out (KEYSEL),A435 ex (sp),hl436 ex (sp),hl437 in a,(KEY1)438 rrca439 and 128440 ld (frec_video),a441 444 ld hl,$0658445 ld de,mensaje_14446 ld c,$a1447 call visual_mensaje1448 ld hl,$0860449 ld bc,$0840450 ld de,logo_mio451 call descompacta_rle_imagen452 ld bc,300453 call retardo454 457REINICIO:458 call presentacion459 ld a,(sprites)460 push af461 call limpia_sprites462 call espera_int463 call pantalla_negra464 467 xor a468 ld (modo),a469 473 call zona_dura474 ld hl,$3800475 ld bc,$0300476 xor a477 call FILVRM478 482 ld hl,letras483 ld de,$0000484 ld bc,$01a8485 call repetir486 call zona_facil487 ld hl,color_letras488 ld d,$20489 call repetir2490 493 ld hl,graf_bitmap494 ld de,$01c0495 ld bc,1600496 call repetir2497 ld hl,graf_color498 ld d,$21499 call repetir2500 503 call espera_int504 507 pop af508 cp $78 509 ld hl,jug_fuera510 jr z,$+5511 ld hl,jug1_inicial512 ld de,jug1513 ld bc,45514 ldir515 cp $69 516 ld hl,jug_fuera517 jr z,$+5518 ld hl,jug2_inicial519 ld c,45520 ldir521 ld hl,bits1522 ld b,102 523 ld (hl),0524 inc hl525 djnz $-3526 529 ld a,5 530 ld (modo),a531 537 call musica_general538 541 if 0 542 ld hl,$3800543 ld a,0544.1001: ld b,16545.1000: push bc546 push hl547 push af548 call dibuja_mosaico549 pop af550 pop hl551 pop bc552 inc a553 inc hl554 inc hl555 djnz .1000556 ld de,32557 add hl,de558 cp 80559 jr nz,.1001560 jr $561 else562 ld ix,jug1563 call actualiza_indicadores_nivel564 ld ix,jug2565 call actualiza_indicadores_nivel566 if 0567 ld ix,jug1568 jp .15570 573.10: call espera_int574 ld ix,jug1575 in a,($9a)576 and $f0577 or $00578 out (KEYSEL),a579 ex (sp),hl580 ex (sp),hl581 in a,(KEY1)582 and $0f583 cp $07584 jr z,.11585 cp $0d586 jr z,.12587 cp $0b588 jr z,.13589 cp $0e590 jr z,.14591 jr .10593.11: ld bc,5594 call retardo595 ld a,(ix+d_seccion)596 sub $10597 and $30598 ld (ix+d_seccion),a599 ld (ix+d_nivel),0600 jp .15602.12: ld bc,5603 call retardo604 ld a,(ix+d_seccion)605 add a,$10606 and $30607 ld (ix+d_seccion),a608 ld (ix+d_nivel),0609 jp .15611.13: ld bc,5612 call retardo613 dec (ix+d_nivel)614 jp .15616.14: ld bc,5617 call retardo618 inc (ix+d_nivel)619.15: call actualiza_indicadores_nivel620 call espera_int621 call actualiza_sprites622 jp .10624 endif625 628.1: ld hl,ciclo629 inc (hl)630 ld a,(hl)631 sub 6632 jr nz,$+5633 ld (hl),a 634 jr $+6636 call espera_int 637 call actualiza_sprites 638 call maneja_entrada 639 ld ix,jug1640 call avanza_historia 641 ld ix,jug2642 call avanza_historia 649 ld ix,jug1650 ld iy,jug2651 ld a,(ix+d_vidas) 652 or a 653 jp m,.6654 bit 7,(ix+d_objeto) 655 jr z,.5656.6: ld a,(iy+d_vidas) 657 or a 658 jp m,.7659 bit 7,(iy+d_objeto) 660 jr z,.5661.7: ld a,(ix+d_tiempo)662 or (ix+d_tiempo+1)663 or (iy+d_tiempo)664 or (iy+d_tiempo+1)665 jr nz,.5666 ld a,(ix+d_objeto)667 or (iy+d_objeto) 668 jp m,toma_final 669 jp REINICIO 671.5: 672 jr .1 673 endif675 678repetir:679 call .1680 call .1681.1: push bc682 push hl683 push de684 call LDIRVM685 pop de686 ld a,d687 add a,8688 ld d,a689 pop hl690 pop bc691 ret693 696repetir2:697 call .1698 call .1699.1: push bc700 push hl701 push de702 call unpack703 pop de704 ld a,d705 add a,8706 ld d,a707 pop hl708 pop bc709 ret711 719vector_nmi:720 push af721 push bc722 push de723 push hl724 exx725 ex af,af'726 push af727 push bc728 push de729 push hl730 ld hl,modo731 734 in a,(VDP+5) 735 call vector_int736 pop hl737 pop de738 pop bc739 pop af740 ex af,af'741 exx742 pop hl743 pop de744 pop bc745 pop af746 ei747 reti749zona_dura:750 di751 ret753zona_facil:754 ei755 ret757 767vector_int:768 771 bit 0,(hl) 772 jp z,vector_quieto 773 bit 2,(hl) 774 jp z,vector_presentacion 782 ld bc,sprites_heroes783 ld hl,(sprites_especiales+0)784 add hl,hl785 add hl,hl786 add hl,hl787 add hl,bc788 ex de,hl789 ld hl,(sprites_especiales+2)790 add hl,hl791 add hl,hl792 add hl,hl793 add hl,bc794 ld b,h795 ld c,l796 799 ld hl,$1800800 call SETWRT801 ld h,b802 ld l,c803 ex de,hl804 ld bc,$2000+VDP805 call vdp_copia_bloque806 ex de,hl807 ld b,32808 call vdp_copia_bloque809 812 ld bc,sprites_jefes813 ld hl,(sprites_especiales+4)814 res 4,l815 add hl,hl816 add hl,hl817 add hl,bc818 ex de,hl819 ld hl,(sprites_especiales+6)820 res 4,l821 add hl,hl822 add hl,hl823 add hl,bc824 ld b,h825 ld c,l826 829 ld hl,$1f00830 call SETWRT831 ld h,b832 ld l,c833 ex de,hl834 ld bc,$8000+VDP835 call vdp_copia_bloque836 ex de,hl837 ld b,128838 call vdp_copia_bloque839 842vector_presentacion:843 ld hl,$3B00844 call SETWRT845 ld hl,sprites846 ld bc,$7000+VDP847 call vdp_copia_bloque848 ld hl,modo849 bit 2,(hl) 850 jr z,vector_quieto 851 bit 5,(hl) 852 jr nz,vector_quieto 853 ld hl,dir_pantalla_pc854 ld a,(ticks)855 and 7856 add a,a857 add a,l858 ld l,a859 ld a,(hl)860 inc hl861 ld h,(hl)862 ld l,a863 push hl864 srl h865 rr l866 srl h867 rr l868 srl h869 rr l870 ld a,h871 and $03872 or $38873 ld h,a874 call RDVRM875 cp l876 pop hl877 jr z,vector_quieto878 call SETWRT879 ld a,(ticks)880 and 24881 rrca882 rrca883 rrca884 add a,colores_pantalla_pc and 255885 ld l,a886 ld h,colores_pantalla_pc>>8887 ld a,(hl)888 out (VDP),a889 892vector_quieto:893 894 ld a,(frec_video)895 rlca896 jr nz,.1897 ld hl,ciclo898 inc (hl)899 ld a,(hl)900 sub 6901 jr nz,.1902 ld (hl),a 903 ret905 908.1: call genera_sonido909 912 ld hl,(ticks)913 inc hl914 ld (ticks),hl915 ret917 920caracter_negro:921 LD H,$20922 LD A,$F1923 CALL .0924 LD H,$28925 CALL .0926 LD H,$30927 CALL .0928 LD H,$00929 XOR A930 CALL .0931 LD H,$08932 CALL .0933 LD H,$10934.0: LD L,0935 LD BC,8936 jp FILVRM938 942PANTALLA_NEGRA:943 call zona_dura944 call caracter_negro945 call zona_facil946 call espera_int947 LD DE,32948 LD C,32 952PANTALLA_NEGRA3:953 LD H,$38954 LD A,32955 SUB C956 LD L,A957 LD B,24 958 XOR A959PANTALLA_NEGRA2:960 call WRTVRM961 ADD HL,DE962 DJNZ PANTALLA_NEGRA2963 LD A,(ticks)964 LD B,A965 call espera_int966PANTALLA_NEGRA4:967 LD A,(ticks)968 CP B969 JR Z,PANTALLA_NEGRA4970 DEC C971 JR NZ,PANTALLA_NEGRA3972 975 call zona_dura976 call prepara_alta_resolucion977 JP zona_facil979 982carga_retrato:983 ex de,hl984 ld bc,$0840985993descompacta_rle_imagen:994 call zona_dura995 push bc996 push hl997.1: push bc998 push hl999 call descompacta_rle_bloque1000 pop hl1001 pop bc1002 inc h1003 djnz .11004 pop hl1005 pop bc1006 set 5,h1007.2: push bc1008 push hl1009 call descompacta_rle_bloque1010 pop hl1011 pop bc1012 inc h1013 djnz .21014 jp zona_facil1016 1031descompacta_rle_bloque:1032 call SETWRT1033.1:1034 LD A,(DE) 1035 INC DE1036 OR A1037 JP P,.2 1038 CPL 1039 LD B,A1040 LD A,(DE)1041 INC DE1042.3:1043 OUT (VDP),A 1044 DEC C 1045 PUSH AF 1046 POP AF 1047 DJNZ .3 1048 JP NZ,.1 1049 ret1051.2: CP $401052 jp c,.81053 and $3f1054 rra1055 ld b,a1056 sbc a,a1057 inc b1058 jr .31060.8: LD B,A1061.4:1062 LD A,(DE) 1063 INC DE 1064 OUT (VDP),A 1065 NOP 1066 DEC C 1067 DJNZ .4 1068 JP NZ,.1 1069 ret1071 1074visual_mensaje_idioma:1075 LD C,$A1 1081VISUAL_MENSAJE1:1082 call zona_dura1083.1: PUSH HL1084 CALL VISUAL_LINEA 1085 POP HL1086 INC H 1087 rlca 1088 jr nc,.1 1089 jp zona_facil1091 1100VISUAL_LINEA:1101 ld a,(de)1102 INC DE1103 push af1104 and $3f1105 CP $3e1106 CALL NC,deriva_numero1107 CALL VISUAL_LETRA1108 pop af1109 cp $401110 ret nc1111 jr VISUAL_LINEA1113 1116deriva_numero:1117 ld a,(ix+d_rescatados)1118 jr nz,.1 1119 rrca 1120 rrca1121 rrca1122 rrca1123.1: and $0f1124 add a,$20 1125 ret1127 1133VISUAL_LETRA:1134 PUSH DE1135 PUSH HL1136 PUSH BC1137 EX DE,HL1138 LD L,A1139 LD H,01140 ADD HL,HL1141 ADD HL,HL1142 ADD HL,HL1143 LD BC,LETRAS1144 ADD HL,BC1145 LD BC,81146 CALL LDIRVM 1147 POP BC1148 POP HL1149 1152 PUSH HL1153 SET 5,H1154 LD A,$F1 1155 call WRTVRM1156 INC HL1157 LD B,51158 LD A,C1159 OR $10 1160VISUAL_LETRA2:1161 call WRTVRM1162 INC HL1163 DJNZ VISUAL_LETRA21164 LD A,C 1165 call WRTVRM1166 INC HL1167 call WRTVRM1168 SRL H1169 RR L1170 SRL H1171 RR L1172 SRL H1173 RR L1174 LD DE,$3800-$0400 1175 ADD HL,DE1176 LD A,L1177 call WRTVRM1178 POP HL1179 LD DE,81180 ADD HL,DE1181 POP DE1182 RET1184 1188limpia_sprites:1189 ld hl,sprites1190 ld b,1281191.1: ld (hl),$d11192 inc hl1193 djnz .11194 ret1196 1200vdp_modo_2:1201 xor a1202 ld (modo),a 1203 LD HL,tabla_modo_21204 LD BC,$08001205.1: PUSH BC1206 LD B,(HL)1207 CALL WRTVDP1208 POP BC1209 INC C1210 INC HL1211 DJNZ .11212 1215 ld hl,musica1216 ld de,$3b801217 call unpack1218 call inicia_sonido1219 1222 ld hl,sprites_bin1223 ld de,$00001224 call unpack1225 ld hl,$00001226 ld de,$C0001227 ld bc,27521228.2: call RDVRM1229 inc hl1230 ld (de),a1231 inc de1232 dec bc1233 ld a,b1234 or c1235 jr nz,.21236 1239 LD HL,$3B001240 LD A,$D01241 LD C,$801242 CALL FILVRM1243 CALL limpia_sprites1244 1254 call prepara_alta_resolucion1255 ld bc,$e201 1256 jp WRTVDP1258 1261prepara_alta_resolucion:1262 xor a 1263 ld h,a1264 ld l,a1265 LD BC,61441266 CALL FILVRM1267 LD H,$20 1268 LD B,$181269 CALL FILVRM1270 ld h,$381271.2: ld a,l1272 call WRTVRM1273 inc hl1274 ld a,h1275 cp $3B1276 jr nz,.21277 ret1279 1282carga_nivel:1283 xor a 1284 ld (ix+d_trans),a1285 ld (ix+d_trans+1),a1286 1289 ld l,(ix+d_moni)1290 ld h,(ix+d_moni+1)1291 ld b,MAX_MONIGOTES*161292 xor a1293.3: ld (hl),a1294 inc hl1295 djnz .31296 1299 ld a,(ix+d_seccion)1300 and $301301 ld hl,mapa11302 jr z,.41303 ld hl,mapa21304 cp $101305 jr z,.41306 ld hl,mapa31307.4: 1308 1311 ld a,(ix+d_nivel)1312 call indice_nivel1313 ld e,(ix+d_real)1314 ld d,(ix+d_real+1)1315 push de1316 call descompacta_nivel1317 pop hl1318 1321 ld e,(ix+d_offset)1322 ld d,(ix+d_offset+1)1323 ld c,61324.1: push de1325 ld b,121326.2: push bc1327 ld a,(hl) 1328 cp 981329 call z,estima_cuadro1330 cp 971331 call z,anota_transportador1332 cp 901333 call nc,agrega_monigote1334 cp 841335 call nc,agrega_adorno1336 cp 791337 call nc,agrega_monigote1338 cp 781339 call nc,agrega_adorno1340 cp 721341 call nc,agrega_monigote1342 cp 671343 call nc,agrega_adorno1344 cp 611345 call z,agrega_monigote1346 cp 521347 jp nc,$+81348 cp 501349 call nc,mosaico_especial1350 ex de,hl1351 call dibuja_mosaico1352 ex de,hl1353 pop bc1354 inc hl1355 djnz .21356 pop de1357 push bc1358 ld bc,641359 ex de,hl1360 add hl,bc1361 ex de,hl1362 pop bc1363 dec c1364 jp nz,.11365 ret1367 1376dibuja_mosaico:1377 push bc1378 push de1379 1382 cp 51383 jr c,.121384 cp 91385 jr c,.131386.12: cp 161387 jr c,.141388 cp 201389 jr c,.151390.14: cp 521391 jp c,.191392 sub 321393.15: sub 71394.13: sub 51395 add a,a1396 add a,a1397 ld c,a1398 ld b,01399 push hl1400 ld hl,.101401 add hl,bc1402 ld d,(hl)1403 inc hl1404 ld e,(hl)1405 inc hl1406 ld b,(hl)1407 inc hl1408 ld c,(hl)1409 pop hl1410 jp .31412.10:1413 1414 db BASE_MOS+20,BASE_MOS+41415 db BASE_MOS+8,BASE_MOS+231416 1417 db BASE_MOS+4,BASE_MOS+251418 db BASE_MOS+26,BASE_MOS+131419 1420 db BASE_MOS+8,BASE_MOS+291421 db BASE_MOS+30,BASE_MOS+181422 1423 db BASE_MOS+32,BASE_MOS+331424 db BASE_MOS+18,BASE_MOS+351425 1426 db BASE_MOS+64,BASE_MOS+481427 db BASE_MOS+52,BASE_MOS+671428 1429 db BASE_MOS+48,BASE_MOS+691430 db BASE_MOS+70,BASE_MOS+571431 1432 db BASE_MOS+52,BASE_MOS+731433 db BASE_MOS+74,BASE_MOS+621434 1435 db BASE_MOS+76,BASE_MOS+571436 db BASE_MOS+62,BASE_MOS+791437 1438 db BASE_MOS+1,BASE_MOS+31439 db BASE_MOS+5,BASE_MOS+71440 1441 db BASE_MOS+10,BASE_MOS+111442 db BASE_MOS+14,BASE_MOS+151443 1444 db BASE_MOS+96,BASE_MOS+171445 db BASE_MOS+98,BASE_MOS+991446 1447 db BASE_MOS+145,BASE_MOS+1471448 db BASE_MOS+149,BASE_MOS+1511449 1450 db BASE_MOS+4,BASE_MOS+41451 db BASE_MOS+19,BASE_MOS+61452 1453 db BASE_MOS+4,BASE_MOS+41454 db BASE_MOS+21,BASE_MOS+61455 1456 db BASE_MOS+173,BASE_MOS+221457 db BASE_MOS+24,BASE_MOS+271458 1459 db BASE_MOS+31,BASE_MOS+281460 db BASE_MOS+28,BASE_MOS+311461 1462 db BASE_MOS+28,BASE_MOS+311463 db BASE_MOS+31,BASE_MOS+281464 1465 db BASE_MOS+49,BASE_MOS+511466 db BASE_MOS+54,BASE_MOS+551467 1468 db BASE_MOS+58,BASE_MOS+591469 db BASE_MOS+61,BASE_MOS+631470 1471 db BASE_MOS+65,BASE_MOS+661472 db BASE_MOS+68,BASE_MOS+711473 1474 db BASE_MOS+72,BASE_MOS+751475 db BASE_MOS+77,BASE_MOS+781476 1477 db BASE_MOS+153,BASE_MOS+1551478 db BASE_MOS+157,BASE_MOS+1591479 1480 db BASE_MOS+34,BASE_MOS+1961481 db BASE_MOS+197,BASE_MOS+1981483.19: add a,a1484 add a,a1485 add a,BASE_MOS1486 ld d,a1487 1490 cp 2*4+BASE_MOS1491 jr c,.01492 cp 12*4+BASE_MOS1493 jr z,.01494 cp 15*4+BASE_MOS1495 jr z,.01496 cp 4*4+BASE_MOS1497 jr z,.01498 1501 jr c,.41502 cp 13*4+BASE_MOS1503 jr z,.41504 cp 14*4+BASE_MOS1505 jr z,.41506 cp 40*4+BASE_MOS1507 jr nc,.71508 cp 36*4+BASE_MOS1509 jr nc,.01510.7:1512 inc a1513 ld e,a1514 inc a1515 ld b,a1516 inc a1517 jr .91519.4: inc a1520 ld e,a1521 ld b,d1522 jr .91523 1524.0: ld e,a1525 inc a1526 inc a1527 ld b,a1528.9: ld c,a1529 1530.3:1531 call zona_dura1532 ld a,d1533 call WRTVRM1534 inc hl1535 ld a,e1536 call WRTVRM1537 ld de,311538 add hl,de1539 ld a,b1540 call WRTVRM1541 inc hl1542 ld a,c1543 call WRTVRM1544 call zona_facil1545.2: ld de,-311546 add hl,de1547 pop de1548 pop bc1549 ret1551 1554mosaico_especial:1555 cp 501556 ld a,4 1557 ret z1558 ld a,15 1559 ret1561 1564anota_transportador:1565 ld (ix+d_trans),e1566 ld (ix+d_trans+1),d1567 jp estima_cuadro1569 1572agrega_adorno:1573 push bc1574 push de1575 push hl1576 push af1577 ld l,(ix+d_moni)1578 ld h,(ix+d_moni+1)1579 ld de,16*(MAX_MONIGOTES-1) 1581 add hl,de1582 1583.1: ld a,(hl)1584 or a1585 jr z,agrega_objeto1586 ld de,-161587 add hl,de1588 jr .11590 1593agrega_monigote:1594 push bc1595 push de1596 push hl1597 push af1598 ld l,(ix+d_moni)1599 ld h,(ix+d_moni+1)1600 ld de,16 1601 add hl,de1602 1603.1: ld a,(hl)1604 or a1605 jr z,agrega_objeto1606 add hl,de1607 jr .11609 1612agrega_objeto:1613 ld a,121614 sub b1615 add a,a1616 add a,a1617 add a,a1618 add a,a1619 add a,(ix+d_refx)1620 ld (hl),a1621 inc hl1622 ld a,61623 sub c1624 add a,a1625 add a,a1626 add a,a1627 add a,a1628 add a,(ix+d_refy)1629 ld (hl),a1630 inc hl1631 pop af1632 cp 611633 jp z,laser1634 push hl1635 sub 691636 ld hl,tabla_monigotes1637 add a,a1638 ld e,a 1639 add a,l1640 ld l,a1641 ld a,(hl)1642 inc hl1643 ld h,(hl)1644 ld l,a1645 ex (sp),hl1646 ret1648 1651laser: dec hl1652 dec hl1653 ld a,(hl)1654 sub 71655 ld (hl),a1656 inc hl1657 ld a,(hl)1658 add a,111659 ld (hl),a1660 inc hl1661 ld a,$081662 ld de,$00001663 ld bc,$010f1664 ex af,af'1665 ld a,15 1666 ex af,af'1667 jp anota_monigote1669pascua:1670 ld a,$bc1671 ex af,af'1672 ld a,151673 ex af,af'1674 ld de,01675 ld bc,$03111676 jp anota_monigote1678adorno:1679 ex af,af'1680 ld de,$00001681 ld bc,$01051682 jp anota_monigote1684jefe:1685 ld a,$901686 jr personaje1688chica:1689 ld a,$8c1690personaje:1691 set 3,(ix+d_objeto) 1692 ld de,$00001693 ld bc,$01051694 ex af,af'1695 ld a,151696 ex af,af'1697 jp anota_monigote1699entrada1:1700 ld a,20 1701entrada_general:1702 push af1703 xor a1704 dec hl1705 ld (hl),a1706 dec hl1707 ld (hl),a1708 ld hl,3001709 ld (ix+d_tiempo),l1710 ld (ix+d_tiempo+1),h1711 call musica_esperando1712 pop af1713 pop hl1714 pop de1715 pop bc1716 ret1718entrada2:1719 ld a,40 1720 jr entrada_general1721 1722entrada3:1723 ld a,21 1724 jr entrada_general1725 1726nada:1727 xor a1728 dec hl1729 ld (hl),a1730 dec hl1731 ld (hl),a1732 pop hl1733 pop de1734 pop bc1735 jp estima_cuadro1737 1742objeto_tomado:1743 ld c,(ix+d_nivel)1744 ld b,01745 ld e,(ix+d_mapa)1746 ld d,(ix+d_mapa+1)1747 ex de,hl1748 srl b1749 rr c1750 jr nc,.11751 rlca1752 rlca1753 rlca1754 rlca1755.1: add hl,bc1756 and (hl) 1757 ex de,hl1758 ld d,b1759 ld e,b1760 ret1762 1769objeto_borra:1770 ld e,(iy+d_nivel)1771 ld d,01772 ld l,(iy+d_mapa)1773 ld h,(iy+d_mapa+1)1774 srl d1775 rr e1776 jr nc,.21777 rlca1778 rlca1779 rlca1780 rlca1781.2: add hl,de1782 or (hl)1783 ld (hl),a 1784 ret1786 1789finaliza_monigote:1790 inc hl1791 inc hl1792 inc hl1793 ld a,(ix+d_refx)1794 ld (hl),a1795 inc hl1796 ld a,(ix+d_refy)1797 ld (hl),a1798 ret1800vida:1801 ld a,21802 call objeto_tomado1803 jp nz,nada 1804 ld a,$3c1805 ld bc,$010b1806 ex af,af'1807 ld a,91808 ex af,af'1809 jp anota_monigote1811llave:1812 ld a,41813 call objeto_tomado1814 jp nz,nada 1815 ld a,$101816 ld bc,$01071817 ex af,af'1818 ld a,111819 ex af,af'1820 jp anota_monigote1822cientifica:1823 nop 1824cientifico:1825 ex af,af'1826 ld a,11827 call objeto_tomado1828 jp nz,nada 1829 ex af,af'1830 ld bc,$03061831 cp cientifica and 255 1832 jr z,.11833 ld a,111834 ex af,af'1835 ld a,$301836 jp anota_monigote1838.1:1839 ld a,91840 ex af,af'1841 ld a,$801842 jp anota_monigote1844mancha:1845 ld a,$141846 ex af,af'1847 ld a,61848 jp adorno1850esqueleto:1851 ld a,$181852 ex af,af'1853 ld a,151854 jp adorno1856mano_suelta:1857 ld a,$1c1858 ex af,af'1859 ld a,151860 jp adorno1861 1862 1867zombie4:1868 ld a,$941869 ld de,$00001870 ld bc,$02031871 ex af,af'1872 ld a,15 1873 ex af,af'1874 jp anota_monigote1876zombie1_arr:1877 ld a,$701878 ld de,$ff001879 jr zombie11881zombie1_aba:1882 ld a,$601883 ld de,$01001884 jr zombie11886zombie5_izq:1887 ld a,$6c1888 ld de,$00ff1889 jr zombie51891zombie5_der:1892 ld a,$b41893 ld de,$00011894zombie5:1895 ld bc,$02011896 ex af,af'1897 ld a,151898 ex af,af'1899 jr anota_monigote1901zombie1_izq:1902 ld a,$501903 ld de,$00ff1904 jr zombie11906zombie1_der:1907 ld a,$401908 ld de,$00011909zombie1:1910 ld bc,$03011911 ex af,af'1912 ld a,31913 ex af,af'1914 jr anota_monigote1916zombie2_izq:1917 ld a,$501918 ld de,$00ff1919 jr zombie21921zombie2_der:1922 ld a,$401923 ld de,$00011924 jr zombie21926zombie2_arr:1927 ld a,$701928 ld de,$ff001929 jr zombie21931zombie2_aba:1932 ld a,$601933 ld de,$01001934zombie2:1935 ld bc,$02021936 ex af,af'1937 ld a,111938 ex af,af'1939 jr anota_monigote1941zombie3_izq:1942 ld a,$501943 ld de,$00ff1944 jr zombie31946zombie3_der:1947 ld a,$401948 ld de,$00011949 jr zombie31951zombie3_arr:1952 ld a,$701953 ld de,$ff001954 jr zombie31956zombie3_aba:1957 ld a,$601958 ld de,$01001959zombie3:1960 ld bc,$01031961 ex af,af'1962 ld a,11963 ex af,af'19641966anota_monigote:1967 ld (hl),a 1968 inc hl1969 ex af,af'1970 ld (hl),a 1971 ex af,af'1972 inc hl1973 ld (hl),e 1974 inc hl1975 ld (hl),d 1976 inc hl1977 ld (hl),b 1978 inc hl1979 ld a,c1980 inc a1981 ld (hl),a 1982 inc hl1983 ld (hl),b 1984 inc hl1985 ld (hl),c 1986 inc hl1987 xor a1988 ld (hl),a 1989 inc hl1990 ld (hl),a1991 call finaliza_monigote1992 pop hl1993 pop de1994 pop bc1995 ld a,(hl)1996 cp 61 1997 ret z1998 2003estima_cuadro:2004 push de2005 ld a,c2006 cp 62007 jr z,.12008 push hl2009 ld de,-122010 add hl,de2011 ld e,(hl)2012 call checa_camino2013 rrca2014 ld a,e2015 pop hl2016 jr c,.52017.1: ld a,b2018 cp 122019 jr z,.22020 push hl2021 dec hl2022 ld e,(hl)2023 call checa_camino2024 rrca2025 ld a,e2026 pop hl2027 jr c,.52028.2: ld a,b2029 cp 12030 jr z,.32031 push hl2032 inc hl2033 ld e,(hl)2034 call checa_camino2035 rrca2036 ld a,e2037 pop hl2038 jr c,.52039.3: ld a,c2040 cp 12041 jr z,.42042 push hl2043 ld de,122044 add hl,de2045 ld e,(hl)2046 call checa_camino2047 rrca2048 ld a,e2049 pop hl2050 jr c,.52051.4: xor a2052.5: pop de2053 ret2054 2055 2058actualiza_indicadores_nivel: 2059 ld a,(ix+d_vidas)2060 inc a 2061 call nz,carga_nivel2062 2065actualiza_indicadores:2066 ld a,(ix+d_vidas)2067 inc a 2068 ret z 2069 bit 7,(ix+d_objeto) 2070 ret nz 2071 ld a,(ix+d_estado)2072 or a 2073 ret nz 2074 ld l,(ix+d_offset)2075 ld h,(ix+d_offset+1)2076 ld a,(ix+d_refy)2077 or a2078 ld de,32-8 2079 jr nz,.12080 ld e,25+32 2081.1: add hl,de2082 2085 inc hl2086 inc hl2087 ld a,(ix+d_refy)2088 or a2089 ld a,$2B 2090 jr z,.22091 ld a,$2C 2092.2:2093 call zona_dura2094 call WRTVRM2095 inc hl2096 call mensajito2097 db $15,$10,$ff 2098 ld de,272099 add hl,de2100 ld a,(ix+d_puntos)2101 call dos_digitos2102 ld a,(ix+d_puntos+1)2103 call dos_digitos2104 ld a,(ix+d_puntos+2)2105 call dos_digitos2106 ld a,$202107 call WRTVRM 2108 ld de,58 2109 add hl,de2110 2113 call mensajito2114 db $05,$0e,$05,$12,$07,$19,$ff2115 ld de,262116 add hl,de2117 ld a,(ix+d_energia)2118 or a2119 ld b,a2120 ld a,$1c2121 jr z,.32122 dec a2123.3: call WRTVRM2124 inc hl2125 ld c,12126.4: inc c2127 ld a,b2128 cp c2129 ld a,$1e2130 jr c,.52131 dec a2132.5: call WRTVRM2133 inc hl2134 ld a,c2135 cp 62136 jr nz,.42137 ld a,$1f2138 call WRTVRM2139 ld de,58 2140 add hl,de2141 2144 inc hl2145 call mensajito2146 db $06,$0c,$0f,$0f,$12,$ff2147 ld de,262148 add hl,de2149 inc hl2150 ld a,(ix+d_refy)2151 or a2152 ld a,$32 2153 jr z,.72154 inc a 2155.7: call WRTVRM2156 inc hl2157 ld a,$342158 call WRTVRM2159 inc hl2160 ld a,(ix+d_seccion)2161 rrca2162 rrca2163 rrca2164 rrca2165 and $032166 ld d,a2167 ld a,(ix+d_nivel)2168 inc a2169 add a,d2170 add a,d2171 ld b,1002172 push af2173 ld a,$1f2174 add a,d2175 ld c,a2176 pop af2177 call digito_decimal+22178 ld b,102179 call digito_decimal2180 ld b,12181 call digito_decimal2182 ld de,59 2183 add hl,de2184 2187 ld a,(ix+d_vidas)2188 cp 102189 jr nc,.112190 add a,$202191 call WRTVRM2192 xor a2193 jr .122195.11: ld b,$1f2196.13: inc b2197 sub 102198 jr nc,.132199 add a,10+$202200 push af2201 ld a,b2202 call WRTVRM2203 pop af2204.12: inc hl2205 call WRTVRM2206 inc hl2207 ld a,$2a2208 call WRTVRM2209 inc hl2210 inc hl2211 xor a2212 bit 0,(ix+d_objeto)2213 jr z,$+42214 ld a,$2d2215 call WRTVRM2216 jp zona_facil2218 2221digito_decimal:2222 ld c,$1f2223.1: inc c2224 sub b2225 jr nc,.12226 add a,b2227 push af2228 ld a,c2229 call WRTVRM2230 pop af2231 inc hl2232 ret2234 2237dos_digitos:2238 push af2239 rrca2240 rrca2241 rrca2242 rrca2243 call un_digito2244 pop af2245un_digito:2246 and $0f2247 add a,$202248 call WRTVRM2249 inc hl2250 ret2252 2256dos_digitos2:2257 ld a,(de)2258 inc de2259 push af2260 rrca2261 rrca2262 rrca2263 rrca2264 call un_digito22265 pop af2266un_digito2:2267 and $0f2268 add a,$202269 ld (hl),a2270 inc hl2271 ret2273 2276actualiza_sprites:2277 2280 ld de,sprites2281 ld bc,sprites+16 2282 ld ix,jug12283 ld l,(ix+d_sprite)2284 ld h,02285 ld (sprites_especiales+0),hl2286 ld (ix+d_sprite),0 2287 push hl2288 call actualiza_jugador2289 pop hl2290 ld (ix+d_sprite),l2291 2294 ld de,sprites+82295 ld bc,sprites+64 2296 ld ix,jug22297 ld l,(ix+d_sprite)2298 ld h,02299 ld (sprites_especiales+2),hl2300 ld (ix+d_sprite),4 2301 push hl2302 call actualiza_jugador2303 pop hl2304 ld (ix+d_sprite),l2305 ret2307 2310sprite_carita:2311 db $b0,$c0,$c0,$c0,$c0,$c0,$c0,$c02312 db $b0,$c4,$c0,$c4,$c0,$c4,$c0,$c42313 db $b0,$c8,$b0,$c8,$b0,$c8,$b0,$c82314 db $c0,$cc,$c0,$cc,$c0,$cc,$c0,$cc2315 db $b0,$d0,$c0,$d0,$c0,$d0,$c0,$d02316 db $b0,$d4,$c0,$d4,$c0,$d4,$c0,$d42317 db $b0,$d8,$b0,$d8,$b0,$d8,$b0,$d82318 db $a0,$dc,$a0,$dc,$a0,$dc,$a0,$dc2319 db $00,$00,$00,$00,$c1,$c0,$c1,$d02321 2324actualiza_jugador:2325 bit 6,(ix+d_objeto) 2326 ret nz2327 2332 bit 7,(ix+d_objeto) 2333 jp nz,.9 2334 ld a,(ix+d_estado)2335 or a 2336 jp nz,.9 2337 ld l,(ix+d_trans)2338 ld h,(ix+d_trans+1)2339 ld a,h2340 or l2341 jr z,.72342 ld a,(ticks)2343 and $0c 2344 srl a2345 srl a2346 add a,362347 call dibuja_mosaico2348 2351.7:2352 2353 bit 5,(ix+d_objeto) 2354 jp nz,.9 2360 ld a,(ix+d_vidas)2361 inc a 2362 jr nz,.12363.9: ld a,$d12364 ld (de),a2365 inc de2366 inc de2367 inc de2368 inc de2369 ld (de),a2370 jp .22372.1: ld a,(ix+d_y)2373 dec a2374 ld (de),a2375 inc de2376 ld a,(ix+d_x)2377 ld (de),a2378 inc de2379 ld a,(ix+d_sprite)2380 ld (de),a2381 inc de2382 ld a,(ix+d_espera)2383 and 82384 ld a,(ix+d_color)2385 jr z,.62386 ld a,$0f2387.6: ld (de),a2388 inc de2389 2392 ld a,(ix+d_refx)2393 or a2394 ld a,(sprites_especiales+0)2395 jr z,.162396 ld a,(sprites_especiales+2)2397.16: srl a2398 ld hl,sprite_carita2399 add a,l2400 ld l,a2401 ld a,h2402 adc a,02403 ld h,a2404 ld a,(hl)2405 inc hl2406 ld h,(hl)2407 ld l,a2408 and $f02409 rrca2410 rrca2411 rrca2412 rrca2413 neg2414 dec a2415 add a,(ix+d_y)2416 ld (de),a2417 inc de2418 ld a,l2419 and 12420 neg2421 add a,(ix+d_x)2422 ld (de),a2423 inc de2424 ld a,h2425 ld (de),a2426 inc de2427 ld a,102428 ld (de),a2429 inc de2430 2433.2: ld d,b2434 ld e,c2435 ld l,(ix+d_moni)2436 ld h,(ix+d_moni+1)2437 ld b,MAX_MONIGOTES2438.3: push bc2439 ld a,(ix+d_estado)2440 or a 2441 jr nz,.13 2442 push hl2443 ld a,l2444 add a,d_tipo 2445 ld l,a2446 ld a,h2447 adc a,02448 ld h,a2449 ld a,(hl) 2450 ld c,a2451 pop hl2452 or a 2453 jr nz,.4 2454.13: ld a,$d12455 ld (de),a2456 inc de2457 inc de2458 inc de2459 inc de2460 ld bc,162461 jp .122463.4: ld c,5 2464 cp 82465 jr z,.82466 cp 92467 jr z,.82468 ld c,-1 2469 cp 4 2470 jr nz,.82471 inc hl2472 inc hl2473 ld a,(ix+d_refx)2474 or a2475 ld a,(hl)2476 push hl2477 ld l,a2478 ld h,02479 add hl,hl2480 add hl,hl2481 jp nz,.112482 ld (sprites_especiales+4),hl2483 pop hl 2484 ex af,af'2485 ld a,$e0 2486 jp .102488.11: ld (sprites_especiales+6),hl2489 pop hl2490 ex af,af'2491 ld a,$f0 2492.10: ex af,af'2493 rrca2494 rrca2495 and $fc2496 add a,color_jefes and 2552497 ld c,a2498 ld a,color_jefes>>82499 adc a,02500 ld b,a2501 dec hl2502 dec hl2503 ld a,(hl)2504 inc de2505 ld (de),a2506 ld a,-12507 call comun_sprite_jefe2508 2511 add a,162512 inc de2513 ld (de),a2514 ld a,-12515 call comun_sprite_jefe2516 2519 inc de2520 ld (de),a2521 ld a,152522 call comun_sprite_jefe2523 2526 add a,162527 inc de2528 ld (de),a2529 ld a,152530 call comun_sprite_jefe2531 ld bc,162532 jr .122534.8: ld a,(hl)2535 inc de2536 ld (de),a2537 dec de2538 inc hl2539 ld a,(hl)2540 add a,c2541 ld (de),a2542 inc de2543 inc de2544 inc hl2545 ldi2546 ldi2547 ld bc,122548.12: add hl,bc2549.5: pop bc2550 dec b2551 jp nz,.32552 ret2554comun_sprite_jefe:2555 dec de2556 inc hl2557 add a,(hl)2558 dec hl2559 ld (de),a2560 inc de2561 inc de2562 ex af,af'2563 ld (de),a2564 add a,42565 ex af,af'2566 inc de2567 ld a,(bc)2568 ld (de),a2569 inc bc2570 inc de2571 ld a,(hl)2572 ret2574 2577color_jefes:2578 2579 db 15,15,15,152580 2581 db 15,15,15,152582 2583 db 11,10,10,102584 2585 db 10,11,10,102586 2587 db 3,2,8,22588 2589 db 2,3,2,82591 2594maneja_entrada:2595 ld a,(jug2+d_objeto)2596 bit 6,a 2597 jr nz,.1 2598 ld a,(jug1+d_objeto)2599 bit 6,a 2600 jp nz,.2 2601 call .22602 2604 2607.1: ld ix,jug1 2608 ld b,$ff2609 call control_12611 push bc2612 ld a,b2613 cpl2614 and $402615 call disparo2616 pop af2617 and $0f2618 jp maneja_dir2620 2623.2: ld ix,jug2 2624 ld b,$ff2626 call control_22628 push bc2629 ld a,b2630 cpl2631 and $402632 call disparo2633 pop af2634 and $0f2635 jp maneja_dir2637control_1:2638 in a,($9a)2639 and $f02640 or $052641 out (KEYSEL),a 2642 ex (sp),hl2643 ex (sp),hl2644 in a,(KEY1) 2645 bit 7,a2646 jr nz,$+42647 res 0,b 2648 in a,($9a)2649 and $f02650 or $082651 out (KEYSEL),a 2652 ex (sp),hl2653 ex (sp),hl2654 in a,(KEY1) 2655 bit 7,a2656 jr nz,$+42657 res 1,b 2658 in a,($9a)2659 and $f02660 or $072661 out (KEYSEL),a 2662 ex (sp),hl2663 ex (sp),hl2664 in a,(KEY1) 2665 bit 7,a2666 jr nz,$+42667 res 2,b 2668 in a,($9a)2669 and $f02670 or $062671 out (KEYSEL),a 2672 ex (sp),hl2673 ex (sp),hl2674 in a,(KEY1) 2675 bit 7,a2676 jr nz,$+42677 res 3,b 2678 in a,($9a)2679 and $f02680 or $082681 out (KEYSEL),a 2682 ex (sp),hl2683 ex (sp),hl2684 in a,(KEY1) 2685 bit 0,a2686 jr nz,$+42687 res 6,b 2688 di2689 ld a,$0E2690 out (PSG),A2691 nop2692 in a,(PSG+8)2693 ei2694 rrca2695 jr c,$+42696 res 0,b 2697 rrca2698 jr c,$+42699 res 2,b 2700 rrca2701 jr c,$+42702 res 3,b 2703 rrca2704 jr c,$+42705 res 1,b 2706 in a,($98)2707 bit 4,a2708 jr nz,$+42709 res 6,b2710 ret2712control_2:2713 in a,($9a)2714 and $f02715 or $042716 out (KEYSEL),a 2717 ex (sp),hl2718 ex (sp),hl2719 in a,(KEY1) 2720 bit 7,a 2721 jr nz,$+42722 res 0,b 2723 in a,($9a)2724 and $f02725 or $022726 out (KEYSEL),a 2727 ex (sp),hl2728 ex (sp),hl2729 in a,(KEY1) 2730 bit 4,a 2731 jr nz,$+42732 res 1,b 2733 in a,($9a)2734 and $f02735 or $042736 out (KEYSEL),a 2737 ex (sp),hl2738 ex (sp),hl2739 in a,(KEY1) 2740 bit 3,a 2741 jr nz,$+42742 res 2,b 2743 in a,($9a)2744 and $f02745 or $022746 out (KEYSEL),a 2747 ex (sp),hl2748 ex (sp),hl2749 in a,(KEY1) 2750 bit 1,a 2751 jr nz,$+42752 res 3,b 2753 in a,($9a)2754 and $f02755 or $062756 out (KEYSEL),a 2757 ex (sp),hl2758 ex (sp),hl2759 in a,(KEY1) 2760 bit 0,a 2761 jr nz,$+42762 res 6,b 2763 di2764 ld a,$0E2765 out (PSG),A2766 nop2767 in a,(PSG+8)2768 ei2769 rrca2770 rrca2771 rrca2772 rrca2773 rrca2774 jr c,$+42775 res 0,b 2776 rrca2777 jr c,$+42778 res 2,b 2779 rrca2780 jr c,$+42781 res 3,b 2782 rrca2783 jr c,$+42784 res 1,b 2785 in a,($98)2786 bit 5,a2787 jr nz,$+42788 res 6,b2789 ret2791 2794disparo:2795 jr nz,.4 2800 res 7,(ix+d_recarga) 2801 ret2803.4: ld a,(ix+d_vidas)2804 inc a 2805 ret z 2806 ld a,(ix+d_objeto)2807 and $2c2808 ret nz28092815 ld a,(ix+d_estado) 2816 or (ix+d_recarga) 2817 ret nz 2818 ld l,(ix+d_moni)2819 ld h,(ix+d_moni+1)2820 ld de,92821 add hl,de2822 ld a,(hl) 2823 sbc hl,de 2824 or a 2825 ret nz 2826 ld (ix+d_recarga),15+1282827 ld a,(ix+d_sprite)2828 and $30 2829 ld de,$fe062830 ld bc,$00042831 jr z,.12832 cp $10 2833 ld de,$fefa2834 ld c,$fc2835 jr z,.12836 cp $30 2837 ld de,$fa002838 ld bc,$fc002839 jr z,.1 2840 ld d,$032841 ld b,$042842.1: ld a,(ix+d_sprite)2843 and $3c2844 jr z,.22845 cp $102846 jr nz,.32847.2: inc d 2848.3: ld a,(ix+d_x)2849 add a,e2850 ld (hl),a2851 inc hl2852 ld a,(ix+d_y)2853 add a,d2854 ld (hl),a2855 inc hl2856 ld (hl),$08 2857 inc hl2858 ld (hl),$0b 2859 inc hl2860 ld (hl),c 2861 inc hl2862 ld (hl),b 2863 inc hl2864 ld (hl),1 2865 inc hl2866 inc hl2867 ld (hl),1 2868 inc hl2869 ld (hl),8 2870 ld de,52871 add hl,de2872 ld a,(ix+d_refx)2873 ld (hl),a2874 inc hl2875 ld a,(ix+d_refy)2876 ld (hl),a2877 jp efecto_disparo2879 2882maneja_dir:2883 push af2884 bit 3,(ix+d_objeto) 2885 jp z,.12886 ld a,(ix+d_x)2887 sub (ix+d_refx)2888 cp $50 2889 jp z,.3 2890 cp $10 2891 push af2892 call c,abre_puerta 2893 pop af2894 call z,restaura_puerta 2895 pop af2896 ld a,$0d 2897 push af2898 jp .22900.3: res 3,(ix+d_objeto)2901 set 2,(ix+d_objeto) 2902 ld (ix+d_tiempo),502903 ld (ix+d_tiempo+1),02904 ld a,(ix+d_refx)2905 or a2906 ld (ix+d_sprite),$88 2907 jp z,.12908 ld (ix+d_sprite),$8c 2909.1: bit 2,(ix+d_objeto) 2910 jp z,.22911 ld a,(ix+d_tiempo)2912 dec a2913 jp z,.42914 pop af2915 ld a,$0f 2916 push af2917 jp .22919 2922.4: res 2,(ix+d_objeto)2923 call musica_esperando2924 ld a,(ix+d_seccion)2925 and $302926 ld b,7 2927 cp $102928 jr z,.52929 ld b,17 2930 cp $202931 jr z,.52932 ld b,29 2933.5: ld a,b2934 call inicia_historia2935 pop af2936 ret2938.2:2939maneja_dir_2: 2940 bit 1,(ix+d_objeto) 2941 call nz,restaura_puerta2943 2946 ld a,(ix+d_revivir)2947 or a2948 jr z,.182949 dec (ix+d_revivir)2950 jr nz,.182951 res 5,(ix+d_objeto)2952 call jugador_atrapado2953.18:2955 2959 bit 5,(ix+d_objeto) 2960 jp nz,.92961 ld l,(ix+d_tiempo)2962 ld h,(ix+d_tiempo+1)2963 ld a,h2964 or l2965 jp z,.92966 dec hl2967 ld (ix+d_tiempo),l2968 ld (ix+d_tiempo+1),h2969 bit 7,(ix+d_objeto) 2970 jp nz,.92971 ld a,(ix+d_vidas)2972 inc a 2973 jp z,.92974 ld a,h2975 or l2976 jp nz,.92977 bit 4,(ix+d_objeto) 2978 jp nz,.202979 call musica_batalla2980 ld a,(ix+d_nivel)2981 cp 72 2982 jp nz,.192983 set 4,(ix+d_objeto) 2984 ld a,(ix+d_seccion)2985 and $30 2986 ld (ix+d_seccion),a2987.20: call llueve_monstruo2988 jp .92990.19: ld l,(ix+d_moni)2991 ld h,(ix+d_moni+1)2992 ld de,162993 add hl,de2994 ld a,(ix+d_x)2995 sub (ix+d_refx)2996 cp $602997 ld a,(ix+d_refx)2998 jp c,.102999 3003 ld (hl),a 3004 inc hl3005 ld a,(ix+d_refy)3006 sub $203007 ld (hl),a 3008 inc hl3009 ld (hl),$10 3010 ld de,$01013011 jr .113013 3017.10: add a,$a03018 ld (hl),a 3019 inc hl3020 ld a,(ix+d_refy)3021 sub $203022 ld (hl),a 3023 inc hl3024 ld (hl),$00 3025 ld de,$01ff3027.11: inc hl3028 ld (hl),$0f 3029 inc hl3030 ld (hl),e 3031 inc hl3032 ld (hl),d 3033 inc hl3034 ld (hl),1 3035 inc hl3036 ld a,(ix+d_nivel)3037 cp 1003038 ld (hl),25 3039 jr nz,.143040 ld (hl),50 3041.14: inc hl3042 ld (hl),1 3043 inc hl3044 ld (hl),4 3045 inc hl3046 ld (hl),0 3047 inc hl3048 ld a,(ix+d_nivel)3049 3052 ld d,$013053 cp 46 3054 jr z,.153055 cp 99 3056 jr nz,.213057 ld a,(ix+d_seccion)3058 and $0f3059 cp 4 3060 jr z,.15 3062 3065.21: ld d,$003066 3076 if 03077 ld d,$01 3078 ld d,$21 3079 ld d,$43 3080 ld d,$00 3081 endif3082.15: ld (hl),d3083 call finaliza_monigote3084.9:3085 bit 5,(ix+d_objeto) 3086 jr nz,.133087 bit 7,(ix+d_objeto) 3088 jr nz,.133089 ld a,(ix+d_estado)3090 or a 3091 jr nz,.13 3092 ld a,(ix+d_vidas)3093 inc a 3094 jr nz,.123095.13: pop af 3096 jp .23097.12:3098 3101 ld a,(ix+d_recarga)3102 and $7f3103 jp z,.73104 dec (ix+d_recarga)3105.7:3106 3109 ld a,(ix+d_espera)3110 or a3111 jp z,.13112 dec (ix+d_espera)3113.1: pop af3115 3118 dec (ix+d_paso)3119 jp nz,mueve_monstruos3120 ld l,(ix+d_velocidad)3121 ld (ix+d_paso),l3122 ld l,(ix+d_real)3123 ld h,(ix+d_real+1)3124 3127 push af3128 ld a,(ix+d_x)3129 sub (ix+d_refx)3130 add a,$0f3131 and $f03132 ld e,a3133 ld a,(ix+d_y)3134 sub (ix+d_refy)3135 add a,$0f3136 and $f03137 ld d,a3138 call accede_casilla23139 cp 48 3140 jp z,.17 3141 cp 40 3142 jp z,.8 3143 cp 79 3144 jp z,.8 3145 ld de,03146 call accede_casilla3147 cp 96 3148 jp z,.5 3149 cp 20 3150 jp z,.5 3151 cp 74 3152 jp z,.16 3153 cp 21 3154 jp nz,.6 3155.16: call abre_puerta3156 pop af3157 call mov_abajo3158 ld a,(ix+d_y)3159 and $0f3160 jp nz,.23161 set 1,(ix+d_objeto)3162 jp .23164.5: call abre_puerta3165 pop af3166 call mov_derecha3167 ld a,(ix+d_x)3168 and $0f3169 jp nz,.23170 set 1,(ix+d_objeto)3171 jp .23173.8: call abre_puerta3174 pop af3175 call mov_arriba3176 ld a,(ix+d_y)3177 and $0f3178 jp nz,.23179 set 1,(ix+d_objeto)3180 jp .23182.17: call abre_puerta3183 pop af3184 call mov_izquierda3185 ld a,(ix+d_x)3186 and $0f3187 jp nz,.23188 set 1,(ix+d_objeto)3189 jp .23191.6: pop af3192 3195 rrca3196 jr c,.613197 call mov_arriba3198 jr .643200.61: rrca3201 jr c,.623202 call mov_derecha3203 jr .643205.62: rrca3206 jr c,.633207 call mov_abajo3208 jr .643210.63: rrca3211 jr c,.643212 call mov_izquierda3213.64:3214 3217 ld a,(ix+d_x)3218 or (ix+d_y)3219 and $0f3220 jp nz,.23221 ld de,03222 call accede_casilla3223 cp 503224 jr z,.43225 cp 513226 jr z,.43227 cp 983228 jr z,.43229 cp 97 3230 jp nz,.23231 res 0,(ix+d_objeto) 3232 call musica_avance3233.4: ld a,(ix+d_y)3234 sub (ix+d_refy)3235 ld de,$4f003236 ld b,-103237 jp z,.33238 cp $503239 ld de,$b1003240 ld b,103241 jp z,.33242 ld a,(ix+d_x)3243 sub (ix+d_refx)3244 ld b,-13245 ld de,$00af3246 jp z,.33247 ld b,13248 ld de,$00513249.3: ld a,(ix+d_nivel)3250 cp 100 3251 push af 3252 add a,b 3253 ld (ix+d_nivel),a3254 pop af3255 jp z,muestra_lema 3256 ld a,(ix+d_x)3257 add a,e3258 ld (ix+d_x),a3259 ld (ix+d_basex),a3260 ld a,(ix+d_y)3261 add a,d3262 ld (ix+d_y),a3263 ld (ix+d_basey),a3264 call actualiza_indicadores_nivel3265.2:3266 3269mueve_monstruos:3270 ld a,(ix+d_estado)3271 or a 3272 ret nz 3273 bit 6,(ix+d_objeto) 3274 ret nz3275 ld e,(ix+d_moni)3276 ld d,(ix+d_moni+1)3277 ld l,(ix+d_real)3278 ld h,(ix+d_real+1)3279 push ix3280 pop iy3281 push de3282 pop ix3283 ld b,MAX_MONIGOTES3284.1: ld a,(ix+d_tipo)3285 or a3286 jp z,.23287 dec (ix+d_paso) 3288 jp nz,.2 3289 ld a,(ix+d_velocidad)3290 ld (ix+d_paso),a3291.3: ld a,(ix+d_tipo)3292 dec a3293 push hl3294 ld hl,mueve_monstruos.153295 add a,a3296 add a,l3297 ld l,a3298 ld a,(hl)3299 inc hl3300 ld h,(hl)3301 ld l,a3302 ex (sp),hl3303 ret3305 3308.42: ld a,(ix+d_dx)3309 or a3310 jr nz,.433311 ld a,r3312 cpl3313 and 313314 jp nz,.23315 ld de,$01ac3316 jr .443317 3318.43: dec a3319 ld de,$02b03320 jr z,.443321 ld de,$00bc3322.44: ld (ix+d_sprite),e3323 ld (ix+d_dx),d3324 jp .23326 3329.36: ld a,(ix+d_x)3330 add a,(ix+d_dx)3331 ld (ix+d_x),a3332 sub (iy+d_refx)3333 cp 23334 jr c,.373335 push de3336 push hl3337 ld l,(ix+d_ultimo)3338 ld h,(ix+d_y)3339 ld e,(ix+d_ultimo+1)3340 ld d,(ix+d_dy)3341 add hl,de3342 ld (ix+d_ultimo),l3343 ld (ix+d_y),h3344 ld a,h3345 sub (iy+d_refy)3346 pop hl3347 pop de3348 cp 23349 jr c,.373350 cp $503351 jp c,.383352.37: ld (ix+d_tipo),03353 jp .23355 3358.38: ld a,(ticks)3359 and $0c3360 ld c,13361 jr z,.413362 cp $083363 ld c,153364 jr z,.413365 dec c3366.41: ld (ix+d_color),c3367 3370 ld c,63371 jp .453373 3376.30: ld (ix+d_color),c3377 ld a,(ix+d_dy)3378 inc a3379 ld (ix+d_dy),a3380 sub 100 3381 jp nz,.38 3382 ld (ix+d_dy),30 3383 ld a,(ix+d_x) 3384 sub (iy+d_x)3385 jp c,.38 3386 cp $103387 jp c,.383388 push bc3389 push de3390 push hl3391 ld l,(iy+d_moni)3392 ld h,(iy+d_moni+1)3393.31: ld de,163394 add hl,de3395 ld de,d_tipo3396 add hl,de3397 ld a,(hl)3398 sbc hl,de3399 or a3400 jr z,.323401 jr .313403.32: ex de,hl3404 push ix3405 push de3406 push ix3407 pop hl3408 ld bc,163409 ldir 3410 pop ix3411 ld (ix+d_tipo),16 3412 ld (ix+d_dx),-13413 ld (ix+d_ultimo),03414 ld a,(iy+d_y)3415 sub (ix+d_y)3416 ld l,a3417 jr z,.333418 jr nc,.343419 neg3420 call laser_divisor3421 ld a,l3422 neg3423 ld (ix+d_ultimo+1),a3424 ld (ix+d_dy),-13425 jr .353427.34: call laser_divisor3428.33: ld (ix+d_ultimo+1),l3429 ld (ix+d_dy),03430.35: call efecto_laser3431 pop ix3432 pop hl3433 pop de3434 pop bc3435 jp .383437 3440.28: ld a,(iy+d_y)3441 ld e,(iy+d_refy)3442 sub e3443 and $f03444 add a,163445 ld c,a3446 ld a,(ix+d_velocidad)3447 dec a3448 ld d,43449 jr z,.293450 dec a3451 ld d,83452 jr z,.293453 ld d,123454.29: ld a,(ix+d_y)3455 add a,d3456 ld (ix+d_y),a3457 sub e3458 add a,163459 cp c3460 jp c,.23461 ld a,c3462 sub 163463 add a,e3464 ld (ix+d_y),a3465 ld a,(ix+d_sprite)3466 cp $10 3467 ld (ix+d_tipo),7 3468 jp z,.23469 ld (ix+d_tipo),1 3470 jp .23472 3475.26: ld a,(ix+d_sprite)3476 add a,43477 ld (ix+d_sprite),a3478 cp $303479 jp nz,.23480 ld a,(ix+d_y)3481 sub 163482 ld (ix+d_y),a3483 xor a3484 ld (ix+d_sprite),a 3485 ld (ix+d_color),15 3486 ld (ix+d_dx),a3487 ld (ix+d_dy),a3488 ld (ix+d_ultimo),a3489 ld (ix+d_energia),50 3490 inc a3491 ld (ix+d_velocidad),a3492 ld (ix+d_paso),a3493 ld (ix+d_tipo),43494 ld a,(iy+d_seccion)3495 and $30 3496 ld d,$00 3497 jr z,.273498 cp $10 3499 ld d,$21 3500 jr z,.27 3501 ld d,$43 3502 ld (ix+d_energia),75 3503.27: ld (ix+d_ultimo+1),d3504 call musica_batalla3505 jp .23507 3510.25: ld a,(ix+d_color)3511 xor $0f3512 ld (ix+d_color),a3513 dec (ix+d_dx)3514 jp nz,.23515 ld (ix+d_tipo),133516 ld (ix+d_sprite),$203517 ld (ix+d_velocidad),83518 ld (ix+d_paso),83519 ld (ix+d_color),143520 jp .23522 3525.22: ld a,(ticks)3526 and $0c3527 ld c,$0a3528 jr z,.233529 inc c3530 cp $083531 jr nz,.233532 ld c,$0f3533.23: ld (ix+d_color),c3534 jp .73536 3539.20: ld a,(ticks)3540 and $0c3541 ld c,$063542 jr z,.213543 cp $083544 ld c,$093545 jr z,.213546 dec c3547.21: ld (ix+d_color),c3548 jp .73550 3553.14: ld a,(ix+d_sprite)3554 add a,43555 ld (ix+d_sprite),a3556 cp $303557 jp nz,.23558.16: xor a3559 ld (ix+d_tipo),a3560 jp .23562 3564.9:3565 ld a,(ix+d_sprite)3566 and $f03567 ld c,a3568 ld a,(ticks)3569 and $0c3570 cp $0c3571 jr nz,$+43572 ld a,$04 3573 or c3574 ld (ix+d_sprite),a3575 jp .73577.13: call mueve_bala3578 jp .23580.17: call mueve_jefe3581 3584 bit 5,(iy+d_objeto) 3585 jp nz,.23586 bit 7,(iy+d_objeto) 3587 jp nz,.23588 ld a,(iy+d_vidas)3589 inc a 3590 jp z,.23591 ld a,(iy+d_x)3592 add a,83593 sub (ix+d_x)3594 cp $203595 jp nc,.23596 ld a,(iy+d_y)3597 add a,83598 sub (ix+d_y)3599 cp $203600 jp nc,.23601 jp .103603.12: call mueve_monstruo_33604 jp .73606.8: call mueve_monstruo_23607 jp .73609.4: call mueve_monstruo_13610 3613.7: ld c,13 3617.45: ld a,(iy+d_vidas)3618 inc a 3619 jp z,.23620 bit 5,(iy+d_objeto) 3621 jp nz,.23622 ld a,(ix+d_x)3623 sub (iy+d_x)3624 jp nc,.53625 neg 3626.5: cp c3627 jp nc,.23628 ld a,(ix+d_y)3629 sub (iy+d_y)3630 jp nc,.63631 neg3632.6: cp c3633 jp nc,.23634 ld a,(ix+d_tipo)3635 cp 15 3636 jp z,.103637 cp 163638 jp z,.103639 cp 53640 jp c,.103641 cp 63642 jp nz,.113643 3646 push bc3647 push hl3648 push ix3649 ld a,1 3650 call objeto_borra3651 ld (ix+d_tipo),d 3655 ld a,(iy+d_energia)3656 cp 63657 jp z,$+63658 inc (iy+d_energia)3659 3662 ld a,(iy+d_rescatados)3663 add a,13664 daa3665 ld (iy+d_rescatados),a3666 push iy3667 pop ix3668 ld hl,puntos_cientifico3669 call agrega_puntos3670 call actualiza_indicadores3671 call efecto_rescate3672 pop ix3673 pop hl3674 pop bc3675 jp .23677 3680.11: cp 73681 jp nz,.193682 set 0,(iy+d_objeto) 3683 push bc3684 push hl3685 push ix3686 ld a,4 3687 call objeto_borra3688 ld (ix+d_tipo),d 3689 push iy3690 pop ix3691 call actualiza_indicadores3692 call efecto_llave3693 pop ix3694 pop hl3695 pop bc3696 jp .23698 3701.19: ld a,(iy+d_energia)3702 cp 63703 ld (iy+d_energia),63704 jr nz,.1913705 inc (iy+d_vidas)3706.191: push bc3707 push hl3708 push ix3709 ld a,2 3710 call objeto_borra3711 ld (ix+d_tipo),d 3712 push iy3713 pop ix3714 call actualiza_indicadores3715 call efecto_vida3716 pop ix3717 pop hl3718 pop bc3719 jp .23720 3721 3724.10:3725 ld a,(iy+d_espera)3726 or a 3727 jp nz,.2 3728 push bc3729 push hl3730 push ix3731 call efecto_tocado3732 ld a,(ix+d_tipo)3733 cp 16 3734 jp z,.243735 cp 4 3736 jp z,.24 3737 ld a,(ix+d_paso)3738 add a,20 3739 ld (ix+d_paso),a3740.24: ld a,(iy+d_paso)3741 add a,5 3742 ld (iy+d_paso),a3743 ld a,503744 ld (iy+d_espera),a3745 if programador=03746.patch: dec (iy+d_energia)3747 else3748 nop3749 nop3750 nop3751 endif3752 push iy3753 pop ix3754 call actualiza_indicadores3755 ld a,(ix+d_energia)3756 or a3757 call z,jugador_cae3758 pop ix3759 pop hl3760 pop bc3761.2: ld de,163762 add ix,de3763 dec b3764 jp nz,.13765 ret3767 3770laser_divisor:3771 ld l,03772 ld h,a3773 ld a,(ix+d_x)3774 sub (iy+d_x)3775 cp h3776 jp c,.33777 ld e,a3778 ld d,03779 ld c,l3780 ld a,h3781 ld hl,03782 ld b,163783 or a3784.1: rl c3785 rla3786 rl l3787 rl h3788 sbc hl,de3789 jr nc,.23790 add hl,de3791.2: ccf3792 djnz .13793 ex de,hl3794 rl c3795 ld l,c3796 rla3797 ld h,a3798 ret3800.3: ld hl,$00ff3801 ret3803 3806jugador_cae:3807 ld (ix+d_revivir),1503808 set 5,(ix+d_objeto) 3809 ld a,(ix+d_refx)3810 call efecto_pierde3811 ld l,(ix+d_moni)3812 ld h,(ix+d_moni+1)3813 ld de,d_tipo3814 add hl,de3815 ex de,hl3816 ld hl,163817 add hl,de3818 ld a,(hl)3819 ex de,hl3820 cp 4 3821 ld de,16*(MAX_MONIGOTES-4) 3823 jr z,.03824 ld e,16*(MAX_MONIGOTES-1) 3826.0: add hl,de3827 3828.1: ld a,(hl)3829 or a3830 jr z,.23831 ld de,-163832 add hl,de3833 jr .13835 3838.2: ld de,-d_tipo3839 add hl,de3840 ld a,(ix+d_x)3841 ld (hl),a3842 inc hl3843 ld a,(ix+d_y)3844 sub 6 3845 ld (hl),a3846 inc hl3847 ld a,(ix+d_nivel)3848 cp 100 3849 jr nz,.3 3850 ld a,(ix+d_seccion)3851 and $30 3852 jr z,.3 3853 ld (hl),$6c 3854 ld bc,$03013855 ld d,1 3856 jr .43857 3858.3: ld (hl),$18 3859 ld bc,$9609 3860 ld d,03861.4: inc hl3862 ld a,(ix+d_color)3863 ld (hl),a 3864 inc hl3865 xor a3866 ld (hl),a 3867 inc hl3868 ld (hl),a 3869 inc hl3870 ld (hl),b 3871 inc hl3872 ld (hl),a3873 inc hl3874 ld (hl),b 3875 inc hl3876 ld (hl),c 3877 inc hl3878 ld (hl),d 3879 inc hl3880 ld (hl),a3881 jp finaliza_monigote3883 3893jugador_atrapado:3894 ld a,(ix+d_basex)3895 add a,4 3896 and $f03897 sub (ix+d_refx)3898 jp nz,.13899 ld c,$003900 inc a3901 ld hl,mov_derecha3902 jp .23904.1: cp $b03905 jp nz,.23906 ld c,$103907 dec a3908 ld hl,mov_izquierda3909.2: add a,(ix+d_refx)3910 ld (ix+d_x),a3911 ld a,(ix+d_basey)3912 add a,4 3913 and $f03914 sub (ix+d_refy)3915 jp nz,.33916 ld c,$203917 inc a3918 ld hl,mov_abajo3919 jp .43921.3: cp $503922 jp nz,.43923 ld c,$303924 dec a3925 ld hl,mov_arriba3926.4: add a,(ix+d_refy)3927 ld (ix+d_y),a3928 ld (ix+d_ultimo),l3929 ld (ix+d_ultimo+1),h3930 ld a,(ix+d_sprite)3931 and $c03932 or c3933 ld (ix+d_sprite),a3934 ld (ix+d_paso),23935 ld (ix+d_velocidad),23936 dec (ix+d_vidas)3937 jp m,.53938 ld (ix+d_energia),63939 jp actualiza_indicadores3941.5: call musica_fracaso3942 3946 ld l,(ix+d_moni)3947 ld h,(ix+d_moni+1)3948 ld b,MAX_MONIGOTES*163949.6: ld (hl),03950 inc hl3951 djnz .63952 3955 call zona_dura3956 ld l,(ix+d_offset)3957 ld h,(ix+d_offset+1)3958 ld de,$00c63959 add hl,de3960 call mensajito3961 db $00,$07,$01,$0d,$05,$00,$0f,$16,$05,$12,$00,$ff3962 call zona_facil3963 3966 ld (ix+d_tiempo),2003967 ld (ix+d_tiempo+1),03968 ret3970 3973abre_puerta:3974 cp 793975 jp z,.13976 cp 963977 jp z,.23978 cp 743979 jp nz,.33980 ld a,213981 jp .33983.2: ld a,203984 jp .33986.1: ld a,403987.3: ld (ix+d_mosaico),a3988 cp 223989 ld de,$00003990 jp c,.43991 ld de,$0f0f3992.4: ld a,(ix+d_y)3993 add a,d3994 sub (ix+d_refy)3995 and $f03996 push hl3997 ld l,a3998 ld h,03999 add hl,hl4000 add hl,hl4001 ld a,(ix+d_x)4002 add a,e4003 sub (ix+d_refx)4004 and $f04005 rrca4006 rrca4007 rrca4008 add a,l4009 ld l,a4010 ld e,(ix+d_offset)4011 ld d,(ix+d_offset+1)4012 add hl,de4013 ld (ix+d_puerta),l4014 ld (ix+d_puerta+1),h4015 xor a4016 call dibuja_mosaico4017 pop hl4018 ret4020 4023restaura_puerta:4024 res 1,(ix+d_objeto)4025 ld l,(ix+d_puerta)4026 ld h,(ix+d_puerta+1)4027 ld a,(ix+d_mosaico)4028 call dibuja_mosaico4029 jp efecto_explota4031 4034agrega_puntos:4035 inc hl4036 inc hl4037 ld a,(ix+d_puntos+2)4038 add a,(hl)4039 daa4040 ld (ix+d_puntos+2),a4041 dec hl4042 ld a,(ix+d_puntos+1)4043 adc a,(hl)4044 daa4045 ld (ix+d_puntos+1),a4046 dec hl4047 ld a,(ix+d_puntos)4048 adc a,(hl)4049 daa4050 ld (ix+d_puntos),a4051 ld hl,record4052 cp (hl)4053 ret c4054 jr nz,.14055 inc hl4056 ld a,(ix+d_puntos+1)4057 cp (hl)4058 ret c4059 jr nz,.14060 inc hl4061 ld a,(ix+d_puntos+2)4062 cp (hl)4063 ret c4064 ret z4065 4068.1: ld l,(ix+d_puntos)4069 ld h,(ix+d_puntos+1)4070 ld (record),hl4071 ld a,(ix+d_puntos+2)4072 ld (record+2),a4073 ld a,(ix+d_refx)4074 or a4075 ld a,14076 jr z,.24077 inc a4078.2: ld (quien),a4079 ret4081 4090color_explosion_jefes:4091 db 14,14,14,14,15,0,0,0 4092 db 13,13,13,13,11,0,0,0 4093 db 6,6,6,6,8,0,0,0 4095 4098mueve_bala:4099 push bc4100 push iy4101 push hl4102 ld l,(iy+d_moni)4103 ld h,(iy+d_moni+1)4104 ld de,164105 add hl,de4106 push hl4107 pop iy4108 ld b,MAX_MONIGOTES-14109.6: ld a,(iy+d_tipo)4110 or a4111 jp z,.74112 cp 11 4113 jp z,.114114 cp 6 4115 jp z,.114116 cp 17 4117 jp z,.114118 cp 54119 jp nc,.74120 cp 44121 jp nz,.114122 4125 ld a,(ix+d_x)4126 add a,84127 sub (iy+d_x)4128 cp $1c4129 jp nc,.74130 ld a,(ix+d_y)4131 add a,84132 sub (iy+d_y)4133 cp $1c4134 jp nc,.74135 4138 dec (iy+d_energia)4139 ld hl,puntos_bala4140 ld (salva_puntos),hl4141 jp nz,.14 4145 ld a,(iy+d_sprite)4146 and $e04147 rrca4148 rrca4149 ld hl,color_explosion_jefes4150 ld e,a4151 ld d,04152 add hl,de4153 ld a,(iy+d_x)4154 ld (iy+d_x+32),a4155 add a,$084156 ld (iy+d_x+64),a4157 ld (iy+d_x+80),a4158 add a,$084159 ld (iy+d_x+16),a4160 ld (iy+d_x+48),a4161 ld a,(iy+d_y)4162 ld (iy+d_y+16),a4163 add a,$084164 ld (iy+d_y+64),a4165 ld (iy+d_y+80),a4166 add a,$084167 ld (iy+d_y+32),a4168 ld (iy+d_y+48),a4169 push iy4170 ld bc,$05084171.106: ld (iy+d_sprite),$204172 ld (iy+d_tipo),104173 ld a,(hl)4174 ld (iy+d_color),a4175 ld a,c4176 cp 114177 jr c,.1074178 ld a,74179 jr z,.1074180 ld a,114181.107: ld (iy+d_velocidad),a4182 ld (iy+d_paso),a4183 inc hl4184 inc c4185 ld de,164186 add iy,de4187 djnz .1064188 pop iy4189 pop af4190 pop hl4191 push hl4192 push af4193 ld de,d_nivel4194 add hl,de4195 ld a,(hl)4196 cp 99 4197 jr nz,.1044198 pop af4199 pop hl4200 push hl4201 push af4202 ld e,d_seccion4203 add hl,de4204 inc (hl)4205 ld a,(hl)4206 and $0f4207 cp 5 4208 jr z,.1044209 pop bc4210 pop hl4211 push hl4212 push bc4213 push af4214 call musica_esperando4215 pop af4216 4219 ld de,d_tiempo4220 add hl,de4221 dec a4222 ld (hl),1604223 jr z,.1054224 dec a4225 ld (hl),1204226 jr z,.1054227 dec a4228 ld (hl),804229 jr z,.1054230 ld (hl),404231 jr .1054233.104: ld (iy+d_sprite+80),$10 4234 ld (iy+d_tipo+80),74235 ld (iy+d_velocidad+80),14236 ld (iy+d_paso+80),14237 ld (iy+d_color+80),114238 call musica_triunfo4239.105: call efecto_megamonstruo4240 ld hl,puntos_megamonstruo4241 ld (salva_puntos),hl4242 4245.14: call bala_explota4246 pop hl4247 pop iy4248 pop bc4249 push bc4250 push iy4251 push hl4252 push ix4253 push iy4254 pop ix4255 ld hl,(salva_puntos)4256 call agrega_puntos4257 call actualiza_indicadores4258 pop ix4259 pop hl4260 pop iy4261 pop bc4262 ret4264 4267.11:4268 ld a,(ix+d_x)4269 add a,44270 sub (iy+d_x)4271 cp 124272 jp nc,.74273 ld a,(ix+d_y)4274 add a,44275 sub (iy+d_y)4276 cp 124277 jp nc,.74278 4281 ld a,(iy+d_tipo)4282 cp 17 4283 jr z,.164284 cp 11 4285 jr z,.164286 cp 6 4287 jr z,.164288 dec (iy+d_energia)4289 jr nz,.104290 4293 cp 14294 ld hl,puntos_monstruo_14295 jr z,.154296 cp 24297 ld hl,puntos_monstruo_24298 jr z,.154299 ld hl,puntos_monstruo_34300.15: ld (salva_puntos),hl4301 ld (iy+d_color),144302 call bala_explota24303 jp .14+34305 4309.16: ld hl,puntos_cero4310 ld (salva_puntos),hl4311 cp 11 4312 ld bc,$0106 4313 jr nz,.94314 ld bc,$020b 4315.9: ld (iy+d_color),c4316 push bc4317 call bala_explota24318 pop af4319 pop hl4320 pop iy4321 pop bc4322 push hl4323 call objeto_borra 4324 pop hl4325 ret4327 4330.10: ld (iy+d_paso),54331 4334 ld a,(ix+d_dx)4335 or a4336 jr z,.1004337 jp p,.1014338 ld a,(iy+d_x)4339 and $0f4340 cp 44341 jr c,.1024342 ld a,(iy+d_x)4343 sub 44344 ld (iy+d_x),a4345 jr .1024347.101: ld a,(iy+d_x)4348 and $0f4349 jr z,.1024350 cp 134351 jr nc,.1024352 ld a,(iy+d_x)4353 add a,44354 ld (iy+d_x),a4355 jr .1024357.100: ld a,(ix+d_dy)4358 or a4359 jp p,.1034360 ld a,(iy+d_y)4361 and $0f4362 cp 44363 jr c,.1024364 ld a,(iy+d_y)4365 sub 44366 ld (iy+d_y),a4367 jr .1024369.103: ld a,(iy+d_y)4370 and $0f4371 jr z,.1024372 cp 134373 jr nc,.1024374 ld a,(iy+d_y)4375 add a,44376 ld (iy+d_y),a4377.102:4378 ld hl,puntos_bala4379 ld (salva_puntos),hl4380 ld a,(iy+d_velocidad)4381 dec a4382 jp z,.144383 ld (iy+d_velocidad),a4384 jp .144386.7: ld de,164387 add iy,de4388 dec b4389 jp nz,.64390 pop hl4391 push hl4392 ld a,(ix+d_x)4393 add a,(ix+d_dx)4394 ld (ix+d_x),a4395 sub (ix+d_refx)4396 cp 44397 jr c,.14398 cp $ad4399 jr nc,.14400 ld a,(ix+d_y)4401 add a,(ix+d_dy)4402 ld (ix+d_y),a4403 sub (ix+d_refy)4404 cp 44405 jr c,.14406 cp $4d4407 jr nc,.14408 ld a,(ix+d_dx)4409 or a4410 ld de,$0800 4411 jp z,.24412 ld de,$0308 4413.2: call mov_libre04414 jr nc,.54415 jr .194417 4420.1: ld (ix+d_tipo),04421.19: pop hl4422 pop iy4423 pop bc4424 ret4426 4429.5: call bala_explota4430 cp 31 4431 jr z,.174432 cp 35 4433 jr z,.174434 cp 24 4435 jr z,.174436 cp 54 4437 jr z,.174438 cp 43 4439 jr z,.174440 cp 58 4441 jr z,.174442 and $fe4443 cp 28 4444 jr z,.174445 pop hl4446 pop iy4447 pop bc4448 ret4450.17: ld a,(ix+d_x)4451 sub (ix+d_refx)4452 add a,e4453 and $f04454 ld e,a4455 ld a,(ix+d_y)4456 sub (ix+d_refy)4457 add a,d4458 and $f04459 ld d,a4460 push de4461 ld a,e4462 rrca4463 rrca4464 rrca4465 rrca4466 ld e,a4467 ld a,d4468 rrca4469 ld d,a4470 rrca4471 add a,d4472 add a,e4473 ld e,a4474 ld d,04475 add hl,de4476 ld a,(hl)4477 cp 244478 ld e,544479 jr z,.184480 cp 544481 ld e,244482 jr z,.184483 cp 314484 ld e,354485 jr z,.184486 cp 354487 ld e,314488 jr z,.184489 cp 434490 ld e,584491 jr z,.184492 cp 584493 ld e,434494 jr z,.184495 xor 14496 ld e,a4497.18: ld a,e4498 ld (hl),a4499 ex af,af'4500 pop de4501 pop hl4502 pop iy4503 push iy4504 push hl4505 ld l,(iy+d_offset)4506 ld h,(iy+d_offset+1)4507 ld a,e4508 rrca4509 rrca4510 rrca4511 ld c,a4512 ld b,04513 add hl,bc4514 ld e,d4515 ld d,04516 add hl,de4517 add hl,de4518 add hl,de4519 add hl,de4520 ex af,af'4521 call dibuja_mosaico4522 pop hl4523 pop iy4524 pop bc4525 ret4527 4530bala_explota2:4531 ld (iy+d_sprite),$204532 ld (iy+d_tipo),104533 ld (iy+d_velocidad),84534 ld (iy+d_paso),84535 call efecto_monstruo4536bala_explota:4537 ld (ix+d_sprite),$0c4538 ld (ix+d_color),94539 ld (ix+d_tipo),94540 ld (ix+d_paso),44541 ld (ix+d_velocidad),44542 jp efecto_explota4544 4545puntos_cero:4546 db $00,$00,$004548 4549puntos_cientifico:4550 db $00,$01,$004552 4553puntos_bala:4554 db $00,$00,$014556 4557puntos_monstruo_1:4558 db $00,$00,$104560 4561puntos_monstruo_2:4562 db $00,$00,$254564 4565puntos_monstruo_3:4566 db $00,$00,$504568 4569puntos_megamonstruo:4570 db $00,$10,$004572 4575 ia.asm1 36 42mueve_monstruo_1:43 ld a,(ix+d_sprite)44 cp $6c45 jr z,mueve_monstruo_546 cp $7c47 jr z,mueve_monstruo_548 cp $b449 jr z,mueve_monstruo_550 cp $b851 jr z,mueve_monstruo_552 55 ld a,(ix+d_dx)56 or a 57 jr z,mueve_monstruo_1b 58 dec a 59 jr z,.160 call mov_izquierda61 ret c62 jr .264.1: call mov_derecha65 ret c66.2: ld a,(ix+d_dx)67 neg68 ld (ix+d_dx),a69 ret71 75mueve_monstruo_1b:76 ld a,(ix+d_dy)77 dec a 78 jr z,.179 call mov_arriba80 ret c81 jr .283.1: call mov_abajo84 ret c85.2: ld a,(ix+d_dy)86 neg87 ld (ix+d_dy),a88 ret90 93mueve_monstruo_5:94 ld a,(ix+d_ultimo)95 or a 96 jr z,.5 97 ld a,(ix+d_ultimo+1)98 inc a 99 ld (ix+d_ultimo+1),a100 cp 50 101 jr nz,.5102 ld (ix+d_tipo),0 103 ret105.5: inc (ix+d_dy) 106 ld a,(ix+d_dy)107 cp 24 108 ret c109 jr nz,.0 110 ld a,(ix+d_x)111 sub (iy+d_x) 112 ld a,-1113 jr nc,.7114 ld a,1115.7: ld (ix+d_dx),a116 dec a117 ld a,$7c118 jr nz,.1119 ld a,$b8120.1: ld (ix+d_sprite),a 121 ret123.0: cp 28124 ret c125 jr nz,.2126 ld a,(ix+d_dx)127 dec a128 ld a,$6c129 jr nz,.3130 ld a,$b4131.3: ld (ix+d_sprite),a 132 call efecto_rasca133 call .4 134 call .4135 call .4136 jr .4138.2: cp 32139 jr c,.4140 ld a,r 141 and 3142 add a,13143 ld (ix+d_dy),a 144 ret146.4: ld a,(ix+d_dx)147 dec a 148 jp nz,.8149 ld a,(ix+d_x)150 sub (ix+d_refx)151 cp $b0152 ret nc153 ld de,$0001154 call mov_libre155 ret nc156 inc (ix+d_x)157 ret159.8: ld a,(ix+d_x)160 sub (ix+d_refx)161 ret z162 ld de,$00ff163 call mov_libre164 ret nc165 dec (ix+d_x)166 ret168 172mueve_monstruo_2:173 ld a,(ix+d_dx)174 cp 1 175 jr nz,.1176 call mov_derecha177 ret c178 ld (ix+d_dx),0 179 ld (ix+d_dy),1180 call mov_abajo181 ret c182 ld (ix+d_dy),-1183 ret185.1: cp -1 186 jr nz,.2187 call mov_izquierda188 ret c189 ld (ix+d_dx),0 190 ld (ix+d_dy),-1191 call mov_arriba192 ret c193 ld (ix+d_dy),1194 ret196.2: ld a,(ix+d_dy)197 cp 1 198 jr nz,.3199 call mov_abajo200 ret c201 ld (ix+d_dx),-1 202 ld (ix+d_dy),0203 call mov_izquierda204 ret c205 ld (ix+d_dx),1206 ret208.3: call mov_arriba209 ret c210 ld (ix+d_dx),1 211 ld (ix+d_dy),0212 call mov_derecha213 ret c214 ld (ix+d_dx),-1215 ret217 220monstruo_en_espera:221 ld (ix+d_velocidad),8222 ld a,(ix+d_dx)223 inc a224 ld (ix+d_dx),a225 cp 10226 ret c227 ld e,(ix+d_sprite)228 inc e229 inc e230 inc e231 inc e232 ld (ix+d_sprite),e233 cp 15234 ret c235 ld (ix+d_dx),1236 ld (ix+d_dy),0237 ld (ix+d_sprite),$40238 ld (ix+d_velocidad),2239 ret240 241 245mueve_monstruo_3:246 ld a,(ix+d_sprite)247 cp $94248 jr nc,monstruo_en_espera249 ld a,(ix+d_x)250 or (ix+d_y)251 and $0f252 jp nz,mov_previo253 ld a,(ix+d_dx)254 or a255 jr z,.1256 259 ld a,(ix+d_y)260 sub (iy+d_y)261 jr nz,.6262 ld a,(ix+d_x)263 sub (iy+d_x)264 jp z,.5265 jr c,.7266 call mov_izquierda267 jp nc,.5268 ld (ix+d_dx),-1269 ld (ix+d_dy),0270 ret272.7: call mov_derecha273 jp nc,.5274 ld (ix+d_dx),1275 ld (ix+d_dy),0276 ret278.6: jr c,.2279 call mov_arriba280 jr nc,.4281 ld (ix+d_dx),0282 ld (ix+d_dy),-1283 ret285.2: call mov_abajo286 jr nc,.4287 ld (ix+d_dx),0288 ld (ix+d_dy),1289 ret291 294.1: ld a,(ix+d_x)295 sub (iy+d_x)296 jr nz,.8297 ld a,(ix+d_y)298 sub (iy+d_y)299 jr z,.4300 jr c,.9301 call mov_arriba302 jr nc,.4303 ld (ix+d_dx),0304 ld (ix+d_dy),-1305 ret307.9: call mov_abajo308 jr nc,.4309 ld (ix+d_dx),0310 ld (ix+d_dy),1311 ret313.8: jr c,.3314 call mov_izquierda315 jr nc,.5316 ld (ix+d_dx),-1317 ld (ix+d_dy),0318 ret320.3: call mov_derecha321 ret c322 ld (ix+d_dx),1323 ld (ix+d_dy),0324 ret326 329.5: call mov_izquierda330 ret c331 call mov_derecha332 ret c333.4: call mov_arriba334 ret c335 call mov_abajo336 ret c337 jr .5339 342mueve_jefe:343 ld a,(ix+d_dy)344 cp 1345 jr nz,.1346 349 ld a,(ix+d_x)350 add a,(ix+d_dx)351 ld (ix+d_x),a352 ld a,(ix+d_y)353 add a,2354 ld (ix+d_y),a355 sub (ix+d_refy)356 cp $20357 ret nz358 xor a359 ld (ix+d_dy),a360 ret362 365.1: cp -1366 jp nz,.12367 370 ld a,(ix+d_sprite)371 and $f3372 ld (ix+d_sprite),a373 376 push hl377 ld a,(ix+d_ultimo)378 ld hl,salto_jefe379 ld e,a380 ld d,0381 add hl,de382 add hl,de383 ld a,(hl)384 bit 7,(ix+d_dx)385 jr z,.9386 neg387.9: add a,(ix+d_x)388 sub (ix+d_refx)389 cp $0f390 jr nc,.10391 ld a,$10392.10: cp $91393 jr c,.11394 ld a,$90395.11: add a,(ix+d_refx)396 ld (ix+d_x),a397 inc hl398 ld a,(hl)399 pop hl400 add a,(ix+d_y)401 ld (ix+d_y),a402 ld a,(ix+d_ultimo)403 inc a404 cp 32405 ld (ix+d_ultimo),a406 ret nz407 xor a408 ld (ix+d_dy),a409 ld (ix+d_velocidad),3410 ld a,18411 ld (ix+d_paso),a412 ret414 417.12: cp -2418 jp nz,.2419 ld (ix+d_velocidad),1420 423 ld a,(ticks)424 and $06425 rlca426 ld c,a427 ld a,(ix+d_sprite)428 and $f3429 or c430 ld (ix+d_sprite),a431 434 ld a,(ix+d_dx)435 or a436 jp p,.13437 dec (ix+d_x)438 ld a,(ix+d_x)439 sub (iy+d_refx)440 cp $10441 jr nc,.14442 ld a,$10443 add a,(iy+d_refx)444 ld (ix+d_x),a445 jr .14447.13: inc (ix+d_x)448 ld a,(ix+d_x)449 sub (iy+d_refx)450 cp $90451 jr c,.14452 ld a,$90453 add a,(iy+d_refx)454 ld (ix+d_x),a455.14: dec (ix+d_ultimo) 456 ret nz 457 xor a458 ld (ix+d_dy),a459 ld (ix+d_velocidad),3460 ld a,18 461 ld (ix+d_paso),a462 ret464 468.2: ld (ix+d_velocidad),3469 472 ld a,(ix+d_y)473 add a,$10 474 sub (iy+d_y)475 jp z,.7 476 ld a,-1 477 jr nc,.8478 ld a,1 479.8: add a,(ix+d_y)480 ld (ix+d_y),a481 484.7: ld a,(ix+d_x)485 sub (iy+d_x)486 jr c,.3487 ld a,(ix+d_ultimo+1)488 and $f0489 ld (ix+d_sprite),a490 dec (ix+d_x)491 ld (ix+d_dx),-1492 jr .4494.3: ld a,(ix+d_ultimo+1)495 and $e0496 or $10497 ld (ix+d_sprite),a498 inc (ix+d_x)499 ld (ix+d_dx),1500 503.4: ld a,r 504 and $0f505 ld c,a506 ld a,(iy+d_x)507 add a,8508 sub (ix+d_x)509 cp $10 510 jr nc,.6 511 res 3,c 512.6: ld a,c513 cp 5514 jr nz,.5515 ld a,(ix+d_ultimo+1)516 bit 0,a 517 jr z,.15518 bit 1,a 519 jr z,.16520 xor 4 521 ld (ix+d_ultimo+1),a522 and 4 523 jr nz,.15 524 jr .16526 527.15: ld (ix+d_dy),-1528 ld (ix+d_velocidad),1529 ld (ix+d_ultimo),0530 call efecto_berrido531 jr .5533 534.16: ld (ix+d_dy),-2535 ld (ix+d_velocidad),20 536 ld (ix+d_paso),20 537 ld (ix+d_ultimo),80538 call efecto_berrido539 542.5: ld a,(ticks)543 and $0c544 ld c,a545 ld a,(ix+d_sprite)546 and $f3547 or c548 ld (ix+d_sprite),a549 ret551 554salto_jefe:555 db 3 ,-4 556 db 3 ,-4 557 db 3 ,-3 558 db 2 ,-3 559 db 3 ,-2 560 db 2 ,-2 561 db 3 ,-1 562 db 1 ,-1 563 db 2 ,-1 564 db 1 ,-1 565 db 0 ,-1 566 db 1 ,-1 567 db 2 , 0 568 db 2 , 0 569 db 2 , 0 570 db 2 , 0 571 db 2 , 0 572 db 2 , 0 573 db 2 , 0 574 db 2 , 0 575 db 1 , 1 576 db 0 , 1 577 db 1 , 1 578 db 2 , 1 579 db 1 , 1 580 db 3 , 1 581 db 2 , 2 582 db 3 , 2 583 db 2 , 3 584 db 3 , 3 585 db 3 , 4 586 db 3 , 4 588 591llueve_monstruo:592 ld a,(ix+d_y)593 sub (ix+d_refy)594 and $f0 595 jp z,.3 596 ld l,(ix+d_moni)597 ld h,(ix+d_moni+1)598 ld de,16 599 add hl,de600 push hl601 602 ld b,max_monigotes-1603.2: ld de,d_tipo604 add hl,de605 ld a,(hl)606 sbc hl,de607 or a608 jr z,.4609 ld de,16610 add hl,de611 djnz .2612 pop hl613 jp .3 615 616.4: ex (sp),hl617 ld b,max_monigotes-1618 ld c,0619.5: ld de,d_tipo620 add hl,de621 ld a,(hl)622 sbc hl,de623 or a624 jr z,.6625 inc hl626 ld a,(ix+d_y)627 and $f0628 cp (hl)629 dec hl630 jr nz,.6631 inc c632 ld a,c633 cp 2634 jr nz,.6635 pop hl636 jp .3 638.6: ld de,16639 add hl,de640 djnz .5641 pop hl642 645 ld a,(ix+d_seccion)646 rlca647 rlca648 and $3f649 cp 23650 jp nz,.10651 652 call musica_triunfo653 ld de,$0000654 ld bc,$010b655 656.11: ld a,(ix+d_x)657 sub (ix+d_refx)658 cp $38659 jr c,.12660 ld a,(ix+d_x)661 sub $28662 ld (hl),a663 ld a,$10664 jr .9666 667.12: ld a,(ix+d_x)668 sub (ix+d_refx)669 cp $78670 jr nc,.11671 ld a,(ix+d_x)672 add a,$28673 ld (hl),a674 ld a,$10675 jr .9677.10: ld a,(ix+d_seccion)678 cpl679 and $06 680 rrca681 ld b,a682 ld a,(ix+d_seccion)683 bit 6,a 684 jr z,.7685 686.8: ld a,(ix+d_x)687 sub (ix+d_refx)688 cp $38689 jr c,.7690 ld a,(ix+d_x)691 sub $28692 ld (hl),a693 ld a,$40694 ld de,$0001695 ld c,3696 jr .9698 699.7: ld a,(ix+d_x)700 sub (ix+d_refx)701 cp $78702 jr nc,.8703 ld a,(ix+d_x)704 add a,$28705 ld (hl),a706 ld a,$50707 ld de,$00ff708 ld c,3709.9: inc hl710 push af711 ld a,(ix+d_refy)712 add a,$f0713 ld (hl),a714 inc hl715 pop af716 ld (hl),a 717 inc hl718 ld (hl),c 719 inc hl720 ld (hl),e 721 inc hl722 ld (hl),d 723 inc hl724 ld (hl),b 725 inc hl726 ld (hl),2 727 inc hl728 ld (hl),b 729 inc hl730 ld (hl),14 731 inc hl732 xor a733 ld (hl),a 734 inc hl735 ld (hl),a736 call finaliza_monigote737 ld a,(ix+d_seccion)738 rlca739 rlca740 inc a 741 rrca742 rrca743 ld (ix+d_seccion),a744 rlca745 rlca746 and $3f747 cp 24748 jp z,.1749.3: ld (ix+d_tiempo),50 750 ld (ix+d_tiempo+1),0751 ret753.1: res 4,(ix+d_objeto) 754 ld a,(ix+d_seccion)755 and $30 756 ld (ix+d_seccion),a757 ret758 759zw.asm4577 4580mov_previo:4581 push hl4582 ld l,(ix+d_ultimo)4583 ld h,(ix+d_ultimo+1)4584 ex (sp),hl4585 ret4587 4590anima_sprite_v:4591 ld a,(ix+d_sprite)4592 and $c04593 ld c,a4594 ld a,(ticks)4595 and $0c4596 cp $0c 4597 jp nz,$+54598 ld a,$04 4599 or d4600 or c4601 ld (ix+d_sprite),a4602 ld a,(ix+d_y)4603 sub (ix+d_refy)4604 ret4606 4609mov_arriba:4610 ld a,(ix+d_x)4611 and $0f4612 jp nz,mov_previo4613 ld d,$304614 call anima_sprite_v4615 ret z4616 ld de,$ff004617 call mov_libre4618 ret nc4619 dec (ix+d_y)4620 ld (ix+d_ultimo),mov_arriba and 2554621 ld (ix+d_ultimo+1),mov_arriba>>84622 ret4624 4627mov_abajo:4628 ld a,(ix+d_x)4629 and $0f4630 jp nz,mov_previo4631 ld d,$204632 call anima_sprite_v4633 cp $504634 ret nc4635 ld de,$01004636 call mov_libre4637 ret nc4638 inc (ix+d_y)4639 ld (ix+d_ultimo),mov_abajo and 2554640 ld (ix+d_ultimo+1),mov_abajo>>84641 ret4643 4646anima_sprite_h:4647 ld a,(ix+d_sprite)4648 and $c04649 ld c,a4650 ld a,(ticks)4651 and $0c4652 or d4653 or c4654 ld (ix+d_sprite),a4655 ld a,(ix+d_x)4656 sub (ix+d_refx)4657 ret4659 4662mov_izquierda:4663 ld a,(ix+d_y)4664 and $0f4665 jp nz,mov_previo4666 ld d,$104667 call anima_sprite_h4668 ret z4669 ld de,$00ff4670 call mov_libre4671 ret nc4672 dec (ix+d_x)4673 ld (ix+d_ultimo),mov_izquierda and 2554674 ld (ix+d_ultimo+1),mov_izquierda>>84675 ret4677 4680mov_derecha:4681 ld a,(ix+d_y)4682 and $0f4683 jp nz,mov_previo4684 ld d,$004685 call anima_sprite_h4686 cp $b04687 ret nc4688 ld de,$00014689 call mov_libre4690 ret nc4691 inc (ix+d_x)4692 ld (ix+d_ultimo),mov_derecha and 2554693 ld (ix+d_ultimo+1),mov_derecha>>84694 ret4696 4699mov_libre:4700 ld a,e4701 or a4702 jr z,.14703 bit 7,e4704 jr nz,.14705 ld a,e4706 add a,154707 ld e,a4708.1: ld a,d4709 or a4710 jr z,.24711 bit 7,d4712 jr nz,.24713 ld a,d4714 add a,154715 ld d,a4716.2: call accede_casilla4717 cp 97 4718 jr z,.34719 push hl4720 ld e,a4721 call checa_camino4722 pop hl4723 ret nc4724 scf4725 ret4727.3: bit 0,(ix+d_objeto) 4728 scf4729 ret nz 4730 ccf4731 ret4733 4736mov_libre0:4737 push de4738 call accede_casilla4739 push hl4740 ld e,a4741 call checa_camino4742 ld a,e4743 pop hl4744 pop de4745 ret nc4746 scf4747 ret4749 4752accede_casilla:4753 ld a,(ix+d_x)4754 sub (ix+d_refx)4755 add a,e4756 ld e,a4757 ld a,(ix+d_y)4758 sub (ix+d_refy)4759 add a,d4760 ld d,a4761accede_casilla2:4762 ld a,e4763 rrca4764 rrca4765 rrca4766 rrca4767 and $0f4768 ld e,a4769 ld a,d4770 and $f04771 rrca4772 ld d,a4773 rrca4774 add a,d4775 add a,e4776 push hl4777 ld e,a4778 ld d,04779 add hl,de4780 ld a,(hl)4781 pop hl4782 ret4784 4787indice_nivel:4788 or a4789 ret z4790 ld d,04791 ld b,a4792.1: bit 7,(hl) 4793 inc hl4794 jp z,.14795 ld e,(hl) 4796 add hl,de4797 djnz .14798 ret4800 4803lee_bit:4804 rrc c4805 jr nc,.14806 dec b4807 jr z,.34808 inc hl4809.1: ld a,(hl)4810 and c4811 jr z,.24812 ex af,af'4813 scf4814 rla4815 ex af,af'4816 ret4818.3: ld hl,puntos_cero 4819.2: ex af,af'4820 add a,a4821 ex af,af'4822 ret4824 4828descompacta_nivel:4829 push hl4830 exx4831 pop de4832 exx4833 4834.1: bit 7,(hl)4835 inc hl4836 jr z,.14837 ld bc,$ff01 4838 call lee_bit4839 dec hl 4840 ld a,l 4841 ld b,(hl) 4842 push bc4843 push de4844 push hl4845 push af4846 ld hl,mapa_ref14847 jr z,.24848 ld hl,mapa_ref24849.2: ld bc,$06ff4850.16: ldi4851 ld a,104852.17: ldi4853 dec hl4854 dec a4855 jr nz,.174856 inc hl4857 ldi4858 djnz .164859 pop af4860 pop hl4861 pop de4862 pop bc4863 inc hl 4864 dec b 4865 exx4866 sub e4867 exx4868 cp 94869 jp nc,.74871 4872.5:4873 call lee_bit 4874 jr z,.64875 call lee_bit 4876 call lee_bit 4877 ex af,af'4878 and 34879 cp 24880 jr c,.154881 ex af,af'4882 call lee_bit 4883 ex af,af' 4884 and 3 4885 add a,2 4886 cp 54887 jr nz,.154888 call lee_bit 4889 ex af,af'4890 and 14891 ld a,54892 jr z,.154893 call lee_bit 4894 ex af,af' 4895 and 14896 add a,64897.15: exx4898 ld l,a4899 ld h,04900 add hl,de4901 ld a,(hl)4902 and $7f4903 exx4904 ld (de),a4905.6: inc de4906 ld a,b4907 or a4908 jr nz,.54909 jp .114911 4912.7:4913 call lee_bit 4914 jr z,.84915 call lee_bit 4916 jr nz,.94917 call lee_bit 4918 call lee_bit 4919 ex af,af'4920 and 34921 jr .104923.9:4924 call lee_bit 4925 call lee_bit 4926 call lee_bit 4927 ex af,af'4928 and 74929 add a,44930 cp 114931 jr nz,.104932 call lee_bit 4933 call lee_bit 4934 ex af,af'4935 and 34936 add a,114937.10: exx4938 ld l,a4939 ld h,04940 add hl,de4941 ld a,(hl)4942 and $7f4943 exx4944 ld (de),a4945.8: inc de4946 ld a,b4947 or a4948 jr nz,.74949 4952.11: ld a,(ix+d_nivel)4953 cp 1004954 ret nz4955 ld l,(ix+d_real)4956 ld h,(ix+d_real+1)4957 ld b,724958.12: ld a,(hl)4959 or a4960 jr z,.134961 cp 94962 jr nz,.144963 ld (hl),604964 jr .144966.13: ld (hl),594967.14: inc hl4968 djnz .124969 ret4971mapa_ref1:4972 db 5,1,64973 db 2,0,34974 db 2,0,34975 db 2,0,34976 db 2,0,34977 db 7,4,84979mapa_ref2:4980 db 16,12,174981 db 13,10,144982 db 13,10,144983 db 13,10,144984 db 13,10,144985 db 18,15,194987 4990jug_fuera: 4991 db $10,$10 4992 db 0,0 4993 db 0,0 4994 db 2,6,2 4995 db 04996 db 0,0 4997 dw $3800 4998 db 0,0 4999 dw 0 5000 dw monigotes 5001 db -1 5002 db 0 5003 db $10,$10 5004 db 0,0,0 5005 db $40 5006 dw 0 5007 dw 0 5008 dw bits1 5009 db 0 5010 db 0 5011 db 0 5012 db 0 5013 dw 0 5014 dw 0 5015 db 0 5016 db 0 5017 db 0 5019jug1_inicial: 5020 db $01,$10 5021 db 0,7 5022 db 0,0 5023 db 2,6,2 5024 db 05025 db 0,0 5026 dw $3800 5027 db 0,0 5028 dw nivel1 5029 dw monigotes 5030 db 4 5031 db 0 5032 db $01,$10 5033 db 0,0,0 5034 db 0 5035 dw 0 5036 dw 0 5037 dw bits1 5038 db 0 5039 db 0 5040 db 0 5041 db 0 5042 dw 05043 dw 0 5044 db 0 5045 db 0 5046 db 0 5048jug2_inicial: 5049 db $41,$70 5050 db 64,9 5051 db 0,0 5052 db 2,6,2 5053 db 05054 db 0,0 5055 dw $3800+392 5056 db $40,$60 5057 dw nivel2 5058 dw monigotes+MAX_MONIGOTES*16 5059 db 4 5060 db 0 5061 db $41,$70 5062 db 0,0,0 5063 db 0 5064 dw 0 5065 dw 0 5066 dw bits2 5067 db 0 5068 db 0 5069 db 0 5070 db 0 5071 dw 05072 dw 0 5073 db 0 5074 db 0 5075 db 0 5077 5081 sonido.asm1 37ZZ: equ 0 38SO: equ $3f 40FIN1: equ $fe 41FIN2: equ $fd 42FIN3: equ $fc 44melodia_silencio: equ $3b80+00h 45melodia_esperando: equ $3b80+09h 46melodia_triunfo: equ $3b80+019h47melodia_fracaso: equ $3b80+02Ah48melodia_avance: equ $3b80+038h49melodia_batalla: equ $3b80+048h50melodia_final: equ $3b80+071h 51melodia_historia: equ $3b80+07Dh 52melodia_principal: equ $3b80+014Bh 53melodia_2: equ $3b80+02B0h 55 56musica_general:57 push hl58 ld a,(jug1+d_seccion)59 and $3060 ld l,a61 ld a,(jug2+d_seccion)62 and $3063 cp l64 jr nc,.165 ld a,l66.1: and $1067 ld a,$45 68 ld hl,melodia_principal69 jr z,.070 ld a,$49 71 ld hl,melodia_272.0: jr pone_melodia74 75musica_historia:76 push hl77 ld hl,melodia_historia78 ld a,$4179 jr pone_melodia81 82musica_avance:83 push hl84 ld hl,melodia_avance85 jr pone_melodia_simple87 88musica_esperando:89 push hl90 ld hl,melodia_esperando91 jr pone_melodia_simple93 94musica_batalla:95 push hl96 ld hl,melodia_batalla97 ld a,$8098 jr pone_melodia100 101musica_triunfo:102 push hl103 ld hl,melodia_triunfo104 jr pone_melodia_simple106 107musica_fracaso:108 push hl109 ld hl,melodia_fracaso110 jr pone_melodia_simple112 113musica_final:114 push hl115 ld hl,melodia_final116 jr pone_melodia_simple118 121inicia_sonido:122 125 ld a,$ff126 ld (ef_envm),a127 ld a,$b8128 ld (ef_mezc),a129 130musica_silencio:131 push hl132 ld hl,melodia_silencio133135 146pone_melodia_simple:147 xor a148pone_melodia:149 push bc150 ld c,a151 and $c0152 ld b,a153 ld a,(ef_band)154 and $3f155 or b156 ld (ef_band),a157 ld a,c158 and $3f159 ld (ef_env),a160 call zona_dura161 call RDVRM162 inc hl163 inc a164 srl a165 ld (ef_t),a166 xor a167 ld (ef_ritmo),a168 dec a 169 ld (ef_cn),a170 push de171 ld de,ef_ac1172 ld b,3173.0: CALL RDVRM174 ld (de),a175 inc de176 inc hl177 djnz .0178 pop de179 ld (ef_inicio),hl180 ld (ef_ap),hl181 ld hl,modo182 res 3,(hl) 183 pop bc184 pop hl 185 jp zona_facil187 190genera_musica:191 ld a,(ef_env)192 rrca193 jp c,genera_musica_historia194 ld a,(ef_cn)195 inc a 196 jr nz,.1197 200 ld hl,(ef_ap)201 call RDVRM202 cp $fe 203 ret z 204 cp $fc 205 jr nz,.6206 call musica_general207 jr genera_musica 209.6: cp $fd 210 jr nz,.0211 ld hl,(ef_inicio)212 call RDVRM213.0: inc hl214 ld (ef_ap),hl215 ld (ef_n),a 216 ld (ef_b),a 217 xor a218 ld (ef_cn),a 219 ld (ef_ta),a 223.1: ld a,(ef_t)224 sub 2225 ld c,a226 ld a,(ef_ta)227 cp c228 jr nc,.5229 ld a,(ef_n)230 or a231 jr z,.5232 call nota_a_frec233 ld (ef_voz1),hl234 ld a,14235 ld (ef_vol1),a236 239.5: ld a,(ef_b)240 or a241 jr z,.8242 call nota_a_frec243 ld (ef_voz2),hl244 ld a,13245 ld (ef_vol2),a246 249.8: ld hl,ef_ta250 inc (hl)251 ld a,(ef_t)252 cp (hl) 253 ret nz 254 ld (hl),0 255 ld hl,ef_cn256 inc (hl) 257 ld a,(hl)258 dec a 259 jr nz,.2 260 ld a,(ef_n)261 or a262 ret z263 ld b,a264 ld a,(ef_ac1)265 add a,b 266 ld (ef_n),a267 ret269.2: dec a 270 jr nz,.3 271 ld a,(ef_n)272 or a273 ret z274 ld b,a275 ld a,(ef_ac2)276 add a,b 277 ld (ef_n),a 278 ld a,(ef_b)279 sub 12 280 ld (ef_b),a281 ret283.3: dec a 284 jr nz,.4 285 ld a,(ef_n)286 or a287 ret z288 ld b,a289 ld a,(ef_ac3)290 add a,b 291 ld (ef_n),a292 ret294.4: dec a 295 ret nz 296 ld (hl),-1 297 ret299 302genera_musica_historia:303 ld a,(ef_cn)304 inc a 305 jr nz,.1306 ld hl,(ef_ap)307 call RDVRM 308 cp $fe 309 ret z 310 cp $fd 311 jr nz,.0312 ld a,(ef_ac1)313 xor 1 314 ld (ef_ac1),a315 ld hl,(ef_inicio)316 call RDVRM317.0: inc hl318 cp $3f 319 jr z,.4320 ld (ef_n),a321 xor a 322 ld (ef_ac2),a323.4: call RDVRM 324 inc hl325 ld (ef_ap),hl326 bit 6,a 327 jr z,.12 328 ex af,af'329 ld a,$80 330 ld (ef_tamb),a331 ex af,af'332.12: bit 7,a 333 jr z,.13 334 ex af,af'335 ld a,$40 336 ld (ef_tamb),a337 ex af,af'338.13: and $3f339 cp $3f 340 jr z,.5341 ld (ef_b),a342 xor a343 ld (ef_ac3),a344.5: xor a345 ld (ef_cn),a346 ld (ef_ta),a347 350.1: ld a,(ef_n) 351 or a 352 jr z,.6 353 call nota_a_frec354 ld a,(ef_env)355 and 12 356 jr nz,.7357 358 ld a,(ef_ac2) 359 call instrumento_piano360 ld (ef_voz2),hl 361 ld (ef_vol2),a362 srl h 363 rr l 364 jr .9366.7: cp 4367 ld a,(ef_ac1)368 jr nz,.8369 370 or a371 ld a,(ef_ac2) 372 jr nz,.15373 call instrumento_flauta_pan374 jr .9376.15: call instrumento_piano377 jr .9379 380.8: or a381 ld a,(ef_ac2)382 jr nz,.15383 call instrumento_clarinete384.9: ld (ef_voz1),hl385 ld (ef_vol1),a387 390.6: ld a,(ef_b) 391 or a 392 jr z,.2 393 call nota_a_frec394 ld a,(ef_env)395 and 12 396 jr nz,.10397 398 ld a,(ef_ac3)399 call instrumento_clarinete400 srl h 401 rr l402 jr nc,$+3 403 inc hl404 ld (ef_voz3),hl 405 ld (ef_vol3),a406 jr .2408 409.10: add hl,hl 410 add hl,hl411 ld a,(ef_t)412 add a,a413 ld d,a414 ld a,(ef_ta)415 cp d416 jr c,.11417 add hl,hl 418.11:419 ld (ef_voz2),hl420 ld a,(ef_ritmo) 421.14: sub 12422 jr nc,.14423 add a,12424 ld e,a425 ld d,0426 ld hl,volumen_bajo427 add hl,de428 ld a,(hl)429 ld (ef_vol2),a430 431.2: ld a,(ef_ac2)432 inc a433 cp $18434 jr nz,$+4435 sub $08436 ld (ef_ac2),a437 438 ld a,(ef_ac3)439 inc a440 cp $18441 jr nz,$+4442 sub $08443 ld (ef_ac3),a444 ld hl,ef_ta445 inc (hl)446 ld a,(ef_t)447 add a,a448 add a,a449 sub (hl) 450 ret nz 451 ld (hl),a452 dec a 453 ld (ef_cn),a454 ret456volumen_bajo:457 db 10,9,8,7,6,5,5,6,7,8,9,10458461 464nota_a_frec:465 add a,a466 ld e,a467 ld d,0468 ld hl,tabla_notas469 add hl,de470 ld a,(hl)471 inc hl472 ld h,(hl)473 ld l,a474 ret476 485instrumento_clarinete:486 ld bc,clarinete_vibrato487 call sonido_offset488 ld e,a489 rlca490 sbc a,a491 ld d,a492 add hl,de493 ld a,c494 sub a,clarinete_vibrato and 255495 ld bc,clarinete_volumen496 jp sonido_offset498clarinete_vibrato:499 db 0,0,0,0500 db -2,-4,-2,0501 db 2,4,2,0502 db -2,-4,-2,0503 db 2,4,2,0504 db -2,-4,-2,0506clarinete_volumen:507 db 14,14,13,13,12,12,12,12508 db 11,11,11,11,12,12,12,12509 db 11,11,11,11,12,12,12,12511 520instrumento_flauta_pan:521 ld bc,flauta_pan_vibrato522 call sonido_offset523 ld e,a524 rlca525 sbc a,a526 ld d,a527 add hl,de528 ld a,c529 sub a,flauta_pan_vibrato and 255530 rrca531 jr nc,.1532 add hl,hl533.1: rlca534 ld bc,flauta_pan_volumen535 jp sonido_offset537flauta_pan_vibrato:538 db 0,0,0,0539 db 0,1,2,1540 db 0,1,2,1541 db 0,1,2,1542 db 0,1,2,1543 db 0,1,2,1544 545flauta_pan_volumen:546 db 13,13,12,12,12,12,12,12547 db 11,11,11,11,11,11,11,11548 db 11,11,11,11,11,11,11,11550 559instrumento_piano:560 ld bc,piano_volumen561sonido_offset:562 add a,c563 ld c,a564 ld a,0565 adc a,b566 ld b,a567 ld a,(bc)568 ret570piano_volumen:571 db 14,13,13,12,12,11,11,10572 db 10,9,9,8,8,7,7,6573 db 6,6,7,7,6,6,5,5575 581emite_sonido:582 ld a,(ef_envm)583 inc a 584 ld d,$0b585 jr z,.001586 ld d,$0e587.001: ld hl,ef_voz1588 xor a589.000: out (PSG),a590 push af591 ld a,(hl)592 out (PSG+4),a593 pop af594 inc hl595 inc a596 cp d597 jr nz,.000598 ld a,$ff599 ld (ef_envm),a600 ret602 605genera_sonido:606 ld hl,modo607 bit 3,(hl) 608 ret nz 609 call emite_sonido610 ld a,(ef_mezc)611 and $c0 612 or $38613 ld (ef_mezc),a614 xor a 615 ld (ef_vol1),a616 ld (ef_vol2),a617 ld (ef_vol3),a618 ld (ef_jeje),a619 ld hl,modo620 bit 1,(hl) 621 ret nz 622 bit 4,(hl) 623 ret nz 624 call genera_musica625 call genera_llave626 call genera_rescate627 call genera_rasca628 call genera_tocado629 call genera_laser630 call genera_disparo631 call genera_explota632 call genera_monstruo633 call genera_megamonstruo634 call genera_berrido635 call genera_vida636 call genera_pierde637 ld hl,ef_band638 bit 6,(hl)639 jr nz,ritmo_variable640 bit 7,(hl)641 ret z642 645ritmo_carrera:646 ld hl,ef_ritmo647 ld a,(hl)648 ex af,af'649 inc (hl)650 ld a,(hl)651 sub 24652 jr nz,$+3653 ld (hl),a654 ex af,af'655 cp 3656 jr c,tambor_1657 cp 6658 jr z,tambor_2659 cp 12660 jr z,tambor_2661 ret663 666ritmo_variable:667 ld hl,ef_ritmo668 inc (hl)669 ld a,(hl)670 sub 48671 jr nz,$+3672 ld (hl),a673 ld hl,ef_tamb674 ld a,(hl)675 or a676 ret z677 cp $80678 jr nc,tambor_22679 call tambor_1680 inc (hl)681 ld a,(hl)682 sub $43683 ret nz684 ld (hl),a685 ret687tambor_1:688 ld a,$08 689 ld (ef_ruido),a690 push hl691 call activa_tambor692 pop hl693 ret694tambor_22:695 ld (hl),0696tambor_2:697 ld a,$05 698 ld (ef_ruido),a699 push hl700 call activa_tambor701 pop hl702 ret704 707activa_tambor:708 ld hl,ef_mezc709 ld a,(ef_vol1)710 or a711 jr nz,.1712 ld a,10713 ld (ef_vol1),a714 set 0,(hl)715 res 3,(hl)716 ret718.1: ld a,(ef_vol2)719 or a720 jr nz,.2721 ld a,10722 ld (ef_vol2),a723 set 1,(hl)724 res 4,(hl)725 ret727.2: ld a,(ef_vol3)728 or a729 jr nz,.3730 ld a,10731 ld (ef_vol3),a732 set 2,(hl)733 res 5,(hl)734 ret736.3: res 3,(hl)737 ret739 740efecto_llave:741 ld a,-1742 ld (ef_cont1),a743 ld hl,ef_band744 set 0,(hl)745 ret747 748efecto_rescate:749 ld a,-1750 ld (ef_cont2),a751 ld hl,ef_band752 set 1,(hl)753 ret755 756efecto_tocado:757 push af758 push hl759 ld a,4760 ld (ef_cont3),a761 ld hl,128762 ld (ef_frec3),hl763 pop hl764 pop af765 ret766 767 768efecto_disparo:769 push af770 push hl771 ld a,8772 ld (ef_cont4),a773 pop hl774 pop af775 ret777 778efecto_explota:779 push af780 push hl781 ld a,10782 ld (ef_cont5),a783 ld hl,768784 ld (ef_frec5),hl785 pop hl786 pop af787 ret789 790efecto_monstruo:791 push af792 push hl793 ld a,(ef_band)794 bit 3,a 795 jr nz,.1 796 ld a,10797 ld (ef_cont6),a798 ld hl,1000799 ld (ef_frec6),hl800 ld hl,750801 ld (ef_frec7),hl802 ld hl,500803 ld (ef_frec8),hl804 ld hl,ef_band805 set 2,(hl)806.1: pop hl807 pop af808 ret810 811efecto_megamonstruo:812 push af813 push hl814 ld a,40815 ld (ef_cont6),a816 ld hl,800817 ld (ef_frec6),hl818 ld hl,500819 ld (ef_frec7),hl820 ld hl,300821 ld (ef_frec8),hl822 ld hl,ef_band823 set 3,(hl)824 res 2,(hl)825 pop hl826 pop af827 ret829 830efecto_berrido:831 push af832 push hl833 ld a,(ix+d_ultimo+1)834 and $f0835 cp $20836 ld a,$80837 jr z,.1838 xor a839.1: ld (ef_cont7),a840 ld hl,ef_band841 set 4,(hl)842 pop hl843 pop af844 ret846 847efecto_vida:848 push af849 push hl850 xor a851 ld (ef_cont8),a852 ld hl,ef_band853 set 5,(hl)854 pop hl855 pop af856 ret858 859efecto_pierde:860 ld (ef_tipo9),a861 ld a,48862 ld (ef_cont9),a863 ret865 866efecto_laser:867 ld a,25868 ld (ef_cont10),a869 ret871 872efecto_rasca:873 ld a,10874 ld (ef_cont11),a875 ret877 880genera_llave:881 ld hl,ef_band882 bit 0,(hl)883 ret z884 ld a,(ef_cont1)885 inc a886 ld (ef_cont1),a887 cp 32888 jr nz,.1889 res 0,(hl)890 ret892.1: ld hl,.2893voz32: ld e,a894 and 3895 cp 3896 ld a,e897 ret nz898 and $fc899 rrca900voz31: ld e,a901 ld d,0902 add hl,de903 ld a,(hl)904 inc hl905 ld h,(hl)906 ld l,a907voz3: ld (ef_voz3),hl908 ld a,15909 ld (ef_vol3),a910 ret912genera_llave.2:913 dw 453914 dw 226915 dw 453916 dw 226917 dw 359918 dw 180919 dw 301920 dw 150922 925genera_rescate:926 ld hl,ef_band927 bit 1,(hl)928 ret z929 ld a,(ef_cont2)930 inc a931 ld (ef_cont2),a932 cp 48933 jr nz,.1934 res 1,(hl)935 ret937.1: ld hl,.2938 jr voz32940.2: dw 453941 dw 301942 dw 453943 dw 301944 dw 453945 dw 359946 dw 453947 dw 359948 dw 453949 dw 226950 dw 453951 dw 226953 956genera_tocado:957 ld hl,ef_cont3958 ld a,(hl)959 or a960 ret z961 dec (hl)962 ld hl,(ef_frec3)963 add hl,hl964 ld (ef_frec3),hl965 jp voz3967 970genera_disparo:971 ld hl,ef_cont4972 ld a,(hl)973 or a974 ret z975 dec a976 ld (hl),a977 add a,a978 979 ld hl,.1980 jp voz31982.1: dw $03c0983 dw $0380984 dw $0340985 dw $0300986 dw $02c0987 dw $0280988 dw $0240989 dw $0200991 994genera_explota:995 ld hl,ef_cont5996 ld a,(hl)997 or a998 ret z999 dec (hl)1000 ld hl,(ef_frec5)1001 ld de,251002 add hl,de1003 ld (ef_frec5),hl1004 jp voz31006 1009genera_monstruo:1010 ld hl,ef_band1011 bit 2,(hl)1012 ret z1013 ld a,(ef_cont6)1014 dec a1015 ld (ef_cont6),a1016 jr nz,.11017 res 2,(hl)1018.1: sub 31019 jr nc,.11020 add a,31021 ld hl,(ef_frec6)1022 ld de,21023 add hl,de1024 ld (ef_frec6),hl1025 or a1026 jr nz,.21027 call voz31028 xor a1029.2: ld hl,(ef_frec7)1030 ld de,251031 add hl,de1032 ld (ef_frec7),hl1033 dec a1034 jr nz,.31035 call voz31036 xor a1037.3: ld hl,(ef_frec8)1038 ld de,121039 add hl,de1040 ld (ef_frec8),hl1041 dec a1042 ret nz1043 jp voz31045 1048genera_megamonstruo:1049 ld hl,ef_band1050 bit 3,(hl)1051 ret z1052 ld a,(ef_cont6)1053 dec a1054 ld (ef_cont6),a1055 jr nz,.11056 res 3,(hl)1057.1: sub 31058 jr nc,.11059 add a,31060 ld hl,(ef_frec6)1061 ld de,-201062 jr nz,.41063 ld de,401064.4: add hl,de1065 ld (ef_frec6),hl1066 or a1067 jr nz,.21068 call voz31069 xor a1070.2: ld hl,(ef_frec7)1071 ld de,51072 add hl,de1073 ld (ef_frec7),hl1074 dec a1075 jr nz,.31076 call voz31077 xor a1078.3: ld hl,(ef_frec8)1079 inc hl1080 inc hl1081 ld (ef_frec8),hl1082 dec a1083 ret nz1084 jp voz31086 1089genera_berrido:1090 ld hl,ef_band1091 bit 4,(hl)1092 ret z1093 ld a,(ef_cont7)1094 ld b,a1095 and $801096 ld c,a1097 ld de,5001098 jr z,.21099 ld de,2501100.2: ld a,b1101 inc a1102 and $7f1103 cp 251104 jr nz,.11105 res 4,(hl)1106.1: or c1107 ld (ef_cont7),a1108 and 61109 srl a1110 ld h,a1111 ld l,01112 srl h1113 rr l1114 add hl,de1115 jp voz31117 1120genera_vida:1121 ld hl,ef_band1122 bit 5,(hl)1123 ret z1124 ld a,(ef_cont8)1125 inc a1126 ld (ef_cont8),a1127 cp 491128 jr nz,.11129 res 5,(hl)1130.1: and 41131 ret nz1132 ld a,(ef_cont8)1133 ld l,a1134 ld a,1001135 sub l1136 ld l,a1137 ld h,01138 jp voz31140 1143genera_pierde:1144 ld a,(ef_cont9)1145 or a1146 ret z1147 dec a1148 ld (ef_cont9),a1149 cp 471150 ld hl,3181151 jr z,.11152 cp 311153 ld hl,3481154 jr z,.11155 cp 151156 ld hl,4281157 jr z,.11158 ld hl,(ef_frec9)1159 ld d,h1160 ld e,l1161 add hl,hl1162 add hl,hl1163 add hl,hl1164 ld l,h1165 ld h,01166 add hl,de1167.1: ld (ef_frec9),hl1168 ld a,(ef_tipo9)1169 or a 1170 jr z,.21171 srl h1172 rr l1173.2: jp voz31175 1178genera_laser:1179 ld a,(ef_cont10)1180 or a1181 ret z1182 dec a1183 ld (ef_cont10),a1184 cp 241185 ld hl,1501186 jr z,.11187 cp 161188 ld l,1201189 jr z,.11190 cp 81191 ld l,901192 jr z,.11193 ld hl,(ef_frec10)1194 ld a,l1195 sub 101196 ld l,a1197.1: ld (ef_frec10),hl1198 jp voz31200 1203genera_rasca:1204 ld hl,ef_cont111205 ld a,(hl)1206 or a1207 ret z1208 dec (hl)1209 add a,161210 ld (ef_ruido),a1211 jp activa_tambor1213 1214tabla_notas:1215 1216 dw 01217 1218 dw 1721,1621,1532,1434,1364,1286,1216,1141,1076,1017,956,9091219 1220 dw 854,805,761,717,678,639,605,571,538,508,480,4531221 1222 dw 427,404,380,360,339,321,302,285,270,254,240,2261223 1224 dw 214,202,191,180,170,160,151,143,135,127,120,1131225 1226 dw 107,101,95,90,85,80,76,71,67,64,60,571227 1229zw.asm5083 historia.asm1 25 30presentacion:31.0:32 call inicia_sonido33 call limpia_sprites34 xor a 35 ld (modo),a36 call espera_int37 CALL PANTALLA_NEGRA38 41 call espera_int42 LD BC,$A201 43 CALL WRTVDP44 49 LD HL,logo_1 50 LD DE,$000051 CALL unpack52 LD HL,logo_2 53 LD DE,$200054 CALL unpack55 59 LD HL,figuras_sprites60 LD DE,$180061 CALL unpack62 ld a,(ganado)63 rrca64 jr nc,.55765 call zona_dura66 LD HL,sprites_heroes+$90*867 LD DE,$180068 LD BC,$004069 CALL LDIRVM70 call zona_facil71.557:73 76 ld a,(quien)77 or a 78 jr z,.558 79 ld hl,bits180 ld (hl),$08 81 inc hl82 ld (hl),$09 83 inc hl84 ld (hl),$0085 inc hl86 ld de,record87 call dos_digitos288 call dos_digitos289 call dos_digitos290 ld (hl),$2091 ld a,(quien)92 add a,(hl)93 inc hl94 ld (hl),$0095 inc hl96 ld (hl),a97 inc hl98 ld (hl),$15 99 inc hl100 ld (hl),$90 101 ld hl,$0c88102 ld de,bits1103 ld c,$e1104 call visual_mensaje1105.558:106 109 call espera_int110 LD BC,$E201 111 CALL WRTVDP112 ld hl,modo113 set 0,(hl) 114 ld hl,sprite_pistola115 ld de,sprites116 ld bc,8117 ldir118.906:119 ld de,(ticks)120.1: call espera_int121 call parpadeo_pistola122 ret z 123 ld a,c124 rrca 125 jr nc,.900126 rrca127 rrca 128 jr nc,.901129 or a130 sbc hl,de131 ld bc,800 132 sbc hl,bc133 jr c,.1134 jr .907136 137.900:138 ld a,(sprites)139 cp $69140 jr z,.903141 sub $0F142 jr .903144 145.901: ld a,(sprites)146 cp $87147 jr z,.903148 add a,$0F149.903: ld (sprites),a150 ld (sprites+4),a151 ld de,(ticks)152.904: call parpadeo_pistola153 ret z 154 or a155 sbc hl,de156 ld bc,18157 sbc hl,bc158 jr c,.904159 jr .906161 164.907: call limpia_sprites165 call pantalla_negra166 call musica_historia167 ld hl,$0040168 ld de,mensaje_21169 ld c,$e1170 call visual_mensaje1171 ld hl,$0300172 ld de,mensaje_22173 ld c,$a1174 call visual_mensaje1175 ld de,(ticks)176.908: call espera_int177 call boton_oprimido 178 jp z,.0179 ld hl,(ticks)180 or a181 sbc hl,de182 ld bc,1200 183 sbc hl,bc184 jr c,.908186.909: call pantalla_negra187 call espera_int188 ld ix,historia_retratos189.911: call carga_dato190 ld a,h191 or l192 jr z,.910193 call carga_retrato194 call carga_dato195 call retardo_cuadro196 jr .911198.910: call retardo_cuadro2199 call retardo_cuadro2200 call retardo_cuadro2201 jp .0203carga_dato:204 ld l,(ix+0)205 ld h,(ix+1)206 ld e,(ix+2)207 ld d,(ix+3)208 ld bc,4209 add ix,bc210 ret212parpadeo_pistola:213 call espera_int214 ld a,(ticks)215 and 12216 ld bc,$0e0f217 jr nz,.905218 ld bc,$0101219.905: ld a,b220 ld (sprites+3),a221 ld a,c222 ld (sprites+7),a223 call boton_oprimido 224 ld hl,(ticks)225 ret227sprite_pistola:228 db $69,$88,$04,$0e 229 db $69,$88,$00,$0f 231historia_retratos:232 dw retrato_investigadora2,$0000,$0148,mensaje_23233 dw retrato_jefe2a,$00c0,$0478,mensaje_24234 dw retrato_telefonista,$0860,$0ba8,mensaje_25235 dw retrato_delta_1,$10c0,$1380,mensaje_26236 dw retrato_delta_2,$1000,$1648,mensaje_27237 dw 0239 243retardo_cuadro:244 ld c,$21245 call visual_mensaje1246retardo_cuadro2:247 ld de,(ticks)248.0: call espera_int249 call boton_oprimido250 pop hl251 jp z,presentacion.0252 push hl253 ld hl,(ticks)254 sbc hl,de255 ld bc,250256 sbc hl,bc257 jr c,.0258 call espera_int259 ret261 265boton_oprimido:266 push bc267 ld b,$ff268 call control_1269 call control_2270 ld a,b271 pop bc272 ld c,a273 and $40274 ret276 279toma_final:280 call limpia_sprites281 call espera_int282 call musica_silencio283 call espera_int284 LD HL,modo285 res 2,(hl) 286 set 5,(hl) 287 call PANTALLA_NEGRA288 291 call espera_int292 LD BC,$A201 293 CALL WRTVDP294 297 LD HL,fin_1 298 LD DE,$0000299 CALL unpack300 LD HL,fin_2 301 LD DE,$2000302 CALL unpack303 call espera_int304 LD BC,$E201 305 CALL WRTVDP306 call musica_final307 ld bc,600308 call retardo309 ld hl,ganado310 inc (hl)311 ld hl,modo312 res 5,(hl)313 jp REINICIO315 318retardo:319 ld de,(ticks)320.0: call espera_int321 ld hl,(ticks)322 or a323 sbc hl,de324 sbc hl,bc325 jr c,.0326 ret328 332zona_historia:333 push ix334 push iy335 call zona_dura336 ld bc,$0100337 ld a,(ix+d_refx)338 or a339 jr nz,.1340 ld hl,$3800341 ld a,$ff342 call filvrm343 ld hl,letras344 ld de,$0000345 ld bc,$01a8346 call LDIRVM347 call zona_facil348 ld hl,color_letras349 ld de,$2000350 call unpack351 ld hl,graf_bitmap352 ld de,$01c0353 call unpack354 ld de,$21c0355 jr .2357.1: ld hl,$3a00358 xor a359 call filvrm360 ld hl,letras361 ld de,$1000362 ld bc,$01a8363 call LDIRVM364 call zona_facil365 ld hl,color_letras366 ld de,$3000367 call unpack368 ld hl,graf_bitmap369 ld de,$11c0370 call unpack371 ld de,$31c0372.2: ld hl,graf_color373 call unpack374 pop iy375 pop ix376 ret378 381avanza_historia:382 ld a,(ix+d_estado)383 or a384 ret z385 ld a,(ix+d_tiempo)386 sub 7 387 or (ix+d_tiempo+1)388 call z,zona_historia_2 393 ld a,(ix+d_tiempo)394 dec a 395 or (ix+d_tiempo+1)396 ret nz397 ld a,(ix+d_estado)398 cp $fd 399 jp z,.1400 cp $ff 401 jp z,.2402 cp $fe 403 jp nz,visualiza_historia404 407 ld (ix+d_estado),0 408 call zona_historia409 call actualiza_indicadores_nivel410 res 3,(ix+d_objeto) 411 xor a412 ld (ix+d_tiempo),a 413 ld (ix+d_tiempo+1),a414 ld a,(ix+d_sprite)415 and $04 416 rlca417 rlca418 rlca419 rlca420 or $08421 ld (ix+d_sprite),a422 ld l,(ix+d_moni)423 ld h,(ix+d_moni+1)424 ld de,16 425 add hl,de426 push iy427 push hl428 pop iy429 ld (iy+d_tipo),12 430 ld (iy+d_paso),4 431 ld (iy+d_velocidad),4432 ld (iy+d_dx),12 433 pop iy434 ret436 439.1: call zona_historia 440 xor a441 ld (ix+d_estado),a 442 ld (ix+d_tiempo),a 443 ld (ix+d_tiempo+1),a444 ld (ix+d_nivel),a 445 ld (ix+d_rescatados),a 446 ld a,(ix+d_seccion)447 add a,$10 448 ld (ix+d_seccion),a449 ld (ix+d_energia),6 452 ld a,(ix+d_refx)453 inc a454 ld (ix+d_basex),a 455 ld (ix+d_x),a 456 ld a,(ix+d_refy)457 add a,$10458 ld (ix+d_y),a 459 ld (ix+d_basey),a 460 ld (ix+d_paso),2461 ld (ix+d_velocidad),2462 465 ld l,(ix+d_mapa)466 ld h,(ix+d_mapa+1)467 ld b,51468 ld (hl),0469 inc hl470 djnz $-3471 call musica_general472 475 call actualiza_indicadores_nivel476 479 jp efecto_vida481 484.2: xor a485 ld (ix+d_estado),a 486 ld (ix+d_tiempo),a 487 ld (ix+d_tiempo+1),a488 set 7,(ix+d_objeto) 489 ret491 494muestra_lema:495 ld a,(ix+d_seccion)496 and $30497 ld b,1 498 jr z,.1499 ld b,11 500 cp $10501 jr z,.1 502 ld b,23 503.1: ld a,b504510inicia_historia:511 ld (ix+d_estado),a512 ld (ix+d_tiempo),8513 ld (ix+d_tiempo+1),0514 517zona_historia_2:518 ld a,(ix+d_estado)519 inc a 520 ret z 521 call zona_dura522 ld bc,384523 ld a,(ix+d_refx)524 or a525 ld hl,$3800526 ld a,$ff527 jr z,.1528 ld hl,$3980529 xor a530.1: call FILVRM531 jp zona_facil533 537visualiza_historia:538 ld hl,tabla_historia-4539 ld a,(ix+d_estado)540 add a,a541 add a,a542 ld e,a543 ld d,0544 add hl,de545 ld a,(ix+d_refx)546 or a 547 jr z,.1 548 inc hl 549 inc hl550 scf551.1: ld a,(hl)552 inc hl553 ld h,(hl)554 ld l,a555 558 ld a,(hl) 559 inc hl560 push af561 ld a,(hl) 562 jr nc,.0 563 and $f0564 or $08565 jr .7566.0: and $f0567.7: push hl568 ld e,a569 ld d,0570 ld hl,tabla_retratos-16571 add hl,de572 ld e,(hl) 573 inc hl574 ld d,(hl)575 inc hl576 ld b,(hl) 577 inc hl578 ld a,(hl) 579 ld (hist_tem),a580 inc hl581 ld c,(hl) 582 inc hl583 ld a,(hl)584 inc hl585 push hl586 ex de,hl587 ld e,c588 ld d,a589 ld a,b590 push de591 push hl592 ld hl,modo593 set 5,(hl) 594 pop hl595 call carga_retrato 596 pop de597 srl d598 rr e599 srl d600 rr e601 srl d602 rr e603 call zona_dura604 ld hl,$3800605 add hl,de606 ld c,8 607.6: ld b,8 608 ld a,l609 call WRTVRM610 inc l611 djnz $-5612 ld a,l613 add a,24614 ld l,a615 dec c616 jr nz,.6617 call zona_facil618 ld hl,modo619 res 5,(hl) 620 pop hl621 ld e,(hl) 622 inc hl623 ld d,(hl)624 pop hl625 ld a,(hl) 626 and $0f627 ld b,a628 inc hl629 ld a,(hist_tem)630 or a 631 jr z,.5 632 ld a,15 633 sub b634 add a,a635 add a,a636 add a,a637 add a,e638 ld e,a639.5: ex de,hl640 call visual_mensaje_idioma641 ld (ix+d_tiempo),300 and 255642 ld (ix+d_tiempo+1),300 >> 8643 pop af644 or a 645 jr nz,.2646 inc (ix+d_estado)647 ret649.2: dec a 650 jr nz,.3651 inc (ix+d_estado)652 ld a,(ix+d_rescatados)653 or a654 ret nz655.8: inc (ix+d_estado)656 ret658.3: dec a 659 jr nz,.4660 inc (ix+d_estado)661 jr .8663.4: 664 add a,$fc 665 ld (ix+d_estado),a 666 ret668 675tabla_retratos:676 dw retrato_delta_1,$0100+(retrato_delta_1>>16),$0080,$0200677 dw retrato_delta_2,$0000+(retrato_delta_2>>16),$1040,$1288678 dw retrato_telefonista,$0000+(retrato_telefonista>>16),$0000,$0248679 dw retrato_telefonista,$0100+(retrato_telefonista>>16),$10c0,$1240680 dw retrato_investigadora2,$0000+(retrato_investigadora2>>16),$0000,$0248681 dw retrato_investigadora2,$0100+(retrato_investigadora2>>16),$10c0,$1240682 dw retrato_jefe2a,$0000+(retrato_jefe2a>>16),$0000,$0248683 dw retrato_jefe2a,$0100+(retrato_jefe2a>>16),$10c0,$1240684 dw retrato_jefe2b,$0000+(retrato_jefe2b>>16),$0000,$0248685 dw retrato_jefe2b,$0100+(retrato_jefe2b>>16),$10c0,$1240687 690tabla_historia:691 694 dw historia_1a,historia_1b 695 dw historia_2,historia_2 696 dw historia_3a,historia_3b 697 dw historia_4a,historia_4b 698 dw historia_5,historia_5 699 dw historia_6,historia_6 703 dw historia_7a,historia_7b 704 dw historia_8,historia_8 705 dw historia_9a,historia_9b 706 dw historia_10,historia_10 710 dw historia_11a,historia_11b 711 dw historia_12,historia_12 712 dw historia_13a,historia_13b 713 dw historia_14a,historia_14b 714 dw historia_15,historia_15 715 dw historia_16,historia_16 719 dw historia_17a,historia_17b 720 dw historia_18,historia_18 721 dw historia_19a,historia_19b 722 dw historia_20,historia_20 723 dw historia_21a,historia_21b 724 dw historia_22,historia_22 728 dw historia_23a,historia_23b 729 dw historia_24,historia_24 730 dw historia_25a,historia_25b 731 dw historia_26a,historia_26b 732 dw historia_27,historia_27 733 dw historia_28a,historia_28b 734zw.asm5085 5089unpack:5090 call zona_dura50915092 ex de,hl5093 call SETWRT5094 ex de,hl50955096 ld a,(hl)5097 inc hl5098 exx5099 ld de,05100 add a,a5101 inc a5102 rl e5103 add a,a5104 rl e5105 add a,a5106 rl e5107 rl e5108 ld hl,modes5109 add hl,de5110 ld c,(hl)5111 inc hl5112 ld b,(hl)5113 push bc5114 pop ix5115 ld e,15116 exx5117 ld iy,loop51195120literal:ld c,VDP5121 outi5122 inc de5123loop: add a,a5124 call z,getbit5125 jr nc,literal51275128 exx5129 ld h,d5130 ld l,e5131getlen: add a,a5132 call z,getbitexx5133 jr nc,lenok5134lus: add a,a5135 call z,getbitexx5136 adc hl,hl5137 jp c,zona_facil5138 add a,a5139 call z,getbitexx5140 jr nc,lenok5141 add a,a5142 call z,getbitexx5143 adc hl,hl5144 jp c,zona_facil5145 add a,a5146 call z,getbitexx5147 jr c,lus5148lenok: inc hl5149 exx5150 ld c,(hl)5151 inc hl5152 ld b,05153 bit 7,c5154 jr z,offsok5155 jp (ix)5157mode6: add a,a5158 call z,getbit5159 rl b5160mode5: add a,a5161 call z,getbit5162 rl b5163mode4: add a,a5164 call z,getbit5165 rl b5166mode3: add a,a5167 call z,getbit5168 rl b5169mode2: add a,a5170 call z,getbit5171 rl b5172 add a,a5173 call z,getbit5174 jr nc,offsok5175 or a5176 inc b5177 res 7,c5178offsok: inc bc5179 push hl5180 exx5181 push hl5182 exx5183 ld l,e5184 ld h,d5185 sbc hl,bc5186 pop bc5187 ex af,af'5188loop2: call RDVRM5189 ex de,hl5190 call WRTVRM5191 ex de,hl 5192 inc hl 5193 inc de 5194 dec bc 5195 ld a,b 5196 or c 5197 jr nz,loop2 5198 ex af,af'5199 pop hl5200 jp (iy)5202getbit: ld a,(hl)5203 inc hl5204 rla5205 ret5207getbitexx:5208 exx5209 ld a,(hl)5210 inc hl5211 exx5212 rla5213 ret5215modes:5216 dw offsok5217 dw mode25218 dw mode35219 dw mode45220 dw mode55221 dw mode65223 5226sprites_bin: incbin "sprites.bin.plet5"5227sprites_heroes: equ $C0005228sprites_jefes: equ $C000+$98*85230 5237caminable:5238 db $c05239 db $005240 db $3f5241 db $005242 db $005243 db $005244 db $005245 db $005246 db $005247 db $005248 db $005249 db $005250 db $055251 db $105252 db $035253 db $c05254 db $005255 db $155256 db $515257 db $545258 db $555259 db $555260 db $555261 db $555262 db $055264 5265 graficas.asm1 50 54letras:55 db $00,$00,$00,$00,$00,$00,$00,$00 56 db $38,$6c,$c6,$c6,$fe,$c6,$c6,$00 57 db $fc,$c6,$c6,$fc,$c6,$c6,$fc,$00 58 db $3c,$66,$c0,$c0,$c0,$66,$3c,$00 59 db $f8,$cc,$c6,$c6,$c6,$cc,$f8,$00 60 db $FE,$C0,$C0,$FC,$C0,$C0,$FE,$00 61 db $FE,$C0,$C0,$FC,$C0,$C0,$C0,$00 62 db $3C,$66,$C0,$CE,$C6,$66,$3C,$00 63 db $c6,$c6,$c6,$fe,$c6,$c6,$c6,$00 64 db $78,$30,$30,$30,$30,$30,$78,$00 65 db $06,$06,$06,$06,$c6,$c6,$7c,$00 66 db $c6,$c6,$cc,$f8,$cc,$c6,$c6,$00 67 db $C0,$C0,$C0,$C0,$C0,$C0,$FE,$00 68 db $c6,$ee,$fe,$d6,$d6,$c6,$c6,$00 69 db $C6,$e6,$f6,$DE,$CE,$C6,$C6,$00 70 db $38,$6c,$C6,$C6,$C6,$6c,$38,$00 71 db $Fc,$C6,$C6,$fc,$c0,$C0,$C0,$00 72 db $38,$6c,$c6,$c6,$c6,$6c,$36,$03 73 db $Fc,$C6,$C6,$fC,$d8,$Cc,$C6,$00 74 db $7c,$c6,$c0,$7c,$06,$c6,$7c,$00 75 db $fc,$30,$30,$30,$30,$30,$30,$00 76 db $C6,$C6,$C6,$C6,$C6,$c6,$7c,$00 77 db $c6,$c6,$c6,$6c,$6c,$38,$10,$00 78 db $c6,$c6,$c6,$d6,$fe,$fe,$6c,$00 79 db $c6,$c6,$6c,$38,$6c,$c6,$c6,$00 80 db $C6,$C6,$6C,$38,$30,$30,$30,$00 81 db $fe,$0c,$18,$30,$60,$c0,$fe,$00 82 db $ff,$c0,$c0,$c0,$c0,$c0,$c0,$ff 83 db $ff,$c0,$c0,$c0,$c0,$c0,$c0,$ff 84 db $ff,$00,$00,$00,$00,$00,$00,$ff 85 db $ff,$00,$00,$00,$00,$00,$00,$ff 86 db $c0,$c0,$c0,$c0,$c0,$c0,$c0,$c0 87 db $7c,$c6,$ce,$DE,$f6,$e6,$7c,$00 88 db $30,$70,$30,$30,$30,$30,$78,$00 89 db $7C,$C6,$06,$3c,$60,$C0,$FE,$00 90 db $7C,$C6,$0c,$38,$0c,$C6,$7C,$00 91 db $1E,$36,$66,$c6,$fe,$06,$06,$00 92 db $FE,$C0,$C0,$Fc,$06,$0c,$F8,$00 93 db $3E,$60,$c0,$fc,$C6,$c6,$7c,$00 94 db $FE,$06,$0C,$18,$30,$30,$30,$00 95 db $7C,$C6,$c6,$7c,$c6,$C6,$7C,$00 96 db $7c,$c6,$C6,$7e,$06,$0c,$78,$00 97 db $00,$6C,$fe,$fe,$7c,$38,$10,$00 98 db $30,$70,$30,$30,$30,$30,$78,$00 99 db $7C,$C6,$06,$3c,$60,$C0,$FE,$00 100 db $3c,$30,$3c,$30,$78,$CC,$CC,$78 101 db $18,$3c,$3c,$3c,$18,$00,$18,$18 102 db $7C,$C6,$0C,$18,$18,$00,$18,$18 103 db $0C,$18,$30,$00,$00,$00,$00,$00 104 db $c0,$cc,$18,$30,$60,$cc,$0c,$00 105 db $38,$6c,$c6,$c6,$fe,$c6,$c6,$00 106 db $fc,$c6,$c6,$fc,$c6,$c6,$fc,$00 107 db $00,$00,$00,$fc,$00,$00,$00,$00 109zw.asm5267 5268 mapas.asm1 10mapa1:11 12 db $16,$17,$09,$14,$36,$5B,$E2,$0D,$00,$06,$A2,$2A,$00,$C0,$04,$7213 db $A8,$07,$81,$F014 15 db $17,$18,$16,$38,$62,$09,$2A,$36,$56,$5A,$DB,$10,$0B,$16,$06,$D216 db $94,$F3,$40,$F1,$91,$81,$0A,$85,$41,$80,$7417 18 db $16,$09,$17,$5A,$62,$1A,$34,$DB,$10,$00,$01,$11,$F0,$F3,$87,$E519 db $C0,$2B,$4C,$04,$44,$1A,$01,$C020 21 db $1E,$09,$5A,$5B,$2A,$55,$E2,$0E,$00,$03,$A7,$AC,$21,$F1,$80,$C022 db $42,$10,$06,$AB,$4023 24 db $1C,$1D,$62,$09,$38,$39,$5A,$DD,$0E,$1C,$03,$CC,$25,$8B,$2B,$0D25 db $1F,$80,$59,$56,$40,$3E26 27 db $1B,$09,$5A,$5B,$62,$1A,$2B,$BA,$10,$00,$07,$25,$8F,$BF,$8F,$0628 db $0D,$A0,$92,$22,$01,$75,$80,$7029 30 db $1C,$16,$1A,$5F,$62,$17,$1D,$B4,$10,$00,$02,$49,$F4,$92,$66,$0031 db $69,$A2,$DF,$5F,$C3,$80,$00,$1C32 33 db $1D,$1C,$5C,$09,$E2,$0D,$00,$02,$50,$B4,$1A,$90,$63,$B8,$0C,$6C34 db $01,$8035 36 db $1C,$1D,$62,$09,$5C,$DF,$0E,$00,$01,$09,$E4,$18,$51,$40,$68,$7037 db $08,$80,$01,$8038 39 db $09,$3A,$5C,$54,$57,$58,$59,$5A,$5B,$E2,$0F,$00,$02,$C0,$28,$3240 db $23,$92,$01,$49,$C0,$23,$7A,$00,$1D41 42 db $1B,$09,$62,$16,$17,$1C,$39,$5A,$DB,$0F,$06,$80,$21,$0C,$A1,$0A43 db $1B,$09,$04,$B1,$60,$03,$92,$0544 45 db $09,$1B,$5A,$62,$16,$17,$1C,$38,$DB,$10,$03,$60,$5A,$52,$96,$9246 db $14,$81,$00,$C6,$55,$00,$20,$E0,$5847 48 db $09,$16,$1B,$62,$17,$1C,$36,$38,$5A,$DB,$13,$06,$CB,$05,$29,$4449 db $56,$44,$70,$00,$9C,$4E,$A7,$12,$5D,$88,$76,$00,$1650 51 db $1B,$09,$5A,$5B,$E2,$0E,$00,$02,$42,$42,$41,$70,$28,$E3,$52,$3052 db $E0,$68,$A053 54 db $1B,$09,$62,$5A,$5B,$9A,$11,$00,$02,$24,$89,$1E,$1B,$4D,$A1,$8455 db $89,$25,$60,$75,$70,$00,$C056 57 db $1B,$09,$5A,$5B,$62,$D7,$0E,$38,$00,$14,$F0,$12,$49,$24,$83,$8558 db $C6,$80,$1A,$C059 60 db $1C,$09,$1D,$5A,$5B,$62,$B8,$12,$03,$C1,$F1,$24,$8C,$92,$06,$9461 db $BC,$26,$48,$92,$40,$34,$72,$80,$1E62 63 db $1E,$09,$38,$39,$4E,$55,$58,$5A,$5D,$E2,$11,$15,$42,$C0,$1B,$0D64 db $08,$9C,$C1,$00,$09,$C0,$10,$84,$23,$80,$3A65 66 db $09,$1C,$1D,$62,$2B,$5A,$DB,$11,$00,$D0,$2E,$2A,$3B,$80,$1E,$9F67 db $68,$CB,$17,$00,$9E,$7C,$01,$A068 69 db $1C,$5A,$09,$1D,$62,$DB,$0D,$03,$80,$36,$16,$68,$E0,$28,$0B,$9270 db $00,$07,$B071 72 db $17,$09,$16,$19,$62,$18,$2A,$5A,$5E,$DF,$11,$30,$00,$1D,$88,$D573 db $55,$82,$76,$91,$C0,$5E,$61,$15,$20,$00,$0374 75 db $09,$1C,$1D,$2B,$5C,$5D,$4E,$56,$5A,$E2,$12,$00,$01,$11,$18,$1876 db $0A,$DC,$EA,$93,$60,$0E,$58,$19,$65,$04,$00,$E877 78 db $1B,$09,$16,$17,$36,$5C,$62,$19,$2A,$34,$39,$DB,$14,$07,$B4,$0379 db $97,$DC,$31,$57,$5B,$19,$90,$C8,$22,$09,$44,$04,$BE,$00,$06,$8080 81 db $09,$36,$16,$17,$18,$5A,$5B,$19,$29,$2B,$3A,$56,$E2,$14,$00,$0382 db $E5,$5F,$26,$71,$BA,$B0,$C8,$8C,$87,$91,$82,$48,$3A,$68,$D0,$0083 db $7D84 85 db $17,$16,$19,$62,$09,$29,$38,$59,$5C,$DD,$14,$00,$B3,$40,$C0,$E086 db $6E,$63,$31,$13,$12,$B2,$AA,$62,$AA,$20,$30,$3A,$00,$1687 88 db $04,$1C,$5A,$03,$1D,$62,$06,$08,$09,$AA,$12,$00,$34,$3B,$33,$8289 db $71,$72,$C8,$52,$96,$C9,$C2,$22,$23,$60,$05,$2890 91 db $01,$09,$62,$02,$05,$06,$57,$58,$5C,$DD,$11,$00,$28,$24,$4B,$4292 db $98,$88,$88,$88,$88,$C9,$69,$13,$C5,$0D,$9D93 94 db $1C,$1D,$09,$62,$5A,$5B,$DC,$10,$03,$40,$1C,$2D,$B4,$92,$41,$9E95 db $34,$E6,$2C,$8D,$30,$0F,$8096 97 db $1C,$09,$1D,$62,$1A,$39,$57,$5C,$DD,$10,$19,$B0,$03,$82,$22,$2B98 db $00,$90,$16,$9A,$88,$8D,$00,$0D,$C899 100 db $1C,$1D,$09,$5A,$55,$58,$5B,$E2,$0F,$00,$00,$0D,$02,$75,$92,$CA101 db $00,$D6,$06,$1E,$3E,$00,$FC102 103 db $1B,$36,$5A,$18,$62,$09,$16,$57,$DB,$12,$03,$00,$22,$35,$04,$45104 db $C0,$51,$40,$26,$6E,$53,$32,$0D,$B9,$95,$06105 106 db $1C,$09,$16,$17,$5C,$62,$18,$19,$1D,$D9,$12,$01,$90,$11,$C8,$76107 db $22,$00,$90,$C0,$6A,$E8,$AD,$D8,$93,$00,$01,$90108 109 db $17,$19,$09,$62,$16,$18,$1A,$5A,$5B,$DC,$0F,$02,$C0,$68,$1B,$02110 db $9C,$02,$C9,$88,$CC,$CE,$20,$05,$3A111 112 db $19,$09,$17,$62,$18,$1A,$36,$38,$59,$5A,$DE,$11,$01,$B5,$85,$54113 db $46,$87,$32,$B1,$D9,$00,$93,$11,$14,$1E,$00,$90114 115 db $09,$16,$17,$18,$19,$5B,$62,$34,$DA,$13,$00,$D0,$13,$15,$3C,$5E116 db $2C,$65,$02,$01,$55,$B9,$67,$17,$80,$10,$00,$D0117 118 db $09,$5D,$1C,$1D,$62,$51,$57,$58,$D9,$11,$00,$02,$8C,$A0,$0A,$D1119 db $08,$93,$0B,$22,$46,$C5,$CC,$0E,$00,$30120 121 db $1C,$09,$5A,$62,$1D,$38,$52,$DB,$0E,$07,$80,$06,$0E,$1A,$C1,$03122 db $4A,$83,$F0,$43,$E5,$80123 124 db $09,$5A,$1C,$1D,$62,$D3,$0D,$00,$01,$80,$53,$86,$C5,$80,$3C,$C0125 db $E2,$C0,$D8126 127 db $09,$2B,$3A,$62,$38,$58,$D9,$0E,$01,$C0,$2C,$17,$30,$07,$80,$D1128 db $07,$D0,$01,$06,$80129 130 db $1C,$1D,$62,$09,$DB,$11,$03,$00,$4B,$2A,$49,$20,$68,$E0,$24,$84131 db $B0,$CD,$70,$00,$01,$80132 133 db $1A,$16,$17,$09,$62,$19,$36,$58,$5A,$5B,$DF,$11,$30,$00,$17,$1B134 db $84,$7A,$00,$3A,$02,$6A,$B5,$53,$99,$03,$81,$6C135 136 db $1A,$17,$09,$62,$18,$36,$39,$57,$5A,$5B,$DF,$14,$02,$F4,$04,$44137 db $08,$88,$D9,$EA,$51,$CE,$82,$70,$9C,$D4,$E4,$B0,$13,$85,$80138 139 db $1A,$09,$62,$58,$5C,$DF,$0F,$00,$02,$45,$48,$30,$D9,$07,$A4,$02140 db $C8,$A6,$2C,$81,$C0141 142 db $1C,$1D,$2A,$09,$5C,$62,$38,$E1,$11,$3E,$00,$3C,$CB,$25,$B3,$1E143 db $06,$B8,$03,$2C,$CD,$01,$C0,$00,$FC144 145 db $1A,$09,$62,$5A,$5B,$DE,$0D,$06,$00,$C5,$12,$24,$1C,$0A,$03,$D6146 db $49,$20,$68147 148 db $09,$20,$21,$5A,$22,$54,$E2,$0E,$03,$E0,$06,$0D,$C0,$40,$34,$50149 db $8D,$94,$3B,$3D,$D4150 151 db $1B,$09,$19,$36,$62,$16,$17,$1A,$34,$5A,$DB,$12,$00,$01,$08,$42152 db $1B,$12,$91,$D3,$06,$79,$75,$57,$A0,$3C,$09,$00,$C0153 154 db $22,$09,$21,$62,$1A,$20,$59,$5A,$5B,$DC,$10,$00,$03,$00,$74,$59155 db $19,$D4,$C5,$03,$84,$EC,$2C,$98,$A2,$28156 157 db $21,$09,$20,$62,$5A,$5B,$D8,$11,$00,$01,$C5,$3E,$34,$EC,$B9,$62158 db $1A,$F5,$00,$3D,$11,$88,$00,$68159 160 db $20,$21,$09,$62,$5C,$5D,$5E,$DF,$0F,$00,$1A,$D0,$71,$81,$72,$22161 db $A0,$7F,$9E,$1F,$04,$54,$55162 163 db $0B,$1F,$23,$2B,$5D,$62,$57,$DC,$11,$80,$03,$77,$2C,$97,$2D,$04164 db $27,$1E,$1F,$42,$7E,$07,$24,$00,$3C165 166 db $0B,$1F,$23,$5A,$62,$50,$59,$DB,$11,$80,$02,$E5,$92,$4C,$B8,$E0167 db $8F,$0E,$37,$2C,$B9,$F8,$0F,$A1,$A0168 169 db $0B,$1F,$23,$5B,$62,$DC,$10,$80,$01,$6D,$92,$66,$63,$9A,$8D,$0E170 db $33,$22,$4B,$68,$12,$78171 172 db $1F,$23,$0B,$62,$15,$5C,$DD,$10,$81,$C0,$2C,$B5,$2A,$34,$30,$F0173 db $24,$99,$6D,$40,$3E,$00,$1A174 175 db $0B,$4F,$E1,$0C,$80,$00,$00,$11,$11,$0C,$22,$22,$00,$00,$05176 177 db $20,$0B,$21,$14,$1C,$50,$51,$57,$E2,$10,$80,$01,$08,$52,$18,$58178 db $49,$93,$80,$48,$D0,$A4,$4C,$21,$B0179 180 db $62,$0B,$1B,$1A,$1C,$1D,$20,$21,$52,$5A,$DB,$10,$81,$00,$63,$20181 db $DA,$D0,$09,$E9,$C0,$F2,$45,$50,$68,$00,$10182 183 db $0B,$1F,$20,$22,$23,$2B,$51,$55,$5A,$5B,$5D,$E2,$0F,$80,$00,$1C184 db $01,$3B,$C6,$74,$1F,$02,$EA,$20,$00,$EB,$C0185 186 db $0B,$21,$62,$20,$5A,$22,$2C,$2D,$2E,$2F,$DC,$13,$80,$50,$25,$68187 db $12,$A0,$C4,$18,$51,$71,$28,$4E,$B6,$0C,$8F,$73,$A0,$50188 189 db $0B,$1A,$1F,$20,$22,$23,$56,$59,$5A,$5B,$E2,$0F,$80,$00,$74,$12190 db $F1,$10,$88,$AD,$64,$08,$E5,$E0,$0D,$80191 192 db $0B,$23,$1F,$5A,$62,$16,$17,$DB,$11,$83,$80,$32,$C9,$25,$A0,$35193 db $1A,$17,$09,$72,$87,$9F,$C1,$F0,$0E194 195 db $0B,$23,$1F,$5C,$62,$D8,$10,$80,$00,$24,$68,$2E,$42,$5A,$E1,$32196 db $4B,$01,$E4,$23,$40,$70197 198 db $0B,$1C,$1F,$5A,$1D,$23,$2A,$2C,$2D,$2E,$2F,$3A,$56,$5B,$E2,$16199 db $80,$03,$5B,$E4,$E2,$6B,$3F,$65,$FD,$DF,$42,$D1,$00,$AA,$99,$FD200 db $10,$05,$C4,$41,$F0201 202 db $1F,$23,$0B,$62,$5A,$5C,$DD,$0F,$83,$40,$00,$F0,$24,$C6,$2D,$01203 db $2B,$81,$67,$C2,$40,$1A204 205 db $0B,$45,$46,$58,$62,$35,$57,$D9,$10,$83,$80,$1F,$24,$C0,$2A,$79206 db $1F,$81,$35,$28,$18,$91,$A0,$1C207 208 db $22,$0B,$20,$21,$2B,$3A,$56,$57,$5A,$5B,$E2,$12,$80,$03,$68,$AD209 db $45,$98,$02,$4E,$32,$15,$0B,$83,$03,$A0,$4E,$40,$F0210 211 db $22,$0B,$20,$62,$21,$1D,$2C,$2D,$2E,$2F,$57,$D8,$14,$82,$C0,$6B212 db $62,$31,$98,$A3,$9D,$91,$3F,$0B,$4B,$C9,$01,$14,$23,$08,$A0,$2C213 214 db $22,$20,$21,$0B,$62,$52,$5A,$DB,$0F,$80,$01,$89,$89,$47,$1F,$E8215 db $D3,$89,$52,$B2,$50,$3E,$78216 217 db $62,$1B,$22,$0B,$1A,$1C,$51,$DC,$0F,$82,$00,$60,$CF,$B1,$C8,$00218 db $42,$BD,$B5,$41,$F8,$00,$10219 220 db $0B,$22,$5A,$62,$57,$DB,$0F,$80,$01,$55,$54,$68,$32,$40,$24,$3C221 db $40,$E0,$C4,$03,$40222 223 db $1F,$23,$0B,$5A,$62,$DB,$10,$83,$80,$00,$CF,$05,$B5,$6D,$03,$34224 db $68,$24,$99,$24,$00,$E0225 226 db $1B,$0B,$62,$1A,$1F,$23,$36,$57,$DD,$11,$82,$80,$5E,$75,$84,$42227 db $20,$07,$12,$51,$11,$31,$08,$80,$03,$60228 229 db $1F,$23,$0B,$62,$50,$58,$DC,$10,$80,$01,$65,$92,$CA,$6B,$0F,$03230 db $49,$24,$92,$CC,$01,$D8,$7C231 232 db $1B,$0B,$1C,$5A,$62,$1D,$DB,$0F,$83,$80,$26,$44,$9E,$C3,$85,$69233 db $A1,$24,$92,$48,$0F,$94234 235 db $0B,$45,$46,$62,$35,$57,$58,$D9,$10,$83,$40,$3E,$24,$50,$19,$D2236 db $14,$3D,$24,$C0,$15,$23,$F0,$0D237 238 db $0B,$62,$19,$5A,$5B,$5D,$D8,$0F,$82,$80,$19,$0D,$01,$27,$9C,$51239 db $E7,$00,$19,$1A,$7C,$05240 241 db $0B,$22,$62,$20,$21,$1B,$2C,$2D,$2E,$2F,$59,$5A,$DB,$16,$82,$80242 db $4E,$08,$9B,$6B,$6A,$88,$88,$87,$CF,$73,$A4,$E3,$28,$4D,$80,$47243 db $D0,$02,$80244 245 db $1E,$0B,$59,$4E,$50,$51,$55,$57,$58,$E2,$10,$80,$01,$66,$15,$00246 db $8D,$44,$EC,$3A,$14,$42,$20,$25,$91,$C0247 248 db $1D,$0B,$21,$22,$62,$1C,$20,$2C,$2D,$2E,$2F,$5A,$DB,$12,$83,$00249 db $02,$5F,$5B,$E3,$08,$8C,$A2,$1D,$F0,$49,$F0,$05,$E9,$45,$D0250 251 db $1C,$3A,$62,$0B,$2B,$50,$D1,$0E,$83,$00,$01,$6F,$78,$92,$40,$01252 db $40,$3E,$01,$A0,$30253 254 db $5A,$0B,$62,$1F,$23,$17,$1A,$1B,$A9,$11,$82,$80,$04,$A1,$AE,$0B255 db $61,$06,$54,$08,$27,$61,$89,$B4,$00,$14256 257 db $1F,$23,$0B,$5A,$5B,$62,$BA,$10,$80,$01,$64,$C1,$BF,$3D,$C1,$64258 db $3C,$49,$70,$68,$E0,$92,$80259 260 db $0B,$1C,$1F,$62,$1D,$23,$2A,$5A,$5B,$DC,$11,$80,$01,$38,$AC,$CC261 db $D5,$69,$61,$B8,$0B,$08,$8E,$00,$07,$40,$16262 263 db $0B,$16,$62,$17,$18,$1C,$1D,$5A,$5B,$5C,$DD,$0F,$80,$00,$72,$0B264 db $14,$C9,$D8,$89,$D2,$8C,$23,$C4,$80,$6C265 266 db $62,$0B,$45,$46,$59,$35,$57,$D8,$0F,$82,$00,$0A,$C7,$11,$CB,$ED267 db $00,$D0,$60,$3E,$0F,$C0,$20268 269 db $22,$0B,$0E,$11,$16,$1B,$20,$21,$51,$55,$E2,$0F,$83,$CB,$07,$19270 db $14,$03,$12,$50,$00,$90,$11,$B4,$6B,$A8271 272 db $20,$22,$0B,$21,$5A,$5B,$62,$AA,$0F,$83,$E0,$15,$48,$DF,$E0,$1D273 db $9E,$1F,$2A,$91,$33,$41,$E7274 275 db $1C,$0B,$3A,$1A,$1D,$1F,$23,$2B,$61,$E2,$11,$80,$02,$A2,$31,$11276 db $11,$BB,$74,$00,$04,$CC,$99,$D1,$42,$40,$07277 278 db $1E,$0B,$57,$59,$58,$E2,$0D,$80,$01,$11,$10,$06,$8A,$BE,$27,$44279 db $4C,$0D,$0C280 281 db $1C,$3A,$0B,$1D,$62,$1A,$2B,$50,$D1,$0F,$83,$00,$2E,$04,$23,$32282 db $C2,$81,$B9,$D0,$28,$12,$02,$CE283 284 db $1D,$1C,$0B,$62,$1F,$23,$5A,$5B,$5C,$DD,$10,$82,$C0,$26,$06,$80285 db $6E,$89,$92,$C8,$8C,$E2,$8E,$83,$82,$20286 287 db $1F,$0B,$23,$2B,$3A,$33,$55,$57,$5C,$E2,$12,$80,$00,$4B,$82,$DD288 db $36,$22,$A3,$02,$42,$75,$58,$00,$8A,$8B,$0C,$80289 290 db $0B,$2B,$3A,$5A,$5B,$16,$17,$19,$36,$4E,$56,$58,$E2,$11,$83,$E8291 db $03,$06,$00,$08,$B5,$81,$96,$C8,$7C,$0D,$7B,$93,$53,$DA292 293 db $1E,$0B,$2A,$55,$5A,$5C,$5D,$E2,$0E,$80,$02,$6D,$89,$90,$0F,$38294 db $A7,$E4,$4B,$10,$00,$F8295 296 db $1C,$1D,$0B,$62,$1F,$D0,$0E,$83,$40,$49,$62,$CB,$23,$40,$01,$72297 db $4C,$B7,$80,$78298 299 db $0B,$20,$22,$2A,$3A,$4E,$51,$56,$57,$5A,$E2,$0F,$80,$00,$00,$36300 db $44,$46,$87,$95,$28,$CC,$3A,$17,$80,$E0301 302 db $0B,$62,$2B,$3A,$53,$5C,$5D,$DE,$0D,$80,$00,$7C,$02,$9D,$24,$0A303 db $12,$47,$E0,$69,$E6304 305 db $0B,$57,$2B,$2C,$2D,$2E,$2F,$3A,$62,$15,$A9,$13,$83,$A0,$0B,$C4306 db $5E,$37,$BF,$38,$9C,$EA,$33,$A9,$38,$11,$10,$01,$55,$20307 308 db $2B,$0B,$57,$62,$2C,$2D,$2E,$2F,$59,$DA,$11,$80,$00,$46,$32,$70309 db $B2,$A3,$5B,$41,$61,$13,$28,$05,$26,$65,$1D310 311 db $0B,$2B,$3A,$5A,$62,$2C,$2D,$2E,$2F,$35,$57,$D9,$13,$80,$00,$8B312 db $88,$5C,$98,$26,$33,$A8,$89,$EE,$05,$46,$F9,$F1,$20,$A8,$F4313 314 db $09,$60,$E1,$0B,$00,$01,$00,$85,$40,$20,$40,$23,$08,$04315 316 db $41,$42,$E2,$09,$8C,$00,$20,$00,$A0,$40,$01,$40318mapa2:319 320 db $2A,$09,$14,$4C,$4D,$E2,$0F,$00,$06,$12,$42,$01,$35,$12,$82,$3A321 db $C8,$0A,$00,$07,$80322 323 db $1E,$2A,$09,$38,$4C,$4D,$55,$5A,$E2,$10,$01,$60,$0D,$89,$90,$84324 db $54,$30,$71,$40,$32,$11,$A8,$42,$64325 326 db $1C,$1D,$09,$2A,$62,$38,$39,$5A,$DC,$11,$00,$D1,$92,$E2,$24,$06327 db $0A,$1C,$50,$11,$31,$31,$60,$1B,$00,$30328 329 db $1E,$38,$4C,$55,$59,$E2,$0D,$00,$A0,$00,$E0,$44,$D8,$41,$30,$00330 db $00,$07,$80331 332 db $1E,$62,$4C,$4D,$D8,$0D,$00,$01,$11,$10,$03,$01,$48,$08,$00,$71333 db $A0,$50334 335 db $1E,$5A,$5B,$54,$56,$E2,$0C,$00,$00,$88,$9D,$0F,$0A,$28,$11,$11336 db $A1,$83337 338 db $36,$18,$0B,$62,$17,$19,$34,$4C,$CD,$11,$80,$01,$11,$24,$CE,$80339 db $6C,$A2,$C9,$C6,$48,$88,$05,$01,$C0,$2C340 341 db $18,$1F,$36,$62,$0B,$23,$16,$97,$11,$80,$03,$E9,$F9,$7D,$7D,$5A342 db $38,$0D,$33,$21,$32,$00,$1C,$01,$A0343 344 db $23,$1F,$0B,$5A,$5B,$E2,$0F,$80,$02,$49,$2C,$96,$47,$83,$5A,$C0345 db $4B,$25,$63,$C7,$38346 347 db $23,$0B,$62,$2C,$2D,$2E,$2F,$5C,$DD,$10,$80,$00,$2F,$04,$82,$23348 db $3A,$88,$14,$1B,$24,$38,$48,$00,$28349 350 db $18,$16,$36,$2A,$62,$2B,$39,$5C,$DD,$12,$03,$06,$82,$E6,$A5,$11351 db $37,$60,$D8,$18,$2A,$2A,$62,$28,$03,$81,$90352 353 db $16,$09,$18,$62,$2A,$36,$39,$4B,$DA,$12,$00,$68,$22,$A3,$39,$AA354 db $88,$C2,$C4,$9B,$01,$2E,$02,$C9,$01,$80,$2C355 356 db $2B,$09,$2A,$62,$38,$39,$BA,$0F,$03,$79,$E0,$93,$E8,$53,$00,$15357 db $8D,$28,$A6,$00,$92,$4C358 359 db $1C,$1D,$09,$62,$5C,$1A,$2A,$DD,$12,$0D,$00,$7C,$4B,$2C,$BE,$18360 db $70,$EC,$05,$92,$48,$D1,$FB,$00,$00,$D0361 362 db $1C,$09,$1D,$62,$50,$5A,$DB,$0E,$03,$40,$01,$F2,$89,$32,$19,$24363 db $68,$F2,$8E,$00,$50364 365 db $0B,$18,$36,$4B,$E2,$0F,$80,$00,$DC,$B9,$41,$A4,$92,$01,$6C,$92366 db $5A,$E0,$00,$07367 368 db $18,$36,$0B,$62,$53,$D8,$0D,$83,$40,$5A,$09,$00,$C1,$83,$45,$B2369 db $38,$3D,$80370 371 db $1F,$23,$62,$2A,$5C,$DD,$0D,$83,$00,$01,$2C,$00,$1C,$12,$CA,$01372 db $E0,$1A,$03373 374 db $0B,$23,$29,$2A,$4C,$56,$5B,$E2,$0D,$80,$01,$F0,$E0,$04,$03,$F5375 db $B4,$4C,$81,$E0,$1A376 377 db $0B,$19,$62,$17,$1B,$16,$1C,$1D,$1F,$23,$D0,$12,$81,$40,$73,$58378 db $1B,$C7,$4A,$40,$20,$0C,$DC,$A6,$6C,$00,$47,$80,$50379 380 db $09,$29,$2A,$38,$56,$58,$5A,$5B,$E2,$0E,$0B,$00,$01,$38,$9A,$02381 db $06,$81,$B2,$00,$00,$C8,$E0382 383 db $1B,$16,$17,$62,$1A,$5A,$DB,$0F,$03,$40,$49,$22,$49,$38,$03,$C0384 db $5A,$33,$00,$7C,$00,$0D385 386 db $09,$2B,$45,$56,$58,$5A,$5B,$E2,$0E,$00,$00,$07,$80,$5D,$A4,$07387 db $C3,$00,$83,$80,$0F,$C0388 389 db $1C,$09,$1D,$62,$38,$4C,$CD,$0F,$03,$8D,$04,$C8,$50,$29,$E6,$64390 db $12,$43,$E0,$05,$00,$0D391 392 db $1B,$0B,$5A,$4E,$55,$E2,$0D,$80,$01,$41,$80,$9D,$0A,$3C,$06,$00393 db $9B,$02,$80394 395 db $1B,$0B,$1A,$62,$57,$5A,$DB,$0F,$83,$40,$65,$91,$25,$63,$4A,$7A396 db $80,$91,$23,$83,$E2,$80397 398 db $1F,$23,$1B,$5C,$5D,$62,$AA,$11,$80,$03,$33,$25,$92,$DF,$80,$6B399 db $4F,$16,$48,$B2,$8E,$70,$00,$3C400 401 db $0B,$62,$1A,$45,$4C,$57,$58,$D9,$0D,$81,$40,$1C,$35,$8A,$78,$80402 db $20,$3E,$00,$23,$F0403 404 db $0B,$2B,$3A,$51,$54,$59,$E2,$0D,$80,$00,$58,$1E,$0E,$C8,$00,$6C405 db $60,$F8,$11,$40406 407 db $1F,$0B,$23,$62,$D2,$0D,$81,$A0,$62,$0B,$88,$05,$03,$46,$22,$00408 db $05,$E0409 410 db $1C,$1D,$2B,$62,$3A,$2A,$5B,$DE,$11,$34,$00,$25,$92,$5B,$3C,$0F411 db $80,$D0,$00,$76,$76,$61,$F8,$00,$34412 413 db $1B,$09,$62,$17,$16,$1A,$2A,$36,$5C,$DD,$12,$01,$40,$66,$22,$34414 db $88,$88,$50,$1C,$02,$F6,$17,$89,$0E,$82,$64,$0A415 416 db $2B,$3A,$62,$2A,$4C,$CD,$0D,$03,$00,$00,$02,$47,$85,$02,$72,$D0417 db $00,$68,$18418 419 db $09,$1B,$1D,$62,$1C,$2A,$5F,$E1,$0F,$03,$40,$03,$E1,$05,$CC,$E5420 db $B8,$FC,$08,$03,$C0,$40,$1A421 422 db $1F,$23,$0B,$14,$1D,$2A,$50,$53,$E2,$0F,$80,$03,$28,$88,$98,$DB423 db $0B,$00,$A0,$4A,$12,$38,$50,$1A424 425 db $0B,$60,$E1,$0A,$80,$00,$00,$C1,$11,$10,$A8,$88,$80426 427 db $1F,$23,$62,$14,$2C,$2D,$2E,$2F,$5C,$DD,$0F,$82,$80,$B0,$0C,$64428 db $26,$09,$8D,$6C,$0E,$00,$03,$A0,$0A429 430 db $0B,$2B,$2A,$3A,$4E,$56,$5E,$E2,$0D,$80,$00,$A0,$02,$04,$3F,$3D431 db $A6,$10,$72,$8F,$80432 433 db $1B,$0B,$62,$1C,$1D,$51,$D8,$0D,$80,$03,$E8,$88,$83,$03,$C2,$B0434 db $8E,$6A,$01,$40435 436 db $1B,$1C,$0B,$1D,$62,$5A,$DB,$10,$80,$01,$6E,$92,$43,$8F,$86,$01437 db $24,$2E,$D0,$C0,$7B,$00,$38438 439 db $2B,$3A,$09,$62,$57,$D9,$0F,$00,$1A,$03,$00,$3C,$25,$81,$24,$B6440 db $4A,$18,$31,$C0,$1A441 442 db $18,$09,$36,$62,$16,$17,$19,$2A,$2B,$34,$5C,$DD,$14,$02,$C0,$22443 db $21,$15,$11,$C0,$99,$93,$C1,$B8,$CE,$1D,$AA,$D4,$07,$C0,$00,$58444 445 db $1C,$62,$1D,$2A,$5A,$DB,$0F,$02,$80,$03,$8D,$19,$31,$E0,$A0,$E4446 db $90,$6B,$C0,$00,$A0447 448 db $2B,$62,$09,$3A,$5A,$5C,$DD,$10,$02,$80,$F9,$23,$0F,$14,$DD,$24449 db $98,$30,$13,$40,$70,$02,$85450 451 db $09,$62,$2C,$2D,$2E,$2F,$38,$45,$56,$5A,$DB,$10,$00,$1A,$39,$56452 db $08,$0C,$64,$86,$C9,$0E,$80,$01,$E0,$04,$80453 454 db $22,$21,$09,$20,$62,$5A,$DB,$10,$00,$01,$2A,$48,$DD,$73,$1F,$0C455 db $04,$A9,$52,$81,$87,$80,$1C456 457 db $0B,$1F,$23,$62,$16,$A9,$0D,$83,$40,$00,$CA,$19,$57,$10,$D2,$00458 db $01,$07,$78459 460 db $1F,$23,$0B,$62,$58,$59,$5A,$DB,$10,$80,$01,$65,$B6,$DA,$68,$7D461 db $F9,$8D,$24,$92,$C9,$01,$E6,$1C462 463 db $1F,$23,$0B,$62,$1D,$2A,$4C,$4D,$D7,$12,$80,$03,$11,$13,$33,$31464 db $19,$59,$4E,$29,$A5,$89,$88,$89,$80,$6C,$A0465 466 db $1B,$62,$0B,$1A,$2A,$5C,$DD,$10,$81,$40,$49,$09,$26,$A8,$F9,$80467 db $24,$09,$C0,$60,$F0,$02,$80468 469 db $1D,$3A,$09,$1C,$2A,$2B,$39,$55,$5C,$5D,$E2,$11,$03,$DA,$01,$D2470 db $80,$11,$17,$17,$00,$05,$38,$31,$3B,$91,$99,$90471 472 db $16,$17,$09,$1B,$62,$19,$1C,$1D,$29,$34,$45,$4C,$4D,$D8,$15,$03473 db $00,$22,$26,$53,$31,$1D,$14,$7D,$28,$0E,$67,$E5,$DE,$B6,$1F,$83474 db $CA,$01,$80475 476 db $2B,$09,$1C,$3A,$38,$4E,$5C,$5D,$E2,$11,$03,$81,$83,$61,$04,$84477 db $55,$D4,$4D,$D0,$40,$D2,$C0,$90,$86,$40478 479 db $1C,$1D,$2B,$3A,$62,$28,$5A,$DB,$10,$0E,$0E,$09,$16,$58,$90,$01480 db $F0,$0C,$DD,$C0,$3F,$00,$03,$C0481 482 db $09,$2C,$2D,$2E,$2F,$5C,$62,$21,$22,$39,$DD,$14,$03,$47,$42,$6B483 db $9B,$4D,$26,$8B,$C3,$2B,$C4,$5E,$01,$01,$90,$78,$10,$03,$40484 485 db $20,$21,$4D,$09,$E2,$0E,$03,$80,$22,$2A,$28,$30,$D1,$CA,$89,$95486 db $03,$41,$80487 488 db $22,$09,$20,$62,$21,$30,$38,$D1,$10,$07,$C0,$09,$80,$1A,$15,$30489 db $F1,$33,$F1,$40,$A2,$70,$06,$80490 491 db $2A,$1C,$0B,$5B,$62,$1B,$1D,$29,$E1,$12,$80,$02,$10,$9D,$4C,$CE492 db $5C,$0B,$5A,$98,$42,$05,$00,$A0,$6E,$00,$C0493 494 db $0B,$5A,$5B,$1C,$1D,$55,$E2,$0C,$80,$00,$60,$83,$E2,$8D,$F7,$04495 db $29,$01,$80496 497 db $1A,$0B,$62,$1C,$1D,$D2,$0D,$81,$80,$6F,$40,$80,$14,$3C,$22,$16498 db $00,$00,$0C499 500 db $1A,$09,$62,$2A,$38,$59,$DD,$0E,$00,$70,$44,$44,$4D,$01,$43,$03501 db $C1,$40,$7C,$00,$18502 503 db $2A,$62,$09,$1A,$39,$4C,$CD,$10,$02,$B8,$0F,$00,$D5,$24,$48,$2A504 db $30,$67,$D0,$12,$24,$00,$50505 506 db $2A,$62,$58,$5C,$DD,$0D,$00,$00,$70,$0A,$49,$24,$80,$06,$40,$34507 db $00,$05508 509 db $2A,$4B,$09,$35,$38,$59,$61,$E2,$0F,$03,$E1,$C2,$20,$44,$02,$45510 db $05,$34,$00,$0C,$78,$0F,$C0511 512 db $09,$2C,$2D,$2E,$2F,$5C,$62,$DD,$10,$03,$E0,$0F,$C2,$01,$71,$71513 db $72,$0D,$E9,$BC,$DE,$7C,$3C,$3C514 515 db $09,$2C,$2D,$2E,$2F,$62,$39,$50,$D9,$11,$0D,$00,$10,$0D,$A0,$26516 db $91,$34,$32,$5E,$0B,$C0,$00,$38,$01,$90517 518 db $21,$09,$20,$62,$4C,$4D,$5C,$DD,$10,$03,$40,$62,$18,$88,$0B,$E1519 db $F0,$44,$E9,$60,$3F,$01,$40,$D0520 521 db $36,$18,$0B,$1F,$62,$17,$23,$5C,$5D,$DE,$10,$83,$00,$26,$62,$0B522 db $BD,$03,$80,$08,$9C,$C1,$4D,$B0,$29,$D0523 524 db $0B,$62,$16,$17,$18,$19,$1F,$23,$36,$5C,$DD,$0E,$80,$01,$AC,$E3525 db $97,$5B,$02,$1E,$04,$C8,$10,$00,$3B526 527 db $3A,$0B,$16,$2B,$62,$17,$19,$1B,$36,$D9,$10,$86,$00,$03,$75,$CC528 db $D6,$98,$E8,$48,$09,$16,$B4,$02,$48,$44529 530 db $09,$1C,$18,$1D,$36,$62,$17,$1B,$2A,$4C,$4D,$4E,$D9,$14,$01,$90531 db $26,$E5,$05,$CE,$C7,$40,$02,$BE,$56,$35,$88,$1F,$48,$0F,$70,$06532 db $40533 534 db $2A,$62,$57,$5A,$DB,$0D,$02,$80,$03,$40,$88,$89,$81,$11,$10,$0E535 db $00,$05536 537 db $2A,$09,$62,$5B,$DC,$0D,$00,$C0,$14,$01,$26,$A4,$24,$02,$53,$80538 db $00,$0C539 540 db $1C,$4B,$09,$1D,$62,$35,$D7,$10,$03,$80,$6A,$83,$3E,$18,$79,$40541 db $49,$B3,$64,$A0,$C1,$40,$1C542 543 db $1E,$09,$4C,$38,$4E,$55,$E2,$0F,$1A,$00,$09,$91,$41,$3C,$27,$40544 db $26,$45,$05,$00,$03,$E0545 546 db $22,$21,$09,$62,$20,$29,$2C,$2D,$2E,$2F,$D1,$11,$00,$B0,$6B,$68547 db $92,$27,$27,$3A,$28,$2D,$E2,$24,$8C,$08,$90,$28548 549 db $62,$09,$2C,$2D,$2E,$2F,$34,$36,$38,$5C,$DD,$10,$1C,$20,$00,$0F550 db $08,$4E,$D5,$6D,$10,$0C,$64,$90,$74,$00,$10551 552 db $21,$20,$09,$5A,$5B,$E2,$10,$00,$02,$49,$24,$B2,$57,$86,$F3,$00553 db $96,$D9,$26,$3C,$30,$DE554 555 db $22,$62,$09,$20,$5A,$DB,$0F,$00,$01,$22,$44,$D0,$18,$78,$B4,$E0556 db $60,$48,$46,$C0,$14557 558 db $2A,$09,$57,$62,$38,$3D,$3E,$3F,$C0,$10,$00,$60,$0A,$24,$88,$5A559 db $40,$CE,$88,$01,$BE,$11,$0A,$00,$0B560 561 db $1B,$09,$18,$62,$5A,$5B,$16,$17,$19,$29,$2A,$36,$B9,$15,$0F,$A5562 db $81,$10,$88,$22,$3C,$18,$4B,$09,$0A,$AD,$EB,$95,$F3,$AB,$25,$91563 db $90,$0B564 565 db $2A,$09,$62,$45,$4C,$55,$DC,$0D,$03,$00,$40,$5D,$03,$E3,$92,$18566 db $0A,$78,$14,$24567 568 db $2A,$29,$56,$5C,$5D,$E2,$0C,$07,$80,$01,$A0,$12,$12,$01,$25,$C9569 db $00,$70570 571 db $09,$1C,$1D,$4B,$62,$35,$D8,$0F,$01,$C0,$1F,$02,$51,$17,$2E,$34572 db $68,$F1,$00,$00,$03,$80573 574 db $2A,$1C,$62,$09,$1D,$38,$5C,$DD,$10,$0F,$30,$04,$80,$B7,$88,$FF575 db $40,$C4,$0D,$B6,$89,$03,$E0,$06576 577 db $1C,$09,$1D,$62,$17,$18,$1A,$1B,$36,$38,$5C,$DD,$11,$00,$3A,$11578 db $11,$4E,$6D,$A5,$93,$E2,$45,$91,$15,$0C,$64,$02,$5F579 580 db $62,$1F,$2A,$2C,$2D,$2E,$2F,$39,$3D,$3E,$3F,$40,$5A,$DB,$12,$0D581 db $A0,$05,$01,$F4,$41,$32,$BC,$39,$D0,$19,$D3,$DF,$0A,$FC,$00,$04582 583 db $3A,$09,$2B,$39,$55,$5E,$5F,$E2,$10,$34,$00,$00,$66,$0A,$9D,$09584 db $84,$78,$7C,$08,$0B,$28,$0F,$C0585 586 db $3A,$2B,$09,$38,$56,$57,$59,$E2,$0F,$03,$F1,$A2,$3E,$02,$06,$07587 db $B0,$58,$B2,$CB,$44,$80,$70588 589 db $09,$22,$38,$5A,$5B,$62,$20,$21,$AA,$11,$0A,$66,$80,$02,$D0,$09590 db $D2,$76,$B1,$18,$00,$0C,$10,$38,$06,$40591 592 db $09,$62,$1A,$1B,$35,$46,$57,$58,$D9,$0E,$02,$40,$01,$A2,$83,$6C593 db $08,$05,$A0,$00,$32,$E1,$20594 595 db $38,$59,$62,$2A,$32,$35,$C5,$0D,$04,$80,$00,$1A,$07,$94,$60,$A0596 db $18,$3E,$00,$07597 598 db $09,$60,$E1,$0B,$00,$00,$10,$14,$22,$00,$41,$00,$80,$8C599 600 db $19,$09,$16,$17,$14,$35,$38,$39,$4B,$54,$E2,$10,$1B,$6B,$C0,$39601 db $21,$11,$56,$06,$64,$02,$43,$A3,$00,$55,$C4602 603 db $09,$16,$36,$1F,$23,$39,$45,$56,$58,$5A,$5B,$E2,$10,$32,$3E,$00604 db $40,$75,$00,$78,$D0,$17,$53,$55,$33,$8E,$01,$B4605 606 db $2A,$1C,$1D,$59,$E2,$0E,$00,$02,$48,$92,$2E,$11,$08,$04,$42,$34607 db $E4,$90,$80608 609 db $2A,$62,$09,$4B,$35,$B9,$0D,$1E,$28,$00,$1A,$09,$27,$01,$41,$92610 db $45,$1A,$C0611 612 db $09,$2A,$62,$4B,$35,$B8,$0D,$07,$B0,$00,$0B,$A0,$AE,$8A,$30,$A2613 db $0C,$0D,$90614 615 db $2A,$09,$4B,$62,$35,$D8,$0C,$00,$00,$98,$0F,$04,$70,$1A,$0A,$86616 db $82,$B2617 618 db $2A,$09,$62,$4B,$35,$45,$57,$58,$D9,$10,$02,$80,$00,$B6,$82,$58619 db $E4,$40,$A2,$22,$4C,$94,$6E,$C1,$20620 621 db $0B,$14,$49,$E1,$0F,$80,$00,$00,$24,$92,$49,$24,$50,$30,$6A,$49622 db $24,$92,$40623 624 db $4E,$39,$E2,$08,$14,$60,$00,$08,$00,$01,$10626mapa3:627 628 db $3A,$09,$16,$18,$62,$14,$17,$2B,$36,$4B,$5A,$DC,$13,$00,$06,$51629 db $B4,$42,$20,$13,$33,$D0,$C1,$74,$E6,$97,$40,$1F,$1E,$00,$C0630 631 db $3A,$09,$17,$18,$2B,$62,$16,$36,$5A,$5B,$DC,$11,$00,$03,$10,$88632 db $18,$86,$4E,$0E,$8C,$97,$4B,$D3,$74,$01,$E9,$99633 634 db $2B,$16,$09,$18,$4B,$62,$17,$2A,$38,$3A,$4C,$CD,$13,$03,$80,$22635 db $21,$87,$62,$B6,$C8,$1E,$50,$5C,$AE,$5A,$90,$3E,$03,$00,$64636 637 db $09,$2A,$37,$39,$4C,$4D,$54,$E2,$0E,$00,$34,$0C,$72,$9F,$8F,$98638 db $A8,$06,$0A,$09,$E0,$80639 640 db $09,$2A,$37,$5A,$62,$B8,$11,$00,$F0,$71,$06,$DB,$4C,$20,$D5,$30641 db $44,$6D,$33,$30,$83,$40,$E0642 643 db $1F,$23,$09,$62,$16,$36,$45,$D7,$11,$00,$02,$CB,$22,$CE,$F0,$FC644 db $C0,$0B,$2C,$4B,$00,$F8,$31,$A0,$68645 646 db $1F,$23,$09,$3A,$62,$2B,$5A,$DB,$0F,$00,$01,$65,$A0,$E0,$7E,$CD647 db $D0,$92,$53,$DA,$73,$1F,$06648 649 db $09,$3A,$2B,$38,$4E,$55,$5A,$5B,$E2,$0E,$01,$60,$E1,$A1,$30,$01650 db $B5,$32,$08,$00,$02,$25,$80651 652 db $5B,$09,$2C,$2D,$2E,$2F,$4E,$55,$E2,$10,$00,$03,$6A,$B6,$AA,$E4653 db $18,$C9,$8C,$82,$12,$84,$81,$02,$07654 655 db $09,$22,$58,$62,$20,$21,$39,$3D,$3E,$3F,$C0,$11,$0D,$00,$27,$35656 db $02,$A7,$00,$00,$10,$37,$C1,$60,$77,$C0,$00,$B0657 658 db $3A,$2B,$19,$4D,$62,$09,$16,$17,$36,$39,$5C,$DE,$14,$07,$70,$02659 db $22,$76,$AE,$56,$A0,$41,$67,$80,$95,$B3,$30,$22,$5F,$02,$40,$60660 661 db $3A,$09,$1B,$2B,$4B,$4C,$62,$1C,$9D,$13,$00,$02,$2B,$68,$AE,$66662 db $28,$0C,$83,$4C,$5A,$C8,$98,$13,$82,$40,$06,$80663 664 db $1C,$09,$1D,$3A,$62,$4B,$2B,$38,$5A,$DB,$13,$03,$03,$61,$71,$48665 db $AB,$C9,$83,$89,$3A,$60,$8A,$D2,$E2,$24,$25,$92,$40666 667 db $09,$1C,$1D,$2B,$38,$39,$55,$57,$5A,$5B,$5C,$5D,$E2,$0F,$18,$19668 db $00,$08,$29,$F5,$0E,$3C,$00,$87,$57,$A9,$0D,$FC669 670 db $2A,$37,$09,$62,$39,$5A,$DB,$0F,$03,$47,$00,$5B,$70,$32,$7C,$28671 db $12,$43,$00,$0F,$00,$34672 673 db $09,$1F,$23,$2B,$3A,$5A,$5B,$E2,$11,$01,$F8,$16,$F0,$7B,$30,$FA674 db $08,$D0,$3A,$08,$F0,$7C,$1A,$01,$F8675 676 db $09,$5B,$29,$2C,$2D,$2E,$2F,$36,$39,$56,$5A,$E2,$0F,$0E,$00,$05677 db $E0,$36,$3A,$CE,$92,$3E,$08,$0F,$00,$49,$0A678 679 db $1C,$1D,$09,$62,$2A,$39,$5A,$DB,$0F,$00,$F0,$12,$25,$49,$CD,$1F680 db $1F,$8D,$25,$C1,$68,$01,$80681 682 db $22,$20,$09,$21,$2A,$37,$62,$5C,$DD,$13,$00,$02,$2D,$12,$8B,$61683 db $A0,$A6,$CC,$91,$28,$94,$4B,$01,$41,$C6,$40,$D0684 685 db $09,$2C,$2D,$2E,$2F,$5C,$E2,$11,$00,$1F,$17,$17,$17,$03,$79,$BC686 db $DE,$80,$81,$E0,$04,$3C,$03,$E0687 688 db $3A,$09,$2B,$36,$4B,$5A,$62,$16,$19,$39,$4D,$DB,$14,$03,$5D,$03689 db $77,$03,$97,$14,$10,$96,$58,$A1,$2F,$9E,$2A,$46,$10,$19,$00,$D0690 691 db $36,$09,$16,$4B,$62,$18,$34,$4C,$CD,$12,$03,$00,$10,$A4,$34,$82692 db $E5,$3C,$00,$84,$6E,$14,$C8,$04,$DC,$80,$C0693 694 db $2A,$37,$0B,$62,$5B,$5C,$DD,$0F,$80,$00,$3C,$30,$26,$44,$43,$45695 db $55,$50,$70,$FB,$00,$34696 697 db $2A,$0B,$4C,$E2,$0E,$80,$01,$82,$83,$48,$46,$46,$84,$C4,$20,$A0698 db $A0,$1A699 700 db $2A,$4B,$0B,$37,$E2,$0D,$83,$80,$18,$29,$AE,$02,$30,$12,$49,$14701 db $02,$8D702 703 db $1F,$23,$0B,$62,$5B,$CD,$10,$83,$40,$25,$85,$94,$30,$F1,$C6,$92704 db $42,$DA,$07,$60,$C0,$0D705 706 db $3A,$1F,$62,$2B,$5B,$A3,$0E,$80,$01,$B2,$DF,$59,$0C,$20,$69,$80707 db $E0,$00,$70,$03708 709 db $0B,$1F,$23,$3A,$2B,$5A,$62,$59,$DB,$12,$80,$01,$55,$26,$31,$7B710 db $68,$CC,$0B,$B0,$99,$A7,$10,$02,$0C,$80,$34711 712 db $09,$5A,$5B,$62,$21,$22,$2A,$2C,$2D,$2E,$2F,$3D,$3E,$3F,$C0,$14713 db $02,$C0,$6F,$80,$9F,$9F,$4E,$F9,$13,$9C,$3F,$7F,$14,$08,$0A,$08714 db $1A,$02,$C0715 716 db $09,$2C,$2D,$2E,$2F,$62,$4B,$4C,$CD,$11,$03,$20,$10,$10,$04,$D3717 db $84,$D0,$5E,$1B,$2F,$1A,$10,$00,$06,$40718 719 db $2B,$3A,$09,$4B,$62,$58,$5A,$DB,$0F,$03,$80,$30,$3E,$06,$D4,$64720 db $B0,$2C,$AF,$4D,$AE,$0F,$C6721 722 db $09,$37,$62,$2B,$3A,$4B,$5A,$DB,$10,$03,$00,$7A,$04,$03,$B7,$B4723 db $7C,$61,$F9,$2D,$BE,$08,$00,$0C724 725 db $1E,$0B,$58,$59,$46,$E2,$0F,$83,$C0,$13,$62,$26,$07,$29,$40,$88726 db $99,$34,$2B,$02,$80727 728 db $2A,$0B,$5A,$62,$4C,$DB,$0F,$83,$40,$14,$60,$12,$4E,$54,$08,$32729 db $48,$0F,$50,$50,$34730 731 db $1E,$0B,$56,$5A,$5B,$E2,$0D,$80,$01,$32,$22,$00,$39,$4F,$08,$88732 db $51,$43,$40733 734 db $1C,$1D,$0B,$62,$4B,$D8,$0E,$81,$A0,$49,$61,$24,$AD,$30,$00,$B6735 db $16,$4E,$3C,$0C736 737 db $2B,$3A,$0B,$2A,$4D,$55,$5A,$E2,$10,$83,$F0,$09,$21,$25,$83,$06738 db $7C,$50,$93,$AC,$A0,$61,$3C,$68739 740 db $1F,$23,$0B,$62,$CC,$0E,$83,$40,$2D,$19,$28,$09,$00,$4A,$E2,$C0741 db $C0,$00,$34742 743 db $21,$22,$09,$62,$2A,$4C,$CD,$10,$03,$40,$30,$07,$08,$9F,$5C,$A6744 db $95,$7D,$10,$06,$03,$80,$D0745 746 db $22,$20,$09,$21,$62,$5A,$DB,$0E,$03,$80,$18,$1E,$1C,$95,$37,$25747 db $09,$A9,$52,$86,$3E748 749 db $09,$3A,$56,$58,$5A,$5B,$E2,$0C,$00,$00,$40,$06,$51,$E1,$F0,$A7750 db $10,$08,$0D751 752 db $3A,$62,$09,$2B,$4B,$5A,$5B,$AA,$11,$02,$80,$FC,$83,$D8,$53,$58753 db $F4,$E5,$0D,$F8,$41,$D9,$F0,$40,$0A754 755 db $2B,$3A,$57,$58,$0B,$46,$59,$E2,$10,$80,$03,$15,$32,$29,$F9,$3A756 db $AE,$C1,$A9,$F5,$44,$00,$F0,$C0757 758 db $1C,$1D,$62,$0B,$18,$2A,$35,$57,$58,$D9,$12,$82,$80,$21,$28,$4F759 db $30,$2D,$BD,$00,$42,$11,$72,$53,$A0,$19,$02,$80760 761 db $1C,$36,$0B,$16,$1D,$5A,$62,$2A,$5B,$E1,$14,$80,$02,$31,$11,$58762 db $88,$8A,$06,$46,$4E,$E9,$33,$2B,$9B,$05,$38,$0D,$80,$D0763 764 db $0B,$1F,$23,$5A,$14,$5B,$E2,$0F,$80,$01,$6D,$B9,$98,$38,$8D,$40765 db $09,$E8,$00,$4D,$0F,$80766 767 db $0B,$60,$E1,$0E,$80,$01,$11,$10,$C2,$24,$88,$09,$22,$48,$2A,$22768 db $20769 770 db $23,$1F,$0B,$5A,$62,$14,$5B,$E1,$11,$83,$80,$F2,$C8,$B2,$50,$C3771 db $70,$3F,$25,$AF,$A5,$80,$68,$00,$1C772 773 db $20,$21,$09,$62,$14,$39,$4D,$5A,$DB,$12,$0C,$AC,$02,$52,$42,$0C774 db $0D,$D1,$C2,$C9,$4E,$91,$50,$0A,$00,$05,$80775 776 db $1B,$5A,$09,$2A,$55,$E2,$0D,$00,$00,$82,$87,$8C,$52,$74,$09,$8A777 db $06,$8C,$50778 779 db $09,$5B,$3A,$4B,$2B,$55,$E2,$0D,$00,$00,$C5,$36,$04,$61,$47,$C7780 db $B8,$A8,$03,$40781 782 db $09,$3A,$62,$2B,$5A,$5B,$5C,$DD,$11,$03,$00,$1F,$A3,$83,$12,$9D783 db $AA,$C2,$B5,$E5,$80,$F2,$1F,$00,$60784 785 db $0B,$2B,$4B,$3A,$4E,$5C,$5D,$61,$E2,$0F,$80,$00,$32,$4E,$0E,$10786 db $2A,$6C,$05,$21,$00,$0D,$00,$36787 788 db $1C,$1D,$4B,$0B,$2A,$62,$B5,$12,$83,$C0,$3A,$48,$5B,$38,$19,$F3789 db $1A,$32,$CB,$2C,$93,$06,$86,$80,$3C790 791 db $0B,$4B,$29,$E2,$0C,$81,$A0,$65,$08,$60,$80,$28,$28,$40,$21,$40792 793 db $1E,$55,$5A,$5B,$E2,$0D,$80,$02,$C4,$44,$00,$C0,$08,$88,$80,$68794 db $00,$1C795 796 db $0B,$2B,$3A,$45,$4B,$56,$57,$59,$E2,$0F,$80,$00,$82,$72,$0C,$04797 db $D6,$80,$40,$2C,$6C,$10,$01,$C0798 799 db $0B,$16,$18,$1B,$62,$17,$1A,$1F,$23,$2A,$5C,$DD,$11,$80,$C0,$3B800 db $7B,$E0,$5E,$82,$07,$C0,$26,$B2,$84,$D0,$03,$C8,$06801 802 db $22,$09,$20,$62,$21,$2A,$38,$4B,$DA,$13,$34,$2C,$04,$C5,$08,$C0803 db $48,$70,$2D,$B8,$C2,$51,$41,$31,$42,$29,$90,$2C804 805 db $2B,$09,$4C,$23,$2A,$3A,$4E,$56,$E2,$0E,$00,$03,$14,$91,$03,$80806 db $33,$B1,$65,$20,$02,$48,$68807 808 db $16,$09,$19,$17,$62,$18,$5C,$DD,$10,$00,$01,$37,$19,$20,$28,$7E809 db $04,$CD,$B2,$78,$E0,$0F,$A8,$0E810 811 db $19,$09,$16,$62,$5C,$17,$59,$DD,$11,$03,$40,$32,$46,$49,$7E,$07812 db $07,$1A,$9E,$96,$4C,$05,$0F,$C0,$1A813 814 db $1C,$2A,$0B,$1D,$4B,$15,$5A,$5B,$E2,$12,$83,$20,$26,$22,$D4,$D2815 db $4C,$00,$05,$11,$17,$0C,$13,$B0,$52,$40,$E0816 817 db $1C,$4B,$0B,$1D,$29,$62,$B5,$12,$83,$C0,$2C,$9A,$49,$28,$33,$E3818 db $02,$44,$9B,$AE,$E1,$46,$14,$07,$80819 820 db $0B,$1C,$1D,$2A,$62,$29,$CB,$0F,$80,$03,$6E,$5A,$CC,$68,$20,$47821 db $3E,$F0,$40,$00,$34,$0E822 823 db $1C,$5A,$62,$0B,$1D,$2A,$45,$59,$DB,$10,$81,$40,$6D,$18,$11,$19824 db $50,$95,$80,$44,$70,$88,$00,$96,$80825 826 db $36,$18,$62,$0B,$34,$5A,$DB,$0F,$83,$00,$25,$A4,$90,$01,$ED,$05827 db $90,$97,$81,$F0,$00,$18828 829 db $16,$23,$0B,$1F,$2A,$5A,$62,$18,$36,$DB,$13,$8D,$00,$31,$25,$CC830 db $DC,$E0,$0A,$64,$08,$E4,$33,$1B,$80,$74,$50,$00,$68831 832 db $62,$09,$21,$22,$2C,$2D,$2E,$2F,$3D,$3E,$3F,$40,$4C,$CD,$12,$02833 db $00,$01,$2E,$74,$C6,$53,$F8,$7B,$E1,$AD,$9F,$41,$0B,$A0,$00,$20834 835 db $22,$09,$20,$21,$62,$5A,$DB,$10,$00,$01,$35,$35,$30,$26,$A6,$26836 db $1C,$79,$40,$28,$3E,$A0,$38837 838 db $09,$16,$17,$19,$18,$5A,$5B,$62,$D7,$14,$03,$60,$13,$74,$9C,$53839 db $80,$C9,$98,$40,$BB,$C2,$6A,$42,$1A,$1A,$40,$0D,$80840 841 db $36,$17,$09,$16,$4B,$62,$19,$2A,$2B,$34,$D8,$13,$03,$20,$11,$10842 db $99,$D3,$66,$0A,$00,$4C,$DC,$76,$E1,$83,$C0,$53,$80,$64843 844 db $0B,$4A,$E1,$0B,$82,$80,$00,$04,$91,$24,$81,$24,$49,$23845 846 db $0B,$1C,$1D,$4B,$14,$35,$58,$E2,$10,$83,$F0,$0B,$22,$DC,$68,$98847 db $F4,$11,$C2,$8C,$D1,$F1,$04,$40848 849 db $16,$1F,$23,$0B,$18,$2A,$5D,$62,$29,$DC,$12,$83,$60,$33,$55,$49850 db $99,$64,$16,$3A,$6C,$C4,$43,$11,$C0,$68,$D1,$60851 852 db $1F,$23,$62,$0B,$18,$2A,$36,$5C,$16,$17,$57,$DB,$14,$80,$03,$31853 db $31,$E4,$C4,$E5,$45,$87,$C2,$8C,$73,$46,$3B,$A0,$6C,$B6,$C0,$28854 855 db $0B,$1F,$23,$62,$16,$17,$36,$4D,$5A,$DB,$11,$81,$60,$2A,$A4,$99856 db $A2,$CE,$10,$E9,$66,$B3,$86,$F5,$9C,$02,$01857 858 db $0B,$16,$1F,$23,$5C,$5D,$62,$17,$18,$1B,$2A,$B6,$11,$80,$68,$1D859 db $99,$DF,$CE,$45,$5B,$41,$91,$90,$55,$A1,$E8,$06,$06860 861 db $3A,$09,$4B,$62,$2B,$58,$D9,$0F,$03,$40,$79,$41,$40,$84,$93,$35862 db $9D,$25,$40,$00,$5F,$80863 864 db $3A,$09,$62,$2A,$2B,$38,$5A,$DB,$0F,$03,$03,$C2,$81,$F1,$84,$44865 db $01,$C8,$8A,$1F,$82,$B4,$0C866 867 db $09,$19,$16,$18,$5A,$62,$17,$38,$4C,$4D,$DB,$12,$03,$3B,$00,$06868 db $02,$B5,$73,$D9,$9B,$A8,$0F,$38,$40,$21,$80,$00,$C8869 870 db $09,$2B,$36,$62,$2A,$3A,$45,$4B,$D8,$0F,$02,$C0,$02,$A8,$E0,$CA871 db $0D,$44,$82,$48,$49,$63,$60,$60872 873 db $3A,$2B,$36,$09,$62,$17,$18,$5A,$5B,$16,$AA,$16,$00,$03,$55,$5A874 db $EE,$6A,$B3,$E0,$6C,$DD,$8C,$2D,$6E,$38,$61,$31,$12,$89,$88,$90875 db $30876 877 db $09,$5A,$2B,$62,$18,$56,$D9,$0D,$00,$03,$E3,$3D,$C0,$23,$05,$1A878 db $22,$A1,$A2,$82879 880 db $09,$2B,$2A,$54,$55,$5A,$E2,$0D,$00,$03,$10,$5E,$60,$08,$A3,$E0881 db $F0,$D0,$40,$A0882 883 db $1B,$09,$62,$1A,$39,$4C,$CD,$10,$03,$38,$04,$90,$92,$68,$57,$C5884 db $04,$93,$C9,$20,$14,$28,$0C885 886 db $2B,$09,$62,$1A,$2A,$36,$3A,$4B,$D5,$0F,$00,$02,$C0,$30,$71,$04887 db $85,$32,$D6,$D1,$20,$20,$01,$40888 889 db $2B,$3A,$09,$5B,$E2,$10,$00,$01,$2C,$6B,$07,$33,$58,$92,$B8,$B2890 db $1A,$C0,$D0,$B2,$80891 892 db $3A,$09,$2A,$62,$2B,$39,$CB,$0E,$3C,$00,$00,$18,$D7,$54,$23,$E1893 db $08,$46,$00,$51,$A0894 895 db $3A,$09,$2A,$4B,$62,$2B,$B9,$0E,$03,$BE,$01,$40,$A0,$8A,$40,$C4896 db $17,$CC,$73,$60,$4D897 898 db $09,$36,$18,$5A,$62,$16,$38,$4E,$DB,$0F,$03,$03,$41,$C0,$9A,$05899 db $48,$5C,$30,$6D,$04,$E4,$20,$2C900 901 db $09,$17,$19,$62,$16,$18,$32,$56,$5A,$DB,$10,$00,$00,$1C,$40,$B4902 db $1D,$05,$89,$9A,$C3,$34,$03,$64,$00,$68903 904 db $09,$16,$18,$62,$17,$36,$55,$5A,$DB,$0E,$02,$C0,$20,$70,$16,$1B905 db $40,$09,$AC,$D2,$70,$10,$68906 907 db $1B,$09,$2B,$3A,$4C,$4D,$54,$E2,$0E,$00,$01,$24,$9C,$68,$3E,$51908 db $43,$30,$49,$1F,$95,$ED909 910 db $2B,$09,$62,$3A,$5A,$DB,$0D,$00,$01,$01,$28,$13,$CA,$33,$0A,$3A911 db $01,$1A,$80912 913 db $2B,$3A,$09,$62,$1A,$1B,$29,$2A,$5A,$DB,$13,$02,$C0,$74,$51,$9D914 db $61,$6A,$1C,$50,$15,$31,$11,$31,$06,$D1,$33,$28,$88915 916 db $09,$16,$1F,$29,$5B,$62,$18,$23,$36,$4E,$D5,$10,$32,$00,$13,$CB917 db $C1,$A9,$B0,$11,$81,$90,$AA,$D9,$01,$07,$BA918 919 db $09,$16,$19,$23,$36,$5A,$62,$1F,$38,$46,$D6,$10,$00,$E0,$2A,$70920 db $65,$89,$A6,$86,$44,$1A,$0B,$BD,$9D,$08,$3C921 922 db $23,$17,$35,$62,$16,$18,$39,$3D,$3E,$3F,$40,$4C,$CD,$10,$34,$00923 db $27,$19,$02,$56,$29,$5F,$37,$C5,$84,$44,$3B,$E0,$7D924 925 db $09,$60,$E1,$0B,$00,$00,$84,$21,$52,$24,$48,$C2,$10,$80926 927 db $09,$14,$48,$E1,$0B,$00,$01,$08,$41,$52,$24,$C9,$1A,$21,$08928 929 db $47,$38,$E2,$0B,$05,$C0,$11,$00,$00,$22,$09,$00,$00,$90930zw.asm5270 5271 mensajes.asm1 17 44historia_1a:45 db 0,$10 OR 946 47 db $09,$14,$00,$17,$01,$13,$00,$13,$4f48 db $05,$01,$13,$19,$aE50historia_1b:51 db 0,$10 OR 1452 53 db $0e,$0f,$00,$1a,$0f,$0d,$02,$09,$05,$00,$03,$01,$4e54 db $04,$05,$06,$05,$01,$14,$00,$0d,$05,$ae56historia_2:57 db 1,$20 OR 1258 59 db $17,$05,$0c,$0c,$00,$04,$0f,$0e,$05,$6e60 db $13,$03,$09,$05,$0e,$14,$09,$13,$14,$5361 db $12,$05,$13,$03,$15,$05,$04,$34,$00,$3e,$bf63historia_3a:64 db 2,$10 OR 1365 66 db $09,$30,$0d,$00,$04,$0f,$09,$0e,$07,$00,$0d,$5967 db $02,$05,$13,$9469historia_3b:70 db 2,$10 OR 1271 72 db $09,$00,$0c,$09,$0b,$05,$00,$14,$4f73 db $13,$01,$16,$05,$00,$10,$05,$0f,$10,$0c,$8575historia_4a:76 db 0,$10 OR 1277 78 db $09,$00,$04,$09,$04,$0e,$30,$14,$00,$13,$01,$5779 db $10,$05,$0f,$10,$0c,$8581historia_4b:82 db 0,$10 OR 1383 84 db $09,$14,$00,$09,$13,$00,$13,$0f,$00,$13,$01,$8486historia_5:87 db 0,$20 OR 988 89 db $17,$01,$09,$14,$2e,$00,$09,$30,$4d90 db $12,$05,$03,$05,$09,$16,$09,$0e,$4791 db $13,$0f,$0d,$05,$14,$08,$09,$0e,$8793historia_6:94 db 3,$30 OR 1195 96 db $10,$0c,$05,$01,$13,$05,$00,$08,$05,$0c,$5097 db $0d,$05,$2e,$00,$09,$30,$4d98 db $13,$15,$12,$12,$0f,$15,$0e,$04,$05,$84100historia_7a:101 db 0,$10 OR 10102 103 db $09,$00,$03,$0f,$0d,$05,$00,$14,$4f104 db $13,$01,$16,$05,$00,$19,$0f,$95106historia_7b:107 db 0,$10 OR 11108 109 db $09,$30,$0d,$00,$08,$05,$12,$05,$00,$14,$4f110 db $12,$05,$13,$03,$15,$05,$00,$19,$0f,$95112historia_8:113 db 0,$30 OR 12114 115 db $19,$0f,$15,$30,$12,$05,$00,$14,$0f,$4f116 db $0c,$01,$14,$45117 db $09,$30,$0d,$00,$09,$0e,$06,$05,$03,$14,$05,$84119historia_9a:120 db 0,$10 OR 11121 122 db $09,$0e,$06,$05,$03,$14,$05,$04,$6f123 db $08,$0f,$17,$af125historia_9b:126 db 0,$10 OR 12127 128 db $17,$08,$01,$14,$00,$01,$12,$05,$00,$19,$0f,$55129 db $13,$01,$19,$09,$0e,$07,$af131historia_10:132 db 4,$30 OR 12133 134 db $01,$01,$12,$07,$08,$2e,$00,$08,$05,$0c,$10,$6e135 db $07,$12,$12,$ae136 137historia_11a:138 db 0,$10 OR 12139 140 db $10,$0f,$0f,$12,$00,$07,$09,$12,$0c,$6e141 db $13,$08,$05,$00,$17,$01,$13,$00,$03,$15,$14,$85143historia_11b:144 db 0,$10 OR 10145 146 db $09,$00,$03,$0f,$15,$0c,$04,$0e,$30,$54147 db $13,$01,$16,$05,$00,$08,$05,$92149historia_12:150 db 1,$20 OR 11151 152 db $13,$03,$09,$05,$0e,$14,$09,$13,$14,$53153 db $12,$05,$13,$03,$15,$05,$04,$34,$3e,$7f154 db $07,$0f,$0f,$04,$00,$17,$0f,$12,$0b,$ae156historia_13a:157 db 2,$10 OR 7158 159 db $09,$30,$0d,$00,$14,$08,$45160 db $02,$05,$13,$14,$ae162historia_13b:163 db 2,$10 OR 11164 165 db $09,$30,$4d166 db $15,$0e,$02,$05,$01,$14,$01,$02,$0c,$05,$ae168historia_14a:169 db 0,$10 OR 12170 171 db $17,$08,$01,$54172 db $13,$03,$09,$05,$0e,$14,$09,$13,$14,$13,$af174historia_14b:175 db 0,$10 OR 12176 177 db $14,$08,$05,$12,$05,$00,$01,$12,$45178 db $13,$03,$09,$05,$0e,$14,$09,$13,$14,$13,$af180historia_15:181 db 0,$20 OR 14182 183 db $14,$08,$05,$12,$05,$00,$09,$53184 db $01,$0e,$0f,$14,$08,$05,$12,$00,$13,$09,$07,$0e,$01,$8c186historia_16:187 db 3,$40 OR 12188 189 db $08,$05,$0c,$10,$00,$0d,$05,$2e,$00,$09,$30,$4d190 db $08,$09,$04,$04,$05,$0e,$00,$02,$15,$54191 db $13,$0f,$0d,$05,$14,$08,$09,$0e,$47192 db $06,$0f,$0c,$0c,$0f,$17,$13,$00,$0d,$05,$ae194historia_17a:195 db 0,$10 OR 11196 197 db $19,$0F,$15,$30,$12,$05,$00,$08,$05,$12,$45198 db $07,$12,$05,$01,$14,$ae200historia_17b:201 db 0,$10 OR 12202 203 db $01,$10,$10,$05,$01,$12,$13,$00,$14,$08,$01,$54204 db $09,$30,$0d,$00,$0f,$0e,$00,$14,$09,$0d,$45205 db $14,$0f,$00,$13,$01,$16,$05,$00,$19,$0f,$95207historia_18:208 db 0,$40 OR 13209 210 db $13,$0f,$00,$19,$0f,$15,$00,$06,$0f,$15,$07,$08,$54211 db $19,$0f,$15,$12,$00,$17,$01,$99213historia_19a:214 db 0,$10 OR 10215 216 db $05,$18,$03,$15,$13,$05,$00,$0d,$05,$af218historia_19b:219 db 0,$10 OR 13220 221 db $09,$14,$00,$09,$13,$00,$0d,$19,$00,$17,$0f,$12,$8b223historia_20:224 db 0,$40 OR 14225 226 db $09,$00,$17,$01,$13,$0e,$30,$14,$00,$07,$0f,$09,$0e,$47227 db $14,$0f,$00,$13,$08,$0f,$17,$00,$0d,$59228 db $10,$0f,$17,$05,$12,$93230historia_21a:231 db 0,$10 OR 13232 233 db $17,$01,$09,$14,$2e,$00,$01,$12,$05,$00,$19,$0f,$55234 db $14,$08,$05,$00,$02,$01,$04,$00,$07,$15,$19,$af236historia_21b:237 db 0,$10 OR 14238 239 db $04,$0f,$00,$19,$0f,$15,$00,$08,$15,$12,$54240 db $05,$16,$05,$12,$19,$02,$0f,$04,$19,$af242historia_22:243 db 4,$50 OR 13244 245 db $04,$0f,$00,$19,$0f,$15,$00,$17,$01,$0e,$54246 db $14,$0f,$00,$13,$05,$45247 db $13,$0f,$0d,$05,$14,$08,$09,$0e,$47248 db $12,$05,$01,$0c,$0c,$19,$00,$13,$03,$01,$12,$19,$af250historia_23a:251 db 0,$10 OR 12252 253 db $17,$08,$01,$14,$00,$01,$00,$0e,$01,$13,$14,$59254 db $1a,$0f,$0d,$02,$09,$05,$ae256historia_23b:257 db 0,$10 OR 14258 259 db $13,$0f,$00,$0d,$01,$0e,$19,$00,$08,$01,$12,$0d,$05,$44260 db $09,$0e,$0e,$0f,$03,$05,$0e,$14,$13,$ae262historia_24:263 db 1,$20 OR 11264 265 db $0d,$09,$13,$13,$09,$0f,$4e266 db $03,$0f,$0d,$10,$0c,$05,$14,$05,$6e267 db $13,$03,$09,$05,$0e,$14,$09,$13,$14,$53268 db $12,$05,$13,$03,$15,$05,$04,$34,$3e,$bf270historia_25a:271 db 2,$10 OR 11272 273 db $09,$00,$04,$05,$13,$05,$12,$16,$45274 db $01,$00,$0d,$05,$04,$01,$8c276historia_25b:277 db 2,$10 OR 12278 279 db $09,$30,$0d,$00,$10,$12,$0f,$15,$04,$00,$0f,$46280 db $0d,$19,$13,$05,$0c,$06,$ae282historia_26a:283 db 0,$10 OR 12284 285 db $09,$00,$04,$09,$04,$0e,$30,$14,$00,$13,$01,$57286 db $01,$0e,$19,$02,$0f,$04,$99288historia_26b:289 db 0,$10 OR 7290 291 db $10,$05,$0F,$10,$0C,$05,$6f292 db $17,$08,$05,$12,$05,$af294historia_27:295 db 0,$20 OR 13296 297 db $09,$30,$16,$05,$00,$13,$05,$0e,$14,$00,$19,$0f,$55298 db $01,$00,$08,$05,$0c,$09,$03,$0f,$10,$14,$05,$92300historia_28a:301 db 5,$10 OR 10302 303 db $09,$30,$0c,$0c,$00,$02,$05,$00,$0f,$4e304 db $14,$09,$0d,$05,$00,$14,$4f305 db $17,$01,$14,$03,$08,$00,$14,$16,$ae307historia_28b:308 db 5,$10 OR 12309 310 db $09,$30,$16,$05,$00,$14,$0f,$00,$06,$05,$05,$44311 db $0d,$19,$00,$03,$01,$14,$93313mensaje_14: 314 db $00,$01,$00,$07,$01,$0d,$05,$00,$02,$99316mensaje_21: 317 db $14,$08,$05,$00,$13,$14,$0f,$12,$19,$00,$13,$0f,$00,$06,$01,$92319mensaje_22: 320 db $14,$08,$05,$00,$13,$10,$05,$03,$09,$01,$0c,$00,$14,$05,$01,$0d321 db $00,$12,$05,$03,$05,$09,$16,$05,$04,$00,$01,$00,$13,$0f,$53322 db $40 323 db $03,$01,$0c,$0c,$00,$06,$12,$0f,$0d,$00,$14,$08,$05,$00324 db $07,$0f,$16,$05,$12,$0e,$0d,$05,$0e,$14,$00,$0c,$01,$02,$53325 db $40326 db $40 327 db $13,$0f,$0d,$05,$14,$08,$09,$0e,$07,$00,$17,$05,$09,$12,$04,$00328 db $08,$01,$13,$00,$08,$01,$10,$10,$05,$0e,$05,$44329 db $40 330 db $13,$0f,$0d,$05,$14,$08,$09,$0e,$07,$00,$01,$02,$0f,$15,$14,$00331 db $1a,$0f,$0d,$02,$09,$05,$53332 db $40333 db $40 334 db $02,$05,$06,$0f,$12,$05,$00,$14,$08,$05,$19,$00335 db $03,$0f,$15,$0c,$04,$00,$12,$05,$03,$05,$09,$16,$45336 db $40 337 db $0d,$0f,$12,$05,$00,$09,$0e,$06,$0f,$12,$0d,$01,$14,$09,$0f,$0e338 db $00,$14,$08,$05,$00,$0d,$05,$13,$13,$01,$07,$45339 db $40 340 db $13,$15,$04,$04,$05,$0e,$0c,$19,$00,$13,$14,$0f,$10,$53341 db $40342 db $40 343 db $17,$09,$0c,$0c,$00344 db $04,$05,$0c,$14,$01,$34,$21,$00,$01,$0e,$04,$00345 db $04,$05,$0c,$14,$01,$34,$22,$00,$13,$15,$12,$16,$09,$16,$45346 db $40 347 db $14,$08,$09,$13,$00,$0d,$09,$13,$13,$09,$0f,$0e,$af349mensaje_23: 350 db $13,$03,$09,$05,$0e,$14,$09,$13,$94351mensaje_24: 352 db $04,$09,$12,$05,$03,$14,$0f,$92353mensaje_25: 354 db $04,$05,$0c,$14,$41355 db $14,$05,$01,$0d,$30,$53356 db $0f,$10,$05,$12,$01,$14,$0f,$92357mensaje_26: 358 db $04,$05,$0c,$14,$01,$34,$a1359mensaje_27: 360 db $04,$05,$0c,$14,$01,$34,$a2362zw.asm5273 5274retrato_telefonista:5275 incbin "retrato3.dat"5277 5278retrato_delta_1:5279 incbin "retrato4.dat"5281 5282retrato_delta_2:5283 incbin "retrato5.dat"5285 5288retrato_investigadora2:5289 incbin "retrato8.dat"5291 5294retrato_jefe2a:5295 incbin "retrato9.dat"5297 5300retrato_jefe2b:5301 incbin "retrato10.dat"5303 5306logo_mio:5307 incbin "milogo.dat"5309graf_bitmap:5310 incbin "combina1.bin.plet5"5311graf_color:5312 incbin "combina2.bin.plet5"5313figuras_sprites:5314 incbin "combina3.bin.plet5"5315color_letras:5316 incbin "combina4.bin.plet5"5318logo_1:5319 incbin "logo1.bin.plet5"5320logo_2:5321 incbin "logo2.bin.plet5"5322fin_1:5323 incbin "fin1.bin.plet5"5324fin_2:5325 incbin "fin2.bin.plet5"5326 5327musica:5328 incbin "musica.bin.plet5"533053335335 ds $7ff8-$,$ff5336 db "26012015"5338 ORG $dc00,$dfB05340sprites:5341 RB 1285342sprites_especiales:5343 RB 16 5349 5352jug1: 5353jug1_x: RB 1 5354jug1_y: RB 1 5355jug1_s: RB 1 5356jug1_c: RB 1 5357jug1_r: RB 1 5358jug1_n: RB 1 5359jug1_l: RB 1 5360jug1_e: RB 1 5361jug1_a: RB 1 5362jug1_p: RB 3 5363jug1_o: RB 2 5364jug1_f: RB 1 5365jug1_g: RB 1 5366jug1_d: RB 2 5367jug1_m: RB 2 5368jug1_v: RB 1 5369 RB 1 5370 RB 2 5371 RB 3 5372 RB 1 5373 RB 2 5374 RB 2 5375 RB 2 5376 RB 1 5377 RB 1 5378 RB 1 5379 RB 1 5380 RB 2 5381 RB 2 5382 RB 1 5383 RB 1 5384 RB 1 5386jug2: 5387 RB 455389monigotes: 5390 RB (MAX_MONIGOTES*2)*165392 5395nivel1: RB 12*6 5396nivel2: RB 12*6 5398 5406bits1: RB 51 5407bits2: RB 51 5409salva_puntos: RB 25411 5414ticks: RB 25415frec_video: RB 15416ciclo: RB 15418 5429modo: RB 15430offset: RB 2 5431hist_tem: RB 1 5432nmi: RB 1 5434 5439ef_voz1: RB 2 5440ef_voz2: RB 2 5441ef_voz3: RB 2 5442ef_ruido: RB 1 5443ef_mezc: RB 1 5444ef_vol1: RB 1 5445ef_vol2: RB 1 5446ef_vol3: RB 1 5447ef_envo: RB 2 5448ef_envm: RB 1 5449ef_jeje: RB 1 5450ef_cont: RB 1 5452ef_band: RB 1 5453ef_ritmo: RB 1 5454ef_cont1: RB 1 5455ef_cont2: RB 1 5456ef_cont3: RB 1 5457ef_frec3: RB 2 5458ef_cont4: RB 1 5459ef_frec4: RB 2 5460ef_cont5: RB 1 5461ef_frec5: RB 2 5462ef_cont6: RB 1 5463ef_frec6: RB 2 5464ef_frec7: RB 2 5465ef_frec8: RB 2 5466ef_cont7: RB 1 5467ef_cont8: RB 1 5468ef_cont9: RB 1 5469ef_frec9: RB 2 5470ef_tipo9: RB 1 5471ef_cont10: RB 1 5472ef_frec10: RB 2 5473ef_cont11: RB 1 5474ef_inicio: RB 2 5475ef_ap: RB 2 5476ef_t: RB 1 5477ef_ta: RB 1 5478ef_cn: RB 1 5479ef_n: RB 1 5480ef_b: RB 1 5481ef_ac1: RB 1 5482ef_ac2: RB 1 5483ef_ac3: RB 1 5484ef_env: RB 1 5485ef_tamb: RB 1 5487ganado: RB 1 5488record: RB 3 5489quien: RB 1 5491 ORG $e0005492PILA: 5494